import{G as e,H as a,J as s,K as t,M as o,O as r,P as n,Q as i,S as l,T as c,U as m,V as d,W as h,X as b,Y as f,Z as x,_ as y,$ as p,a0 as u,a1 as g,a2 as _,a3 as j,a4 as k,a5 as v,a6 as w,a7 as S}from"./index-DkjBQKWm.js";import{u as N,A as C,R as I,a as P,C as T}from"./useMarimoWebSocket-G6zj6f3A.js";import"./feature-flag-BZrqixC-.js";const A=n=>{const l=e(14),{appConfig:c}=n,{setCells:m}=a();let d,h,b;l[0]===Symbol.for("react.memo_cache_sentinel")?(d=[],l[0]=d):d=l[0],s.useEffect(W,d),l[1]===Symbol.for("react.memo_cache_sentinel")?(h=i(),l[1]=h):h=l[1],l[2]!==m?(b={autoInstantiate:!0,setCells:m,sessionId:h},l[2]=m,l[3]=b):b=l[3];const{connection:f}=N(b),x=t(o);let y,p,u;return l[4]!==f?(y=r.jsx(P,{connection:f,className:"sm:pt-8"}),l[4]=f,l[5]=y):y=l[5],l[6]!==c?(p=r.jsx(T,{appConfig:c,mode:"read"}),l[6]=c,l[7]=p):p=l[7],l[8]!==f||l[9]!==x||l[10]!==c.width||l[11]!==y||l[12]!==p?(u=r.jsxs(C,{connection:f,isRunning:x,width:c.width,children:[y,p]}),l[8]=f,l[9]=x,l[10]=c.width,l[11]=y,l[12]=p,l[13]=u):u=l[13],u};function E(){I.INSTANCE.stop()}function W(){return I.INSTANCE.start(n),E}const R=()=>{const a=e(4);if(!l())return null;let s;a[0]===Symbol.for("react.memo_cache_sentinel")?(s=c(),a[0]=s):s=a[0];const t=s;if(!t)return null;let o,n,i;return a[1]===Symbol.for("react.memo_cache_sentinel")?(o=r.jsx("a",{href:h.githubPage,target:"_blank",className:"underline",rel:"noreferrer",children:"marimo"}),a[1]=o):o=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(n=r.jsxs("span",{children:["This is a static Python notebook built using"," ",o,".",r.jsx("br",{}),"Some interactive features may not work, see ways to run or edit this."]}),a[2]=n):n=a[2],a[3]===Symbol.for("react.memo_cache_sentinel")?(i=r.jsxs("div",{className:"px-4 py-2 bg-[var(--sky-2)] border-b border-[var(--sky-7)] text-md text-[var(--sky-11)] font-semibold flex justify-between items-center gap-4 no-print",children:[n,r.jsx("span",{className:"flex-shrink-0",children:r.jsx(D,{code:t})})]}),a[3]=i):i=a[3],i},D=a=>{const s=e(81),{code:t}=a;let o;if(s[0]===Symbol.for("react.memo_cache_sentinel")){o=m()||"notebook.py";const e=o.lastIndexOf("/");-1!==e&&(o=o.slice(e+1)),s[0]=o}else o=s[0];const n=window.location.href;let i,l,c,S,N,C,I,P,T,A,E,W,R,D,F,M,O,Y,z,B,G,H,J,K,Q,U,V,X,Z,$,q,L,ee,ae,se,te,oe;if(s[1]!==t){const e=d({code:t});let a;H=b,s[25]===Symbol.for("react.memo_cache_sentinel")?(J=r.jsx(f,{asChild:!0,children:r.jsx(x,{"data-testid":"static-notebook-dialog-trigger",variant:"secondary",children:"Run or edit this notebook"})}),s[25]=J):J=s[25],G=y,z=p,s[26]===Symbol.for("react.memo_cache_sentinel")?(B=r.jsx(u,{children:o}),s[26]=B):B=s[26],C=g,I="pt-4 text-md text-left",P="This is a static notebook built using",T=" ",s[27]===Symbol.for("react.memo_cache_sentinel")?(A=r.jsx("a",{href:h.githubPage,target:"_blank",className:"text-link hover:underline",rel:"noreferrer",children:"marimo"}),s[27]=A):A=s[27],E=". marimo is an open-source next-generation Python notebook.",s[28]===Symbol.for("react.memo_cache_sentinel")?(W=r.jsx("hr",{className:"my-3"}),s[28]=W):W=s[28],R="In order to edit this notebook, you will need to download the code locally, install marimo, and run the following in your terminal:",s[29]===Symbol.for("react.memo_cache_sentinel")?(a=r.jsx("br",{}),s[29]=a):a=s[29],s[30]===Symbol.for("react.memo_cache_sentinel")?(D=r.jsxs("div",{className:"font-mono text-sm bg-[var(--sky-2)] rounded-md my-3 p-2 border border-[var(--sky-7)]",children:["pip install marimo",a,"marimo edit ",o]}),F=!n.endsWith(".html")&&r.jsxs(r.Fragment,{children:["or",r.jsxs("div",{className:"font-mono text-sm bg-[var(--sky-2)] rounded-md my-3 p-2 border border-[var(--sky-7)] break-all",children:["marimo edit ",window.location.href]})]}),M=r.jsx("hr",{className:"my-3"}),s[30]=D,s[31]=F,s[32]=M):(D=s[30],F=s[31],M=s[32]),O="You may also be able to run this notebook entirely in the browser via WebAssembly at:",Y=" ",i=e,l="_blank",c="text-link hover:underline",S="noreferrer",N=e.slice(0,40),s[1]=t,s[2]=i,s[3]=l,s[4]=c,s[5]=S,s[6]=N,s[7]=C,s[8]=I,s[9]=P,s[10]=T,s[11]=A,s[12]=E,s[13]=W,s[14]=R,s[15]=D,s[16]=F,s[17]=M,s[18]=O,s[19]=Y,s[20]=z,s[21]=B,s[22]=G,s[23]=H,s[24]=J}else i=s[2],l=s[3],c=s[4],S=s[5],N=s[6],C=s[7],I=s[8],P=s[9],T=s[10],A=s[11],E=s[12],W=s[13],R=s[14],D=s[15],F=s[16],M=s[17],O=s[18],Y=s[19],z=s[20],B=s[21],G=s[22],H=s[23],J=s[24];return s[33]!==i||s[34]!==l||s[35]!==c||s[36]!==S||s[37]!==N?(K=r.jsxs("a",{href:i,target:l,className:c,rel:S,children:[N,"..."]}),s[33]=i,s[34]=l,s[35]=c,s[36]=S,s[37]=N,s[38]=K):K=s[38],s[39]===Symbol.for("react.memo_cache_sentinel")?(Q=r.jsx("br",{}),s[39]=Q):Q=s[39],s[40]===Symbol.for("react.memo_cache_sentinel")?(U=r.jsxs("div",{className:"text-sm text-muted-foreground pt-2",children:[r.jsx("strong",{children:"Note:"})," This feature is experimental and may not work for all notebooks. Additionally, some dependencies may not be available in the browser."]}),s[40]=U):U=s[40],s[41]!==C||s[42]!==I||s[43]!==P||s[44]!==T||s[45]!==A||s[46]!==E||s[47]!==W||s[48]!==R||s[49]!==D||s[50]!==F||s[51]!==M||s[52]!==O||s[53]!==Y||s[54]!==K?(V=r.jsxs(C,{className:I,children:[P,T,A,E,W,R,D,F,M,O,Y,K,Q,U]}),s[41]=C,s[42]=I,s[43]=P,s[44]=T,s[45]=A,s[46]=E,s[47]=W,s[48]=R,s[49]=D,s[50]=F,s[51]=M,s[52]=O,s[53]=Y,s[54]=K,s[55]=V):V=s[55],s[56]!==z||s[57]!==B||s[58]!==V?(X=r.jsxs(z,{children:[B,V]}),s[56]=z,s[57]=B,s[58]=V,s[59]=X):X=s[59],s[60]!==t?(Z=async()=>{await _(t),j({title:"Copied to clipboard"})},s[60]=t,s[61]=Z):Z=s[61],s[62]===Symbol.for("react.memo_cache_sentinel")?($=r.jsx(k,{className:"w-4 h-4 mr-1"}),s[62]=$):$=s[62],s[63]!==Z?(q=r.jsxs(x,{"data-testid":"copy-static-notebook-dialog-button",variant:"secondary",onClick:Z,children:[$,"Copy code"]}),s[63]=Z,s[64]=q):q=s[64],s[65]!==t?(L=()=>{v(new Blob([t],{type:"text/plain"}),o)},s[65]=t,s[66]=L):L=s[66],s[67]===Symbol.for("react.memo_cache_sentinel")?(ee=r.jsx(w,{className:"w-4 h-4 mr-1"}),s[67]=ee):ee=s[67],s[68]!==L?(ae=r.jsxs(x,{"data-testid":"download-static-notebook-dialog-button",variant:"secondary",onClick:L,children:[ee,"Download code"]}),s[68]=L,s[69]=ae):ae=s[69],s[70]!==q||s[71]!==ae?(se=r.jsxs("div",{className:"flex gap-4 flex-wrap",children:[q,ae]}),s[70]=q,s[71]=ae,s[72]=se):se=s[72],s[73]!==G||s[74]!==X||s[75]!==se?(te=r.jsxs(G,{children:[X,se]}),s[73]=G,s[74]=X,s[75]=se,s[76]=te):te=s[76],s[77]!==H||s[78]!==J||s[79]!==te?(oe=r.jsxs(H,{children:[J,te]}),s[77]=H,s[78]=J,s[79]=te,s[80]=oe):oe=s[80],oe},F=S()||l(),M=a=>{const s=e(6);let t,o,n,i;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.jsx(R,{}),s[0]=t):t=s[0],s[1]!==a.appConfig?(o=r.jsx(A,{appConfig:a.appConfig}),s[1]=a.appConfig,s[2]=o):o=s[2],s[3]===Symbol.for("react.memo_cache_sentinel")?(n=F&&r.jsx(O,{}),s[3]=n):n=s[3],s[4]!==o?(i=r.jsxs(r.Fragment,{children:[t,o,n]}),s[4]=o,s[5]=i):i=s[5],i},O=()=>{const a=e(1);let s;return a[0]===Symbol.for("react.memo_cache_sentinel")?(s=r.jsx("div",{className:"fixed bottom-0 right-0 z-50",children:r.jsxs("a",{href:h.githubPage,target:"_blank",className:"text-sm text-[var(--grass-11)] font-bold tracking-wide transition-colors bg-[var(--grass-4)] hover:bg-[var(--grass-5)] border-t border-l border-[var(--grass-8)] px-3 py-1 rounded-tl-md flex items-center gap-2",rel:"noreferrer",children:[r.jsx("span",{className:"pb-[2px]",children:"made with marimo"}),r.jsx("img",{src:"./favicon.ico",alt:"marimo",className:"h-4 w-auto"})]})}),a[0]=s):s=a[0],s};export{M as default};
