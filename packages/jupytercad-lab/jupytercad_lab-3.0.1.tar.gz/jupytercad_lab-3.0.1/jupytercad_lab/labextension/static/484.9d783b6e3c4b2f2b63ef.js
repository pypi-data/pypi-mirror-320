"use strict";(self.webpackChunk_jupytercad_jupytercad_lab=self.webpackChunk_jupytercad_jupytercad_lab||[]).push([[484],{484:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var o=a(824),r=a(282),d=a(161),n=a(862),i=a(589),s=a(458),l=a(498),c=a(230),u=a(256),g=a(955);class p extends g.JupyterYModel{}class y extends u.Panel{constructor(e){super(),this.onResize=()=>{this._jcadWidget&&c.MessageLoop.sendMessage(this._jcadWidget,u.Widget.ResizeMessage.UnknownSize)},this.addClass("jupytercad-notebook-widget"),this._jcadWidget=new o.JupyterCadPanel(e),this.addWidget(this._jcadWidget)}}const M={id:"jupytercad:yjswidget-plugin",autoStart:!0,requires:[r.IJCadWorkerRegistryToken],optional:[g.IJupyterYWidgetManager,l.ICollaborativeDrive],activate:(e,t,a,o)=>{a?o?a.registerWidget("@jupytercad:widget",class extends p{ydocFactory(e){const{path:t,format:a,contentType:d}=e,n=a,i=o.sharedModelFactory.createNew({path:t,format:n,contentType:d,collaborative:!0});return this.jupyterCADModel=new r.JupyterCadModel({sharedModel:i}),this.jupyterCADModel.sharedModel.ydoc}},class{constructor(e,a){this.yModel=e,this.node=a;const o=new y({model:e.jupyterCADModel,workerRegistry:t});c.MessageLoop.sendMessage(o,u.Widget.Msg.BeforeAttach),a.appendChild(o.node),c.MessageLoop.sendMessage(o,u.Widget.Msg.AfterAttach)}}):console.error("Missing ICollaborativeDrive token!"):console.error("Missing IJupyterYWidgetManager token!")}};var h=a(200);const C="jupytercad",m=[{id:"jupytercad:lab:main-menu",autoStart:!0,requires:[r.IJupyterCadDocTracker,r.IJCadFormSchemaRegistryToken,r.IJCadWorkerRegistryToken],optional:[i.IMainMenu,s.ITranslator,n.ICompletionProviderManager],activate:(e,t,a,r,d,n,i)=>{console.log("jupytercad:lab:main-menu is activated!"),n=null!=n?n:s.nullTranslator;(0,o.addCommands)(e,t,n,a,r,i),d&&function(e,t){e.fileMenu.addItem({command:o.CommandIDs.exportJcad}),e.editMenu.undoers.redo.add({id:o.CommandIDs.redo,isEnabled:t}),e.editMenu.undoers.undo.add({id:o.CommandIDs.undo,isEnabled:t})}(d,(()=>null!==t.currentWidget&&t.currentWidget===e.shell.currentWidget))}},{id:"jupytercad:lab:controlpanel",autoStart:!0,requires:[d.ILayoutRestorer,r.IJupyterCadDocTracker,r.IAnnotationToken,r.IJCadFormSchemaRegistryToken],optional:[l.ICollaborativeDrive,h.IForkManagerToken],activate:(e,t,a,r,d,n,i)=>{const s=new o.ControlPanelModel({tracker:a}),l=new o.LeftPanelWidget({model:s,tracker:a,formSchemaRegistry:d});l.id="jupytercad::leftControlPanel",l.title.caption="JupyterCad Control Panel",l.title.icon=o.logoIcon;const c=new o.RightPanelWidget({model:s,tracker:a,annotationModel:r,forkManager:i,collaborativeDrive:n});c.id="jupytercad::rightControlPanel",c.title.caption="JupyterCad Control Panel",c.title.icon=o.logoIcon,t&&(t.add(l,C),t.add(c,C)),e.shell.add(l,"left",{rank:2e3}),e.shell.add(c,"right",{rank:2e3,activate:!1})}},M]}}]);