import{u as N,Q as A}from"./use-meta-CEJImM10.js";import{l as B,t as I,v as T}from"./QItemLabel-C99QOY4M.js";import{a as z,Q}from"./QBtnGroup-BbgJKj6g.js";import{a as C,r,o as U,w,Z as v,_ as h,a1 as a,a2 as s,C as P,a4 as g,a0 as c,a3 as b,a8 as p,$ as V,am as M,ac as R,aj as D,e as F,a6 as G}from"./index-BoD5abIO.js";import{Q as K,a as L,b as E}from"./QTable-4OGahaVa.js";import{get as H}from"./axios-DFDsbU6y.js";import{u as O}from"./vue-i18n.runtime-FF7PLPb5.js";const W={class:"q-pa-md"},Z={key:0},J={key:1},X={__name:"UserList",setup($){const{t:e}=O(),i=B(),_=C(()=>[{name:"username",required:!0,label:e("username"),align:"left",field:"username",sortable:!0},{name:"email",align:"center",label:e("email"),field:"email",sortable:!0},{name:"date_joined",label:e("date_joined"),field:"date_joined",sortable:!0},{name:"last_login",label:e("last_login"),field:"last_login",sortable:!0},{name:"updated_time",label:e("updated_time"),field:"updated_time",sortable:!0},{name:"action",label:e("action"),align:"right"}]),d=r([]),f=r(""),o=r({sortBy:"username",descending:!1,page:1,rowsPerPage:1,rowsNumber:1}),k=C(()=>Math.ceil(d.value.length/o.value.rowsPerPage)),q=r(i.screen.height*.73+"px"),S=r(i.screen.width*.825+"px"),y=r(i.dark.isActive?"#121212":"#ffffff");function m(l){H("core/user/").then(t=>{d.value=t.results}).catch(t=>(console.error(t),Promise.reject(t))),console.log(l),o.value=l.pagination}function j(l){console.log("pageChange",l)}function x(l){return console.log("PermissionCheck",l),!0}return U(()=>{m({pagination:o.value})}),w(()=>i.dark.isActive,l=>{y.value=l?"#121212":"#ffffff"}),w(()=>o.value,l=>{console.log("watch",l)}),(l,t)=>(v(),h("div",W,[a(E,{class:D(c(i).dark.isActive?"my-sticky-header-last-column-table-dark":"my-sticky-header-last-column-table"),flat:"",bordered:"",rows:d.value,columns:_.value,"row-key":"name",pagination:o.value,separator:"cell","no-data-label":c(e)("nodata"),"rows-per-page-label":c(e)("per_page"),"rows-per-page-options":[1,10,30,50,200,0],"table-style":{height:q.value,width:S.value},"card-style":{backgroundColor:y.value},onRequest:m},{top:s(n=>[a(z,{push:""},{default:s(()=>[P(a(g,{label:c(e)("refresh"),icon:"refresh",onClick:t[0]||(t[0]=u=>m({pagination:o.value}))},{default:s(()=>[a(Q,{"content-class":"bg-amber text-black shadow-4",offset:[10,10],"content-style":"font-size: 12px"},{default:s(()=>[b(p(c(e)("refresh")),1)]),_:1})]),_:1},8,["label"]),[[V,x("Get User List")]]),P(a(g,{label:c(e)("new"),icon:"add"},{default:s(()=>[a(Q,{"content-class":"bg-amber text-black shadow-4",offset:[10,10],"content-style":"font-size: 12px"},{default:s(()=>[b(p(c(e)("new")),1)]),_:1})]),_:1},8,["label"]),[[V,x("Create One User")]])]),_:1}),b(" "+p(k.value)+" ",1),a(I),a(T,{borderless:"",dense:"",debounce:"300",color:"primary",modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=u=>f.value=u),onInput:t[2]||(t[2]=u=>m({pagination:o.value})),onKeyup:t[3]||(t[3]=M(u=>m({pagination:o.value}),["enter"]))},{append:s(()=>[a(R,{name:"search"})]),_:1},8,["modelValue"]),a(g,{flat:"",round:"",dense:"",icon:n.inFullscreen?"fullscreen_exit":"fullscreen",onClick:n.toggleFullscreen},null,8,["icon","onClick"])]),"body-cell":s(n=>[a(K,{props:n},{default:s(()=>[n.col.name==="action"?(v(),h("div",Z,[a(g,{icon:"delete_sweep"})])):(v(),h("div",J,p(n.value),1))]),_:2},1032,["props"])]),pagination:s(n=>[b(p(n)+" ",1),a(L,{modelValue:n.pagination.page,"onUpdate:modelValue":[u=>n.pagination.page=u,u=>j(n)],max:n.pagesNumber,input:"","input-class":"text-orange-10"},null,8,["modelValue","onUpdate:modelValue","max"])]),_:1},8,["class","rows","columns","pagination","no-data-label","rows-per-page-label","table-style","card-style"])]))}},se={__name:"UserReader",setup($){const e=B(),i=r(!1),_=r(""),d=r(""),f=r("");return N(()=>({title:_.value,meta:{description:{name:"description",content:d.value},keywords:{name:"keywords",content:f.value}}})),U(()=>{}),F(()=>{}),w(()=>e.dark.isActive,o=>{i.value=o}),(o,k)=>(v(),G(A,{class:"flex flex-top"},{default:s(()=>[a(X)]),_:1}))}};export{se as default};
