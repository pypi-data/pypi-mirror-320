import{u as C,Q as q}from"./use-meta-BCr-wnjm.js";import{z as x,G as U,H as j}from"./QItemLabel-Cb1cxb12.js";import{a as w,r as o,l as Q,w as b,Z as m,_ as g,a1 as l,a2 as i,a4 as y,ac as A,a8 as f,a3 as N,aj as S,a0 as _,o as $,a6 as I}from"./index-CVpfSKMY.js";import{Q as M,a as R,b as T}from"./QTable-R3Bwrr2y.js";import{get as z}from"./axios-C6exbX5O.js";import{u as F}from"./vue-i18n.runtime-BoD7D6tD.js";const H={class:"q-pa-md"},D={key:0},E={key:1},G={__name:"UserList",setup(V){const{t:a}=F(),n=x(),p=w(()=>[{name:"username",required:!0,label:a("username"),align:"left",field:"username",sortable:!0},{name:"email",align:"center",label:a("email"),field:"email",sortable:!0},{name:"date_joined",label:a("date_joined"),field:"date_joined",sortable:!0},{name:"last_login",label:a("last_login"),field:"last_login",sortable:!0},{name:"updated_time",label:a("updated_time"),field:"updated_time",sortable:!0},{name:"action",label:a("action"),align:"right"}]),c=o([]),s=o({sortBy:"username",descending:!1,page:1,rowsPerPage:1,rowsNumber:1}),u=w(()=>Math.ceil(c.value.length/s.value.rowsPerPage)),v=o(n.screen.height*.73+"px"),P=o(n.screen.width*.825+"px"),h=o(n.dark.isActive?"#121212":"#ffffff");function k(t){z("core/user/").then(r=>{c.value=r.results}).catch(r=>(console.error(r),Promise.reject(r))),console.log(t),s.value=t.pagination}function B(t){console.log(t)}return Q(()=>{k({pagination:s.value})}),b(()=>n.dark.isActive,t=>{h.value=t?"#121212":"#ffffff"}),b(()=>s.value,t=>{console.log(t)}),(t,r)=>(m(),g("div",H,[l(T,{class:S(_(n).dark.isActive?"my-sticky-header-last-column-table-dark":"my-sticky-header-last-column-table"),flat:"",bordered:"",rows:c.value,columns:p.value,"row-key":"name",pagination:s.value,separator:"cell","no-data-label":_(a)("nodata"),"rows-per-page-label":_(a)("per_page"),"rows-per-page-options":[1,10,30,50,200,0],"table-style":{height:v.value,width:P.value},"card-style":{backgroundColor:h.value},onRequest:k},{top:i(e=>[l(y,{color:"primary",label:"Add row"}),l(U),l(j,{borderless:"",dense:"",debounce:"300",color:"primary",modelValue:u.value,"onUpdate:modelValue":r[0]||(r[0]=d=>u.value=d)},{append:i(()=>[l(A,{name:"search"})]),_:1},8,["modelValue"]),l(y,{flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen",onClick:e.toggleFullscreen},null,8,["icon","onClick"])]),"body-cell":i(e=>[l(M,{props:e},{default:i(()=>[e.col.name==="action"?(m(),g("div",D,f(e.value),1)):(m(),g("div",E,f(e.value),1))]),_:2},1032,["props"])]),pagination:i(e=>[N(f(e)+" ",1),l(R,{modelValue:e.pagination.page,"onUpdate:modelValue":[d=>e.pagination.page=d,d=>B(e)],max:e.pagesNumber,input:"","input-class":"text-orange-10"},null,8,["modelValue","onUpdate:modelValue","max"])]),_:1},8,["class","rows","columns","pagination","no-data-label","rows-per-page-label","table-style","card-style"])]))}},X={__name:"UserReader",setup(V){const a=x(),n=o(!1),p=o(""),c=o(""),s=o("");return C(()=>({title:p.value,meta:{description:{name:"description",content:c.value},keywords:{name:"keywords",content:s.value}}})),Q(()=>{}),$(()=>{}),b(()=>a.dark.isActive,u=>{n.value=u}),(u,v)=>(m(),I(q,{class:"flex flex-top"},{default:i(()=>[l(G)]),_:1}))}};export{X as default};
