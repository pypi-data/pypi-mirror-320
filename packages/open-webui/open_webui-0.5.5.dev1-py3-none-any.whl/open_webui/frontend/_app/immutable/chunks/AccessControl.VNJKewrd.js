import{s as Oe,e as h,t as Q,k as U,c as v,a as _,b as J,d as c,o as z,I as we,f as n,C as te,i as q,g as i,P as se,u as de,h as K,p as Te,j as Ne,q as je,O as Ae,Q as Ce,n as ve,R as Pe,E as re,F as ae,l as Ee}from"./scheduler.BUEsFZp5.js";import{S as Se,i as Be,t as M,g as pe,a as X,c as me,b as oe,d as ne,m as ie,e as ce}from"./index.DMbsBxcm.js";import{e as ue}from"./each.CzsD_kOT.js";import{g as Ge,U as Me}from"./UserCircleSolid.DjI_J1nX.js";import{T as $e}from"./Tooltip.iKnGJCvs.js";import{P as Le}from"./Plus.Cayr97sv.js";import{X as Ue}from"./XMark.BmNInX4o.js";function Ie(a,e,t){const s=a.slice();return s[12]=e[t],s}function Ve(a,e,t){const s=a.slice();return s[12]=e[t],s}function he(a){const e=a.slice(),t=e[2].filter(s=>e[0].read.group_ids.includes(s.id));return e[11]=t,e}function ze(a){let e,t;return{c(){e=re("svg"),t=re("path"),this.h()},l(s){e=ae(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=_(e);t=ae(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(t).forEach(c),r.forEach(c),this.h()},h(){n(t,"stroke-linecap","round"),n(t,"stroke-linejoin","round"),n(t,"d","M6.115 5.19l.319 1.913A6 6 0 008.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 002.288-4.042 1.087 1.087 0 00-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 01-.98-.314l-.295-.295a1.125 1.125 0 010-1.591l.13-.132a1.125 1.125 0 011.3-.21l.603.302a.809.809 0 001.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 001.528-1.732l.146-.292M6.115 5.19A9 9 0 1017.18 4.64M6.115 5.19A8.965 8.965 0 0112 3c1.929 0 3.716.607 5.18 1.64"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"fill","none"),n(e,"viewBox","0 0 24 24"),n(e,"stroke-width","1.5"),n(e,"stroke","currentColor"),n(e,"class","w-5 h-5")},m(s,r){q(s,e,r),i(e,t)},d(s){s&&c(e)}}}function qe(a){let e,t;return{c(){e=re("svg"),t=re("path"),this.h()},l(s){e=ae(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=_(e);t=ae(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(t).forEach(c),r.forEach(c),this.h()},h(){n(t,"stroke-linecap","round"),n(t,"stroke-linejoin","round"),n(t,"d","M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"fill","none"),n(e,"viewBox","0 0 24 24"),n(e,"stroke-width","1.5"),n(e,"stroke","currentColor"),n(e,"class","w-5 h-5")},m(s,r){q(s,e,r),i(e,t)},d(s){s&&c(e)}}}function He(a){let e=a[3].t("Accessible to all users")+"",t;return{c(){t=Q(e)},l(s){t=J(s,e)},m(s,r){q(s,t,r)},p(s,r){r&8&&e!==(e=s[3].t("Accessible to all users")+"")&&K(t,e)},d(s){s&&c(t)}}}function Re(a){let e=a[3].t("Only select users and groups with permission can access")+"",t;return{c(){t=Q(e)},l(s){t=J(s,e)},m(s,r){q(s,t,r)},p(s,r){r&8&&e!==(e=s[3].t("Only select users and groups with permission can access")+"")&&K(t,e)},d(s){s&&c(t)}}}function ye(a){let e,t,s,r,d=a[3].t("Groups")+"",l,o,u,k,V,x,I,C,m,E,j,A,g,w,P=a[3].t("Select a group")+"",S,H,$,B,L,G,Z;const W=[Fe,Xe],O=[];function y(f,D){return f[11].length>0?0:1}k=y(a),V=O[k]=W[k](a);let b=ue(a[2].filter(a[8])),p=[];for(let f=0;f<b.length;f+=1)p[f]=xe(Ie(a,b,f));return B=new $e({props:{content:a[3].t("Add Group"),$$slots:{default:[Qe]},$$scope:{ctx:a}}}),{c(){e=h("div"),t=h("div"),s=h("div"),r=h("div"),l=Q(d),o=U(),u=h("div"),V.c(),x=U(),I=h("hr"),C=U(),m=h("div"),E=h("div"),j=h("div"),A=h("div"),g=h("select"),w=h("option"),S=Q(P);for(let f=0;f<p.length;f+=1)p[f].c();H=U(),$=h("div"),oe(B.$$.fragment),this.h()},l(f){e=v(f,"DIV",{});var D=_(e);t=v(D,"DIV",{class:!0});var T=_(t);s=v(T,"DIV",{class:!0});var F=_(s);r=v(F,"DIV",{class:!0});var N=_(r);l=J(N,d),N.forEach(c),F.forEach(c),o=z(T),u=v(T,"DIV",{class:!0});var R=_(u);V.l(R),R.forEach(c),T.forEach(c),x=z(D),I=v(D,"HR",{class:!0}),C=z(D),m=v(D,"DIV",{class:!0});var Y=_(m);E=v(Y,"DIV",{class:!0});var ee=_(E);j=v(ee,"DIV",{class:!0});var le=_(j);A=v(le,"DIV",{class:!0});var ge=_(A);g=v(ge,"SELECT",{class:!0});var fe=_(g);w=v(fe,"OPTION",{class:!0});var be=_(w);S=J(be,P),be.forEach(c);for(let _e=0;_e<p.length;_e+=1)p[_e].l(fe);fe.forEach(c),ge.forEach(c),H=z(le),$=v(le,"DIV",{});var ke=_($);ne(B.$$.fragment,ke),ke.forEach(c),le.forEach(c),ee.forEach(c),Y.forEach(c),D.forEach(c),this.h()},h(){n(r,"class","text-sm font-semibold"),n(s,"class","flex justify-between mb-1.5"),n(u,"class","flex flex-col gap-2"),n(t,"class",""),n(I,"class","my-2 border-black/5 dark:border-white/5"),n(w,"class","text-gray-700"),w.__value="",te(w,w.__value),w.disabled=!0,w.selected=!0,n(g,"class","outline-none bg-transparent text-sm font-medium rounded-lg block w-full pr-10 max-w-full dark:placeholder-gray-700"),a[1]===void 0&&Ae(()=>a[9].call(g)),n(A,"class","w-full"),n(j,"class","flex flex-1 items-center"),n(E,"class","flex w-full"),n(m,"class","mb-1")},m(f,D){q(f,e,D),i(e,t),i(t,s),i(s,r),i(r,l),i(t,o),i(t,u),O[k].m(u,null),i(e,x),i(e,I),i(e,C),i(e,m),i(m,E),i(E,j),i(j,A),i(A,g),i(g,w),i(w,S);for(let T=0;T<p.length;T+=1)p[T]&&p[T].m(g,null);se(g,a[1],!0),i(j,H),i(j,$),ie(B,$,null),L=!0,G||(Z=de(g,"change",a[9]),G=!0)},p(f,D){(!L||D&8)&&d!==(d=f[3].t("Groups")+"")&&K(l,d);let T=k;if(k=y(f),k===T?O[k].p(f,D):(pe(),X(O[T],1,1,()=>{O[T]=null}),me(),V=O[k],V?V.p(f,D):(V=O[k]=W[k](f),V.c()),M(V,1),V.m(u,null)),(!L||D&8)&&P!==(P=f[3].t("Select a group")+"")&&K(S,P),D&5){b=ue(f[2].filter(f[8]));let N;for(N=0;N<b.length;N+=1){const R=Ie(f,b,N);p[N]?p[N].p(R,D):(p[N]=xe(R),p[N].c(),p[N].m(g,null))}for(;N<p.length;N+=1)p[N].d(1);p.length=b.length}D&7&&se(g,f[1]);const F={};D&8&&(F.content=f[3].t("Add Group")),D&131075&&(F.$$scope={dirty:D,ctx:f}),B.$set(F)},i(f){L||(M(V),M(B.$$.fragment,f),L=!0)},o(f){X(V),X(B.$$.fragment,f),L=!1},d(f){f&&c(e),O[k].d(),Ce(p,f),ce(B),G=!1,Z()}}}function Xe(a){let e,t,s=a[3].t("No groups with access, add a group to grant access")+"",r;return{c(){e=h("div"),t=h("div"),r=Q(s),this.h()},l(d){e=v(d,"DIV",{class:!0});var l=_(e);t=v(l,"DIV",{class:!0});var o=_(t);r=J(o,s),o.forEach(c),l.forEach(c),this.h()},h(){n(t,"class","text-gray-500 text-xs text-center py-2 px-10"),n(e,"class","flex items-center justify-center")},m(d,l){q(d,e,l),i(e,t),i(t,r)},p(d,l){l&8&&s!==(s=d[3].t("No groups with access, add a group to grant access")+"")&&K(r,s)},i:ve,o:ve,d(d){d&&c(e)}}}function Fe(a){let e,t,s=ue(a[11]),r=[];for(let l=0;l<s.length;l+=1)r[l]=De(Ve(a,s,l));const d=l=>X(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ee()},l(l){for(let o=0;o<r.length;o+=1)r[o].l(l);e=Ee()},m(l,o){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(l,o);q(l,e,o),t=!0},p(l,o){if(o&5){s=ue(l[11]);let u;for(u=0;u<s.length;u+=1){const k=Ve(l,s,u);r[u]?(r[u].p(k,o),M(r[u],1)):(r[u]=De(k),r[u].c(),M(r[u],1),r[u].m(e.parentNode,e))}for(pe(),u=s.length;u<r.length;u+=1)d(u);me()}},i(l){if(!t){for(let o=0;o<s.length;o+=1)M(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)X(r[o]);t=!1},d(l){l&&c(e),Ce(r,l)}}}function De(a){let e,t,s,r,d,l,o=a[12].name+"",u,k,V,x,I,C,m,E,j;r=new Me({props:{className:"size-4"}}),I=new Ue({});function A(){return a[7](a[12])}return{c(){e=h("div"),t=h("div"),s=h("div"),oe(r.$$.fragment),d=U(),l=h("div"),u=Q(o),k=U(),V=h("div"),x=h("button"),oe(I.$$.fragment),C=U(),this.h()},l(g){e=v(g,"DIV",{class:!0});var w=_(e);t=v(w,"DIV",{class:!0});var P=_(t);s=v(P,"DIV",{});var S=_(s);ne(r.$$.fragment,S),S.forEach(c),d=z(P),l=v(P,"DIV",{});var H=_(l);u=J(H,o),H.forEach(c),P.forEach(c),k=z(w),V=v(w,"DIV",{class:!0});var $=_(V);x=v($,"BUTTON",{class:!0,type:!0});var B=_(x);ne(I.$$.fragment,B),B.forEach(c),$.forEach(c),C=z(w),w.forEach(c),this.h()},h(){n(t,"class","flex items-center gap-1.5 w-full font-medium"),n(x,"class","rounded-full p-1 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),n(x,"type","button"),n(V,"class","w-full flex justify-end"),n(e,"class","flex items-center gap-3 justify-between text-xs w-full transition")},m(g,w){q(g,e,w),i(e,t),i(t,s),ie(r,s,null),i(t,d),i(t,l),i(l,u),i(e,k),i(e,V),i(V,x),ie(I,x,null),i(e,C),m=!0,E||(j=de(x,"click",A),E=!0)},p(g,w){a=g,(!m||w&5)&&o!==(o=a[12].name+"")&&K(u,o)},i(g){m||(M(r.$$.fragment,g),M(I.$$.fragment,g),m=!0)},o(g){X(r.$$.fragment,g),X(I.$$.fragment,g),m=!1},d(g){g&&c(e),ce(r),ce(I),E=!1,j()}}}function xe(a){let e,t=a[12].name+"",s,r;return{c(){e=h("option"),s=Q(t),this.h()},l(d){e=v(d,"OPTION",{class:!0});var l=_(e);s=J(l,t),l.forEach(c),this.h()},h(){n(e,"class","text-gray-700"),e.__value=r=a[12].id,te(e,e.__value)},m(d,l){q(d,e,l),i(e,s)},p(d,l){l&5&&t!==(t=d[12].name+"")&&K(s,t),l&5&&r!==(r=d[12].id)&&(e.__value=r,te(e,e.__value))},d(d){d&&c(e)}}}function Qe(a){let e,t,s,r,d;return t=new Le({props:{className:"size-3.5"}}),{c(){e=h("button"),oe(t.$$.fragment),this.h()},l(l){e=v(l,"BUTTON",{class:!0,type:!0});var o=_(e);ne(t.$$.fragment,o),o.forEach(c),this.h()},h(){n(e,"class","p-1 rounded-xl bg-transparent dark:hover:bg-white/5 hover:bg-black/5 transition font-medium text-sm flex items-center space-x-1"),n(e,"type","button")},m(l,o){q(l,e,o),ie(t,e,null),s=!0,r||(d=de(e,"click",a[10]),r=!0)},p:ve,i(l){s||(M(t.$$.fragment,l),s=!0)},o(l){X(t.$$.fragment,l),s=!1},d(l){l&&c(e),ce(t),r=!1,d()}}}function Je(a){let e,t,s,r=a[3].t("Visibility")+"",d,l,o,u,k,V,x,I,C,m="Private",E,j="Public",A,g,w,P,S,H,$;function B(b,p){return b[0]!==null?qe:ze}let L=B(a),G=L(a);function Z(b,p){return b[0]!==null?Re:He}let W=Z(a),O=W(a),y=a[0]!==null&&ye(he(a));return{c(){e=h("div"),t=h("div"),s=h("div"),d=Q(r),l=U(),o=h("div"),u=h("div"),k=h("div"),G.c(),V=U(),x=h("div"),I=h("select"),C=h("option"),C.textContent=m,E=h("option"),E.textContent=j,g=U(),w=h("div"),O.c(),P=U(),y&&y.c(),this.h()},l(b){e=v(b,"DIV",{class:!0});var p=_(e);t=v(p,"DIV",{class:!0});var f=_(t);s=v(f,"DIV",{class:!0});var D=_(s);d=J(D,r),D.forEach(c),l=z(f),o=v(f,"DIV",{class:!0});var T=_(o);u=v(T,"DIV",{});var F=_(u);k=v(F,"DIV",{class:!0});var N=_(k);G.l(N),N.forEach(c),F.forEach(c),V=z(T),x=v(T,"DIV",{});var R=_(x);I=v(R,"SELECT",{id:!0,class:!0});var Y=_(I);C=v(Y,"OPTION",{class:!0,"data-svelte-h":!0}),we(C)!=="svelte-vsb5yp"&&(C.textContent=m),E=v(Y,"OPTION",{class:!0,"data-svelte-h":!0}),we(E)!=="svelte-152o619"&&(E.textContent=j),Y.forEach(c),g=z(R),w=v(R,"DIV",{class:!0});var ee=_(w);O.l(ee),ee.forEach(c),R.forEach(c),T.forEach(c),f.forEach(c),P=z(p),y&&y.l(p),p.forEach(c),this.h()},h(){n(s,"class","text-sm font-semibold mb-1"),n(k,"class","p-2 bg-black/5 dark:bg-white/5 rounded-full"),n(C,"class","text-gray-700"),C.__value="private",te(C,C.__value),C.selected=!0,n(E,"class","text-gray-700"),E.__value="public",te(E,E.__value),E.selected=!0,n(I,"id","models"),n(I,"class","outline-none bg-transparent text-sm font-medium rounded-lg block w-fit pr-10 max-w-full placeholder-gray-400"),n(w,"class","text-xs text-gray-400 font-medium"),n(o,"class","flex gap-2.5 items-center mb-1"),n(t,"class",""),n(e,"class","rounded-lg flex flex-col gap-2")},m(b,p){q(b,e,p),i(e,t),i(t,s),i(s,d),i(t,l),i(t,o),i(o,u),i(u,k),G.m(k,null),i(o,V),i(o,x),i(x,I),i(I,C),i(I,E),se(I,a[0]!==null?"private":"public"),i(x,g),i(x,w),O.m(w,null),i(e,P),y&&y.m(e,null),S=!0,H||($=de(I,"change",a[6]),H=!0)},p(b,[p]){(!S||p&8)&&r!==(r=b[3].t("Visibility")+"")&&K(d,r),L!==(L=B(b))&&(G.d(1),G=L(b),G&&(G.c(),G.m(k,null))),(!S||p&1&&A!==(A=b[0]!==null?"private":"public"))&&se(I,b[0]!==null?"private":"public"),W===(W=Z(b))&&O?O.p(b,p):(O.d(1),O=W(b),O&&(O.c(),O.m(w,null))),b[0]!==null?y?(y.p(he(b),p),p&1&&M(y,1)):(y=ye(he(b)),y.c(),M(y,1),y.m(e,null)):y&&(pe(),X(y,1,1,()=>{y=null}),me())},i(b){S||(M(y),S=!0)},o(b){X(y),S=!1},d(b){b&&c(e),G.d(),O.d(),y&&y.d(),H=!1,$()}}}function Ke(a,e,t){let s;const r=Te("i18n");Ne(a,r,m=>t(3,s=m));let{onChange:d=()=>{}}=e,{accessControl:l=null}=e,o="",u=[];je(async()=>{var m,E,j,A;t(2,u=await Ge(localStorage.token)),l===null?t(0,l=null):t(0,l={read:{group_ids:((m=l==null?void 0:l.read)==null?void 0:m.group_ids)??[],user_ids:((E=l==null?void 0:l.read)==null?void 0:E.user_ids)??[]},write:{group_ids:((j=l==null?void 0:l.write)==null?void 0:j.group_ids)??[],user_ids:((A=l==null?void 0:l.write)==null?void 0:A.user_ids)??[]}})});const k=m=>{m.target.value==="public"?t(0,l=null):t(0,l={read:{group_ids:[]}})},V=m=>{t(0,l.read.group_ids=l.read.group_ids.filter(E=>E!==m.id),l)},x=m=>!l.read.group_ids.includes(m.id);function I(){o=Pe(this),t(1,o),t(2,u),t(0,l)}const C=()=>{o!==""&&(t(0,l.read.group_ids=[...l.read.group_ids,o],l),t(1,o=""))};return a.$$set=m=>{"onChange"in m&&t(5,d=m.onChange),"accessControl"in m&&t(0,l=m.accessControl)},a.$$.update=()=>{a.$$.dirty&33&&d(l)},[l,o,u,s,r,d,k,V,x,I,C]}class rt extends Se{constructor(e){super(),Be(this,e,Ke,Je,Oe,{onChange:5,accessControl:0})}}export{rt as A};
//# sourceMappingURL=AccessControl.VNJKewrd.js.map
