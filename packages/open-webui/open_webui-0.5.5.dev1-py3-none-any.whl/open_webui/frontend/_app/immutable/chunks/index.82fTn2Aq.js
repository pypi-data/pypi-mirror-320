import{a as q,c as X}from"./_commonjsHelpers.BosuxZz1.js";import{c as Y}from"./index.D0Xflo1T.js";let L;const Z=new Uint8Array(16);function Q(){if(!L&&(L=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!L))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return L(Z)}const A=[];for(let t=0;t<256;++t)A.push((t+256).toString(16).slice(1));function tt(t,e=0){return A[t[e+0]]+A[t[e+1]]+A[t[e+2]]+A[t[e+3]]+"-"+A[t[e+4]]+A[t[e+5]]+"-"+A[t[e+6]]+A[t[e+7]]+"-"+A[t[e+8]]+A[t[e+9]]+"-"+A[t[e+10]]+A[t[e+11]]+A[t[e+12]]+A[t[e+13]]+A[t[e+14]]+A[t[e+15]]}const et=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),W={randomUUID:et};function rt(t,e,r){if(W.randomUUID&&!e&&!t)return W.randomUUID();t=t||{};const a=t.random||(t.rng||Q)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,tt(a)}var st={exports:{}};const nt={},at=Object.freeze(Object.defineProperty({__proto__:null,default:nt},Symbol.toStringTag,{value:"Module"})),G=q(at);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.10.1
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2023
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r=typeof window=="object",a=r?window:{};a.JS_SHA256_NO_WINDOW&&(r=!1);var h=!r&&typeof self=="object",u=!a.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;u?a=X:h&&(a=self);var F=!a.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,g=!a.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",n="0123456789abcdef".split(""),_=[-2147483648,8388608,32768,128],y=[24,16,8,0],U=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],M=["hex","array","digest","arrayBuffer"],v=[];(a.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"}),g&&(a.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(s){return typeof s=="object"&&s.buffer&&s.buffer.constructor===ArrayBuffer});var $=function(s,l){return function(f){return new w(l,!0).update(f)[s]()}},D=function(s){var l=$("hex",s);u&&(l=S(l,s)),l.create=function(){return new w(s)},l.update=function(d){return l.create().update(d)};for(var f=0;f<M.length;++f){var c=M[f];l[c]=$(c,s)}return l},S=function(s,l){var f=G,c=G.Buffer,d=l?"sha224":"sha256",i;c.from&&!a.JS_SHA256_NO_BUFFER_FROM?i=c.from:i=function(o){return new c(o)};var x=function(o){if(typeof o=="string")return f.createHash(d).update(o,"utf8").digest("hex");if(o==null)throw new Error(e);return o.constructor===ArrayBuffer&&(o=new Uint8Array(o)),Array.isArray(o)||ArrayBuffer.isView(o)||o.constructor===c?f.createHash(d).update(i(o)).digest("hex"):s(o)};return x},O=function(s,l){return function(f,c){return new k(f,l,!0).update(c)[s]()}},J=function(s){var l=O("hex",s);l.create=function(d){return new k(d,s)},l.update=function(d,i){return l.create(d).update(i)};for(var f=0;f<M.length;++f){var c=M[f];l[c]=O(c,s)}return l};function w(s,l){l?(v[0]=v[16]=v[1]=v[2]=v[3]=v[4]=v[5]=v[6]=v[7]=v[8]=v[9]=v[10]=v[11]=v[12]=v[13]=v[14]=v[15]=0,this.blocks=v):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=s}w.prototype.update=function(s){if(!this.finalized){var l,f=typeof s;if(f!=="string"){if(f==="object"){if(s===null)throw new Error(e);if(g&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!Array.isArray(s)&&(!g||!ArrayBuffer.isView(s)))throw new Error(e)}else throw new Error(e);l=!0}for(var c,d=0,i,x=s.length,o=this.blocks;d<x;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),l)for(i=this.start;d<x&&i<64;++d)o[i>>2]|=s[d]<<y[i++&3];else for(i=this.start;d<x&&i<64;++d)c=s.charCodeAt(d),c<128?o[i>>2]|=c<<y[i++&3]:c<2048?(o[i>>2]|=(192|c>>6)<<y[i++&3],o[i>>2]|=(128|c&63)<<y[i++&3]):c<55296||c>=57344?(o[i>>2]|=(224|c>>12)<<y[i++&3],o[i>>2]|=(128|c>>6&63)<<y[i++&3],o[i>>2]|=(128|c&63)<<y[i++&3]):(c=65536+((c&1023)<<10|s.charCodeAt(++d)&1023),o[i>>2]|=(240|c>>18)<<y[i++&3],o[i>>2]|=(128|c>>12&63)<<y[i++&3],o[i>>2]|=(128|c>>6&63)<<y[i++&3],o[i>>2]|=(128|c&63)<<y[i++&3]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=o[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},w.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var s=this.blocks,l=this.lastByteIndex;s[16]=this.block,s[l>>2]|=_[l&3],this.block=s[16],l>=56&&(this.hashed||this.hash(),s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),s[14]=this.hBytes<<3|this.bytes>>>29,s[15]=this.bytes<<3,this.hash()}},w.prototype.hash=function(){var s=this.h0,l=this.h1,f=this.h2,c=this.h3,d=this.h4,i=this.h5,x=this.h6,o=this.h7,p=this.blocks,b,I,E,C,m,T,B,N,j,H,P;for(b=16;b<64;++b)m=p[b-15],I=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3,m=p[b-2],E=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,p[b]=p[b-16]+I+p[b-7]+E<<0;for(P=l&f,b=0;b<64;b+=4)this.first?(this.is224?(N=300032,m=p[0]-1413257819,o=m-150054599<<0,c=m+24177077<<0):(N=704751109,m=p[0]-210244248,o=m-1521486534<<0,c=m+143694565<<0),this.first=!1):(I=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),E=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),N=s&l,C=N^s&f^P,B=d&i^~d&x,m=o+E+B+U[b]+p[b],T=I+C,o=c+m<<0,c=m+T<<0),I=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),E=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),j=c&s,C=j^c&l^N,B=o&d^~o&i,m=x+E+B+U[b+1]+p[b+1],T=I+C,x=f+m<<0,f=m+T<<0,I=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),E=(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7),H=f&c,C=H^f&s^j,B=x&o^~x&d,m=i+E+B+U[b+2]+p[b+2],T=I+C,i=l+m<<0,l=m+T<<0,I=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),E=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),P=l&f,C=P^l&c^H,B=i&x^~i&o,m=d+E+B+U[b+3]+p[b+3],T=I+C,d=s+m<<0,s=m+T<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+s<<0,this.h1=this.h1+l<<0,this.h2=this.h2+f<<0,this.h3=this.h3+c<<0,this.h4=this.h4+d<<0,this.h5=this.h5+i<<0,this.h6=this.h6+x<<0,this.h7=this.h7+o<<0},w.prototype.hex=function(){this.finalize();var s=this.h0,l=this.h1,f=this.h2,c=this.h3,d=this.h4,i=this.h5,x=this.h6,o=this.h7,p=n[s>>28&15]+n[s>>24&15]+n[s>>20&15]+n[s>>16&15]+n[s>>12&15]+n[s>>8&15]+n[s>>4&15]+n[s&15]+n[l>>28&15]+n[l>>24&15]+n[l>>20&15]+n[l>>16&15]+n[l>>12&15]+n[l>>8&15]+n[l>>4&15]+n[l&15]+n[f>>28&15]+n[f>>24&15]+n[f>>20&15]+n[f>>16&15]+n[f>>12&15]+n[f>>8&15]+n[f>>4&15]+n[f&15]+n[c>>28&15]+n[c>>24&15]+n[c>>20&15]+n[c>>16&15]+n[c>>12&15]+n[c>>8&15]+n[c>>4&15]+n[c&15]+n[d>>28&15]+n[d>>24&15]+n[d>>20&15]+n[d>>16&15]+n[d>>12&15]+n[d>>8&15]+n[d>>4&15]+n[d&15]+n[i>>28&15]+n[i>>24&15]+n[i>>20&15]+n[i>>16&15]+n[i>>12&15]+n[i>>8&15]+n[i>>4&15]+n[i&15]+n[x>>28&15]+n[x>>24&15]+n[x>>20&15]+n[x>>16&15]+n[x>>12&15]+n[x>>8&15]+n[x>>4&15]+n[x&15];return this.is224||(p+=n[o>>28&15]+n[o>>24&15]+n[o>>20&15]+n[o>>16&15]+n[o>>12&15]+n[o>>8&15]+n[o>>4&15]+n[o&15]),p},w.prototype.toString=w.prototype.hex,w.prototype.digest=function(){this.finalize();var s=this.h0,l=this.h1,f=this.h2,c=this.h3,d=this.h4,i=this.h5,x=this.h6,o=this.h7,p=[s>>24&255,s>>16&255,s>>8&255,s&255,l>>24&255,l>>16&255,l>>8&255,l&255,f>>24&255,f>>16&255,f>>8&255,f&255,c>>24&255,c>>16&255,c>>8&255,c&255,d>>24&255,d>>16&255,d>>8&255,d&255,i>>24&255,i>>16&255,i>>8&255,i&255,x>>24&255,x>>16&255,x>>8&255,x&255];return this.is224||p.push(o>>24&255,o>>16&255,o>>8&255,o&255),p},w.prototype.array=w.prototype.digest,w.prototype.arrayBuffer=function(){this.finalize();var s=new ArrayBuffer(this.is224?28:32),l=new DataView(s);return l.setUint32(0,this.h0),l.setUint32(4,this.h1),l.setUint32(8,this.h2),l.setUint32(12,this.h3),l.setUint32(16,this.h4),l.setUint32(20,this.h5),l.setUint32(24,this.h6),this.is224||l.setUint32(28,this.h7),s};function k(s,l,f){var c,d=typeof s;if(d==="string"){var i=[],x=s.length,o=0,p;for(c=0;c<x;++c)p=s.charCodeAt(c),p<128?i[o++]=p:p<2048?(i[o++]=192|p>>6,i[o++]=128|p&63):p<55296||p>=57344?(i[o++]=224|p>>12,i[o++]=128|p>>6&63,i[o++]=128|p&63):(p=65536+((p&1023)<<10|s.charCodeAt(++c)&1023),i[o++]=240|p>>18,i[o++]=128|p>>12&63,i[o++]=128|p>>6&63,i[o++]=128|p&63);s=i}else if(d==="object"){if(s===null)throw new Error(e);if(g&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!Array.isArray(s)&&(!g||!ArrayBuffer.isView(s)))throw new Error(e)}else throw new Error(e);s.length>64&&(s=new w(l,!0).update(s).array());var b=[],I=[];for(c=0;c<64;++c){var E=s[c]||0;b[c]=92^E,I[c]=54^E}w.call(this,l,f),this.update(I),this.oKeyPad=b,this.inner=!0,this.sharedMemory=f}k.prototype=new w,k.prototype.finalize=function(){if(w.prototype.finalize.call(this),this.inner){this.inner=!1;var s=this.array();w.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(s),w.prototype.finalize.call(this)}};var R=D();R.sha256=R,R.sha224=D(!0),R.sha256.hmac=J(),R.sha224.hmac=J(!0),F?t.exports=R:(a.sha256=R.sha256,a.sha224=R.sha224)})()})(st);var z=(t=>(t.PUNCTUATION="punctuation",t.PARAGRAPHS="paragraphs",t.NONE="none",t))(z||{});function ot(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const wt=(t,e,r,a)=>{const h=/{{char}}/gi,u=/{{user}}/gi,F=/{{VIDEO_FILE_ID_([a-f0-9-]+)}}/gi,g=/{{HTML_FILE_ID_([a-f0-9-]+)}}/gi;return r!=null&&(t=t.replace(h,r)),a!=null&&(t=t.replace(u,a)),t=t.replace(F,(n,_)=>`<video src="${`${Y}/api/v1/files/${_}/content`}" controls></video>`),t=t.replace(g,(n,_)=>`<iframe src="${`${Y}/api/v1/files/${_}/content/html`}" width="100%" frameborder="0" onload="this.style.height=(this.contentWindow.document.body.scrollHeight+20)+'px';"></iframe>`),Array.isArray(e)&&e.forEach(n=>{const y=`\\[${ot(n)}\\]`,U=new RegExp(y,"g");t=t.replace(U,`<source_id data="${n}" />`)}),t},At=t=>t.replace(/<\|[a-z]*$/,"").replace(/<\|[a-z]+\|$/,"").replace(/<$/,"").replaceAll(/<\|[a-z]+\|>/g," ").replaceAll("<","&lt;").replaceAll(">","&gt;").trim(),_t=t=>t.trim();function It(t){return new DOMParser().parseFromString(t,"text/html").documentElement.textContent}const Et=t=>t.charAt(0).toUpperCase()+t.slice(1),St=t=>{let e="";return new TransformStream({transform(r,a){e+=r;const h=e.split(t);h.slice(0,-1).forEach(u=>a.enqueue(u)),e=h[h.length-1]},flush(r){e&&r.enqueue(e)}})},Ut=t=>{const e={messages:{},currentId:null};let r=null,a=null;for(const h of t)a=rt(),r!==null&&(e.messages[r].childrenIds=[...e.messages[r].childrenIds,a]),e.messages[a]={...h,id:a,parentId:r,childrenIds:[]},r=a;return e.currentId=a,e},it=()=>{const t=document.createElement("canvas"),e=t.getContext("2d");t.height=1,t.width=1;const r=new ImageData(t.width,t.height),a=r.data;for(let u=0;u<r.data.length;u+=1)u%4!==3?a[u]=Math.floor(256*Math.random()):a[u]=255;e.putImageData(r,0,0);const h=e.getImageData(0,0,t.width,t.height).data;for(let u=0;u<h.length;u+=1)if(h[u]!==a[u])return console.log("canvasPixelTest: Wrong canvas pixel RGB value detected:",h[u],"at:",u,"expected:",a[u]),console.log("canvasPixelTest: Canvas blocking or spoofing is likely"),!1;return!0},Dt=async(t,e,r)=>new Promise((a,h)=>{const u=new Image;u.onload=()=>{const F=document.createElement("canvas");let g=u.width,n=u.height;if(e&&r){if(g<=e&&n<=r){a(t);return}g/n>e/r?(n=Math.round(e*n/g),g=e):(g=Math.round(r*g/n),n=r)}else if(e){if(g<=e){a(t);return}n=Math.round(e*n/g),g=e}else if(r){if(n<=r){a(t);return}g=Math.round(r*g/n),n=r}F.width=g,F.height=n,F.getContext("2d").drawImage(u,0,0,g,n);const y=F.toDataURL();a(y)},u.onerror=F=>h(F),u.src=t}),Rt=t=>{const e=document.createElement("canvas"),r=e.getContext("2d");if(e.width=100,e.height=100,!it())return console.log("generateInitialsImage: failed pixel test, fingerprint evasion is likely. Using default image."),"/user.png";r.fillStyle="#F39C12",r.fillRect(0,0,e.width,e.height),r.fillStyle="#FFFFFF",r.font="40px Helvetica",r.textAlign="center",r.textBaseline="middle";const a=t.trim(),h=a.length>0?a[0]+(a.split(" ").length>1?a[a.lastIndexOf(" ")+1]:""):"";return r.fillText(h.toUpperCase(),e.width/2,e.height/2),e.toDataURL()},Ct=async t=>{let e=!1;if(!navigator.clipboard){const r=document.createElement("textarea");r.value=t,r.style.top="0",r.style.left="0",r.style.position="fixed",document.body.appendChild(r),r.focus(),r.select();try{const h=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+h),e=!0}catch(a){console.error("Fallback: Oops, unable to copy",a)}return document.body.removeChild(r),e}return e=await navigator.clipboard.writeText(t).then(()=>(console.log("Async: Copying to clipboard was successful!"),!0)).catch(r=>(console.error("Async: Could not copy text: ",r),!1)),e},Tt=(t,e)=>e==="0.0.0"?!1:e.localeCompare(t,void 0,{numeric:!0,sensitivity:"case",caseFirst:"upper"})<0,Bt=t=>{const e=/\[([^\]]+)\]/g,r=[];let a;for(;(a=e.exec(t))!==null;)r.push({word:a[1],startIndex:a.index,endIndex:e.lastIndex-1});return r},Mt=(t,e)=>{console.log("inputString",t);const r=t.split(`
`),h=r.pop().split(" ");(h.at(-1)===e||e===""&&h.at(-1)==="\\#")&&h.pop();let u=h.join(" ");u!==""&&(u+=" ");const F=[...r,u].join(`
`);return console.log("resultString",F),F},Ot=t=>"mapping"in t[0]?"openai":"webui",$t=async(t=!1)=>{const e=await new Promise((h,u)=>{navigator.geolocation.getCurrentPosition(h,u)}).catch(h=>{throw console.error("Error getting user location:",h),h});if(!e)return"Location not available";const{latitude:r,longitude:a}=e.coords;return t?{latitude:r,longitude:a}:`${r.toFixed(3)}, ${a.toFixed(3)} (lat, long)`},ct=t=>{var g,n,_,y,U,M,v,$;const e=t.mapping,r=[];let a="",h=null;for(const D in e){const S=e[D];a=D;try{if(r.length==0&&(S.message==null||((g=S.message.content.parts)==null?void 0:g[0])==""&&S.message.content.text==null))continue;{const O={id:D,parentId:h,childrenIds:S.children||[],role:((_=(n=S.message)==null?void 0:n.author)==null?void 0:_.role)!=="user"?"assistant":"user",content:((M=(U=(y=S.message)==null?void 0:y.content)==null?void 0:U.parts)==null?void 0:M[0])||(($=(v=S.message)==null?void 0:v.content)==null?void 0:$.text)||"",model:"gpt-3.5-turbo",done:!0,context:null};r.push(O),h=a}}catch(O){console.log("Error with",S,`
Error:`,O)}}const u={};return r.forEach(D=>u[D.id]=D),{history:{currentId:a,messages:u},models:["gpt-3.5-turbo"],messages:r,options:{},timestamp:t.create_time,title:t.title??"New Chat"}},lt=t=>{const e=t.messages;if(e.length===0||e[e.length-1].childrenIds.length!==0||e[0].parentId!==null)return!1;for(const h of e)if(typeof h.content!="string")return!1;return!0},Nt=t=>{const e=[];let r=0;for(const a of t){const h=ct(a);lt(h)?e.push({id:a.id,user_id:"",title:a.title,chat:h,timestamp:a.timestamp}):r++}return console.log(r,"Conversations could not be imported"),e},kt=t=>{let e;try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"},ht=t=>{const e=/[\uD800-\uDBFF][\uDC00-\uDFFF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g;return t.replace(e,"")},ut=t=>t.replace(/(```[\s\S]*?```)/g,"").replace(/^\|.*\|$/gm,"").replace(/(?:\*\*|__)(.*?)(?:\*\*|__)/g,"$1").replace(/(?:[*_])(.*?)(?:[*_])/g,"$1").replace(/~~(.*?)~~/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/!?\[([^\]]*)\](?:\([^)]+\)|\[[^\]]*\])/g,"$1").replace(/^\[[^\]]+\]:\s*.*$/gm,"").replace(/^#{1,6}\s+/gm,"").replace(/^\s*[-*+]\s+/gm,"").replace(/^\s*(?:\d+\.)\s+/gm,"").replace(/^\s*>[> ]*/gm,"").replace(/^\s*:\s+/gm,"").replace(/\[\^[^\]]*\]/g,"").replace(/[-*_~]/g,"").replace(/\n{2,}/g,`
`),V=t=>ut(ht(t.trim())),K=/```[\s\S]*?```/g,ft=t=>{const e=[];let r=0;t=t.replace(K,h=>{const u=`\0${r}\0`;return e[r++]=h,u});let a=t.split(new RegExp("(?<=[.!?])\\s+"));return a=a.map(h=>h.replace(/\u0000(\d+)\u0000/g,(u,F)=>e[F])),a.map(V).filter(Boolean)},dt=t=>{const e=[];let r=0;t=t.replace(K,h=>{const u=`\0${r}\0`;return e[r++]=h,u});let a=t.split(/\n+/);return a=a.map(h=>h.replace(/\u0000(\d+)\u0000/g,(u,F)=>e[F])),a.map(V).filter(Boolean)},xt=t=>ft(t).reduce((e,r)=>{const a=e.length-1;if(a>=0){const h=e[a],u=h.split(/\s+/).length,F=h.length;u<4||F<50?e[a]=h+" "+r:e.push(r)}else e.push(r);return e},[]),Pt=(t,e="punctuation")=>{const r=[];switch(e){default:case z.PUNCTUATION:r.push(...xt(t));break;case z.PARAGRAPHS:r.push(...dt(t));break;case z.NONE:r.push(V(t));break}return r},Lt=(t,e)=>new File([t],e,{type:t.type}),zt=(t,e,r)=>{const a=new Date,h=a.getFullYear()+"-"+String(a.getMonth()+1).padStart(2,"0")+"-"+String(a.getDate()).padStart(2,"0"),u=a.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),F=mt(),g=Ft(),n=localStorage.getItem("locale")||"en-US";return t=t.replace("{{CURRENT_DATETIME}}",`${h} ${u}`),t=t.replace("{{CURRENT_DATE}}",h),t=t.replace("{{CURRENT_TIME}}",u),t=t.replace("{{CURRENT_WEEKDAY}}",F),t=t.replace("{{CURRENT_TIMEZONE}}",g),t=t.replace("{{USER_LANGUAGE}}",n),e&&(t=t.replace("{{USER_NAME}}",e)),r&&(t=t.replace("{{USER_LOCATION}}",r)),t},jt=t=>{const e=new Date,r=new Date(t*1e3),h=(e.getTime()-r.getTime())/(1e3*3600*24),u=e.getDate(),F=e.getMonth(),g=e.getFullYear(),n=r.getDate(),_=r.getMonth(),y=r.getFullYear();return g===y&&F===_&&u===n?"Today":g===y&&F===_&&u-n===1?"Yesterday":h<=7?"Previous 7 days":h<=30?"Previous 30 days":g===y?r.toLocaleString("default",{month:"long"}):r.getFullYear().toString()},Ht=t=>{const e={};let r=!1,a=!1;const h=/^\s*([a-z_]+):\s*(.*)\s*$/i,u=t.split(`
`);if(u[0].trim()!=='"""')return{};r=!0;for(let F=1;F<u.length;F++){const g=u[F];if(g.includes('"""')&&r){a=!0;break}if(r&&!a){const n=h.exec(g);if(n){const[,_,y]=n;e[_.trim()]=y.trim()}}}return e},Vt=(t,e,r)=>{const a=t.map(u=>u.code);return e.map(u=>a.find(F=>F.startsWith(u))).find(Boolean)||r},pt=()=>new Date().toISOString().split("T")[0],gt=()=>new Date().toTimeString().split(" ")[0],Jt=()=>`${pt()} ${gt()}`,Ft=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,mt=()=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()],yt=(t,e)=>{if(e===null)return[];const r=t.messages[e];return r!=null&&r.parentId?[...yt(t,r.parentId),r]:[r]},Yt=t=>{if(t==null)return"Unknown size";if(typeof t!="number"||t<0)return"Invalid size";if(t===0)return"0 B";const e=["B","KB","MB","GB","TB"];let r=0;for(;t>=1024&&r<e.length-1;)t/=1024,r++;return`${t.toFixed(1)} ${e[r]}`},Wt=t=>(console.log(typeof t),t?t.split(`
`).length:0);export{Ft as A,mt as B,Mt as C,kt as D,Bt as E,zt as F,It as G,wt as H,_t as I,z as T,at as _,$t as a,yt as b,Tt as c,Ut as d,Ht as e,At as f,jt as g,Et as h,Yt as i,Wt as j,Rt as k,Ct as l,Lt as m,Vt as n,Dt as o,Pt as p,it as q,G as r,St as s,Ot as t,tt as u,rt as v,Nt as w,pt as x,gt as y,Jt as z};
//# sourceMappingURL=index.82fTn2Aq.js.map
