import{s as Se,k as j,l as Ee,m as Te,d as f,o as q,i as S,j as G,p as We,q as Ne,r as Be,e as g,c as b,a as y,f as n,g as p,u as Ue,v as je,w as qe,x as Ce,t as R,b as X,h as Y}from"../chunks/scheduler.BUEsFZp5.js";import{S as Ke,i as Le,t as H,a as Q,c as Pe,b as Oe,d as ze,m as Fe,e as Ge,g as He}from"../chunks/index.DMbsBxcm.js";import{u as Je,W as Qe,s as xe}from"../chunks/index.D0Xflo1T.js";import{p as Re}from"../chunks/stores.DpvhTkBm.js";import{g as J}from"../chunks/entry.DntNopL7.js";import{M as Xe}from"../chunks/MenuLines.Bpc9Sb0N.js";function Ie(l){var $,ee,te,se,ae,le,re,oe,ie,ne,fe,de,ue,ce,pe,me;let t,r,a,o,e,s,d,T,W,D,c,N,u,V,B,I,M,E,U,C;d=new Xe({});let m=((($=l[1])==null?void 0:$.role)==="admin"||((se=(te=(ee=l[1])==null?void 0:ee.permissions)==null?void 0:te.workspace)==null?void 0:se.models))&&De(l),h=(((ae=l[1])==null?void 0:ae.role)==="admin"||((oe=(re=(le=l[1])==null?void 0:le.permissions)==null?void 0:re.workspace)==null?void 0:oe.knowledge))&&Ve(l),_=(((ie=l[1])==null?void 0:ie.role)==="admin"||((de=(fe=(ne=l[1])==null?void 0:ne.permissions)==null?void 0:fe.workspace)==null?void 0:de.prompts))&&Me(l),v=(((ue=l[1])==null?void 0:ue.role)==="admin"||((me=(pe=(ce=l[1])==null?void 0:ce.permissions)==null?void 0:pe.workspace)==null?void 0:me.tools))&&Ae(l);const Z=l[8].default,w=Be(Z,l,l[7],null);return{c(){t=g("div"),r=g("div"),a=g("div"),o=g("div"),e=g("button"),s=g("div"),Oe(d.$$.fragment),W=j(),D=g("div"),c=g("div"),m&&m.c(),N=j(),h&&h.c(),u=j(),_&&_.c(),V=j(),v&&v.c(),B=j(),I=g("div"),w&&w.c(),this.h()},l(i){t=b(i,"DIV",{class:!0});var k=y(t);r=b(k,"DIV",{class:!0});var K=y(r);a=b(K,"DIV",{class:!0});var A=y(a);o=b(A,"DIV",{class:!0});var L=y(o);e=b(L,"BUTTON",{id:!0,class:!0,"aria-label":!0});var P=y(e);s=b(P,"DIV",{class:!0});var O=y(s);ze(d.$$.fragment,O),O.forEach(f),P.forEach(f),L.forEach(f),W=q(A),D=b(A,"DIV",{class:!0});var z=y(D);c=b(z,"DIV",{class:!0});var x=y(c);m&&m.l(x),N=q(x),h&&h.l(x),u=q(x),_&&_.l(x),V=q(x),v&&v.l(x),x.forEach(f),z.forEach(f),A.forEach(f),K.forEach(f),B=q(k),I=b(k,"DIV",{class:!0,id:!0});var F=y(I);w&&w.l(F),F.forEach(f),k.forEach(f),this.h()},h(){n(s,"class","m-auto self-center"),n(e,"id","sidebar-toggle-button"),n(e,"class","cursor-pointer p-1.5 flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition"),n(e,"aria-label","Toggle Sidebar"),n(o,"class",T=(l[5]?"md:hidden":"")+" self-center flex flex-none items-center"),n(c,"class","flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent py-1 touch-auto pointer-events-auto"),n(D,"class",""),n(a,"class","flex items-center gap-1"),n(r,"class","px-2.5 pt-1 backdrop-blur-xl"),n(I,"class","pb-1 px-[18px] flex-1 max-h-full overflow-y-auto"),n(I,"id","workspace-container"),n(t,"class",M="relative flex flex-col w-full h-screen max-h-[100dvh] "+(l[5]?"md:max-w-[calc(100%-260px)]":""))},m(i,k){S(i,t,k),p(t,r),p(r,a),p(a,o),p(o,e),p(e,s),Fe(d,s,null),p(a,W),p(a,D),p(D,c),m&&m.m(c,null),p(c,N),h&&h.m(c,null),p(c,u),_&&_.m(c,null),p(c,V),v&&v.m(c,null),p(t,B),p(t,I),w&&w.m(I,null),E=!0,U||(C=Ue(e,"click",l[9]),U=!0)},p(i,k){var K,A,L,P,O,z,x,F,he,_e,ve,ke,we,ge,be,ye;(!E||k&32&&T!==(T=(i[5]?"md:hidden":"")+" self-center flex flex-none items-center"))&&n(o,"class",T),((K=i[1])==null?void 0:K.role)==="admin"||(P=(L=(A=i[1])==null?void 0:A.permissions)==null?void 0:L.workspace)!=null&&P.models?m?m.p(i,k):(m=De(i),m.c(),m.m(c,N)):m&&(m.d(1),m=null),((O=i[1])==null?void 0:O.role)==="admin"||(F=(x=(z=i[1])==null?void 0:z.permissions)==null?void 0:x.workspace)!=null&&F.knowledge?h?h.p(i,k):(h=Ve(i),h.c(),h.m(c,u)):h&&(h.d(1),h=null),((he=i[1])==null?void 0:he.role)==="admin"||(ke=(ve=(_e=i[1])==null?void 0:_e.permissions)==null?void 0:ve.workspace)!=null&&ke.prompts?_?_.p(i,k):(_=Me(i),_.c(),_.m(c,V)):_&&(_.d(1),_=null),((we=i[1])==null?void 0:we.role)==="admin"||(ye=(be=(ge=i[1])==null?void 0:ge.permissions)==null?void 0:be.workspace)!=null&&ye.tools?v?v.p(i,k):(v=Ae(i),v.c(),v.m(c,null)):v&&(v.d(1),v=null),w&&w.p&&(!E||k&128)&&je(w,Z,i,i[7],E?Ce(Z,i[7],k,null):qe(i[7]),null),(!E||k&32&&M!==(M="relative flex flex-col w-full h-screen max-h-[100dvh] "+(i[5]?"md:max-w-[calc(100%-260px)]":"")))&&n(t,"class",M)},i(i){E||(H(d.$$.fragment,i),H(w,i),E=!0)},o(i){Q(d.$$.fragment,i),Q(w,i),E=!1},d(i){i&&f(t),Ge(d),m&&m.d(),h&&h.d(),_&&_.d(),v&&v.d(),w&&w.d(i),U=!1,C()}}}function De(l){let t,r=l[3].t("Models")+"",a,o;return{c(){t=g("a"),a=R(r),this.h()},l(e){t=b(e,"A",{class:!0,href:!0});var s=y(t);a=X(s,r),s.forEach(f),this.h()},h(){n(t,"class",o="min-w-fit rounded-full p-1.5 "+(l[2].url.pathname.includes("/workspace/models")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),n(t,"href","/workspace/models")},m(e,s){S(e,t,s),p(t,a)},p(e,s){s&8&&r!==(r=e[3].t("Models")+"")&&Y(a,r),s&4&&o!==(o="min-w-fit rounded-full p-1.5 "+(e[2].url.pathname.includes("/workspace/models")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&n(t,"class",o)},d(e){e&&f(t)}}}function Ve(l){let t,r=l[3].t("Knowledge")+"",a,o;return{c(){t=g("a"),a=R(r),this.h()},l(e){t=b(e,"A",{class:!0,href:!0});var s=y(t);a=X(s,r),s.forEach(f),this.h()},h(){n(t,"class",o="min-w-fit rounded-full p-1.5 "+(l[2].url.pathname.includes("/workspace/knowledge")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),n(t,"href","/workspace/knowledge")},m(e,s){S(e,t,s),p(t,a)},p(e,s){s&8&&r!==(r=e[3].t("Knowledge")+"")&&Y(a,r),s&4&&o!==(o="min-w-fit rounded-full p-1.5 "+(e[2].url.pathname.includes("/workspace/knowledge")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&n(t,"class",o)},d(e){e&&f(t)}}}function Me(l){let t,r=l[3].t("Prompts")+"",a,o;return{c(){t=g("a"),a=R(r),this.h()},l(e){t=b(e,"A",{class:!0,href:!0});var s=y(t);a=X(s,r),s.forEach(f),this.h()},h(){n(t,"class",o="min-w-fit rounded-full p-1.5 "+(l[2].url.pathname.includes("/workspace/prompts")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),n(t,"href","/workspace/prompts")},m(e,s){S(e,t,s),p(t,a)},p(e,s){s&8&&r!==(r=e[3].t("Prompts")+"")&&Y(a,r),s&4&&o!==(o="min-w-fit rounded-full p-1.5 "+(e[2].url.pathname.includes("/workspace/prompts")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&n(t,"class",o)},d(e){e&&f(t)}}}function Ae(l){let t,r=l[3].t("Tools")+"",a,o;return{c(){t=g("a"),a=R(r),this.h()},l(e){t=b(e,"A",{class:!0,href:!0});var s=y(t);a=X(s,r),s.forEach(f),this.h()},h(){n(t,"class",o="min-w-fit rounded-full p-1.5 "+(l[2].url.pathname.includes("/workspace/tools")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),n(t,"href","/workspace/tools")},m(e,s){S(e,t,s),p(t,a)},p(e,s){s&8&&r!==(r=e[3].t("Tools")+"")&&Y(a,r),s&4&&o!==(o="min-w-fit rounded-full p-1.5 "+(e[2].url.pathname.includes("/workspace/tools")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&n(t,"class",o)},d(e){e&&f(t)}}}function Ye(l){let t,r,a,o;document.title=t=`
		`+l[3].t("Workspace")+" | "+l[4]+`
	`;let e=l[0]&&Ie(l);return{c(){r=j(),e&&e.c(),a=Ee()},l(s){Te("svelte-1jvg4e3",document.head).forEach(f),r=q(s),e&&e.l(s),a=Ee()},m(s,d){S(s,r,d),e&&e.m(s,d),S(s,a,d),o=!0},p(s,[d]){(!o||d&24)&&t!==(t=`
		`+s[3].t("Workspace")+" | "+s[4]+`
	`)&&(document.title=t),s[0]?e?(e.p(s,d),d&1&&H(e,1)):(e=Ie(s),e.c(),H(e,1),e.m(a.parentNode,a)):e&&(He(),Q(e,1,1,()=>{e=null}),Pe())},i(s){o||(H(e),o=!0)},o(s){Q(e),o=!1},d(s){s&&(f(r),f(a)),e&&e.d(s)}}}function Ze(l,t,r){let a,o,e,s,d;G(l,Je,u=>r(1,a=u)),G(l,Re,u=>r(2,o=u)),G(l,Qe,u=>r(4,s=u)),G(l,xe,u=>r(5,d=u));let{$$slots:T={},$$scope:W}=t;const D=We("i18n");G(l,D,u=>r(3,e=u));let c=!1;Ne(async()=>{var u,V,B,I,M,E,U,C;(a==null?void 0:a.role)!=="admin"&&(o.url.pathname.includes("/models")&&!((V=(u=a==null?void 0:a.permissions)==null?void 0:u.workspace)!=null&&V.models)?J("/"):o.url.pathname.includes("/knowledge")&&!((I=(B=a==null?void 0:a.permissions)==null?void 0:B.workspace)!=null&&I.knowledge)?J("/"):o.url.pathname.includes("/prompts")&&!((E=(M=a==null?void 0:a.permissions)==null?void 0:M.workspace)!=null&&E.prompts)?J("/"):o.url.pathname.includes("/tools")&&!((C=(U=a==null?void 0:a.permissions)==null?void 0:U.workspace)!=null&&C.tools)&&J("/")),r(0,c=!0)});const N=()=>{xe.set(!d)};return l.$$set=u=>{"$$scope"in u&&r(7,W=u.$$scope)},[c,a,o,e,s,d,D,W,T,N]}class rt extends Ke{constructor(t){super(),Le(this,t,Ze,Ye,Se,{})}}export{rt as component};
//# sourceMappingURL=5.Dblxql3N.js.map
