import{s as it,E as al,F as nl,a as h,d as c,f,i as q,g as n,n as Ze,y as Pe,A as ze,p as Et,j as ct,B as yl,q as ml,e as d,t as K,k as I,c as _,b as Q,o as V,I as et,S as ol,C as Re,u as be,z as hs,h as ee,H as Nt,l as Gt,Q as Dl,R as Ds,O as Is,P as Rl}from"../chunks/scheduler.BUEsFZp5.js";import{S as dt,i as _t,f as je,b as ue,d as fe,m as ce,t as M,a as A,e as de,g as Se,c as Be}from"../chunks/index.DMbsBxcm.js";import{t as ot}from"../chunks/Toaster.svelte_svelte_type_style_lang.BMvSSSfm.js";import{g as vs}from"../chunks/entry.DntNopL7.js";import{c as _l,u as Il,e as Vs}from"../chunks/index.D0Xflo1T.js";import{u as xs,a as Ts,b as rl,d as Ns,c as Zl,e as Ms}from"../chunks/index.AOkspDEo.js";import{e as Yt,u as Cs,o as Us}from"../chunks/each.CzsD_kOT.js";import{d as Tt}from"../chunks/dayjs.min.CnqrW7zs.js";import{r as gs}from"../chunks/relativeTime.HIEE8cw9.js";import{P as Ls}from"../chunks/Pagination.hKRzNWTH.js";import{T as Rt}from"../chunks/Tooltip.iKnGJCvs.js";import{M as pl}from"../chunks/Modal.BdpuBmtX.js";import{j as Wl,k as As}from"../chunks/index.sREeR57t.js";import{S as Ss}from"../chunks/Spinner.dyE_yNSb.js";import{c as ql}from"../chunks/index.gotQS8ID.js";import{C as Bs}from"../chunks/ConfirmDialog.IP4ltFDM.js";import{B as ws}from"../chunks/Badge.Cfh_fL2v.js";import{P as bs}from"../chunks/Plus.Cayr97sv.js";import{C as yt}from"../chunks/ChevronUp.B2cy-iaU.js";import{C as il}from"../chunks/ChevronDown.Q4vFy9t5.js";import"../chunks/index.82fTn2Aq.js";import{C as Hs}from"../chunks/ChevronRight.DtCCNbWu.js";import{T as ks}from"../chunks/Textarea.B4iyZf0c.js";import"../chunks/marked.esm._0_gBwjO.js";import{S as Ot}from"../chunks/Switch.DRgJeMuD.js";import{C as Ps}from"../chunks/Checkbox.DvIo0G-G.js";import{W as zs}from"../chunks/WrenchSolid.Ce6DkkEJ.js";import{U as js,u as Os,d as Gs,g as Fl,c as Ys}from"../chunks/UserCircleSolid.DjI_J1nX.js";import{P as Rs}from"../chunks/Pencil.Ck9IKtyg.js";import{U as Zs}from"../chunks/User.BNYCTgsG.js";function Ws(s){let e,t;return{c(){e=al("svg"),t=al("path"),this.h()},l(l){e=nl(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=h(e);t=nl(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),h(t).forEach(c),r.forEach(c),this.h()},h(){f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"d","M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width",s[1]),f(e,"stroke","currentColor"),f(e,"class",s[0])},m(l,r){q(l,e,r),n(e,t)},p(l,[r]){r&2&&f(e,"stroke-width",l[1]),r&1&&f(e,"class",l[0])},i:Ze,o:Ze,d(l){l&&c(e)}}}function qs(s,e,t){let{className:l="size-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=o=>{"className"in o&&t(0,l=o.className),"strokeWidth"in o&&t(1,r=o.strokeWidth)},[l,r]}class Fs extends dt{constructor(e){super(),_t(this,e,qs,Ws,it,{className:0,strokeWidth:1})}}function Ks(s){let e,t,l,r=s[4].t("Edit User")+"",o,a,i,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,v,g,p,w,b,T,y,k,N,D,$,E,G=s[1].name+"",B,x,z,J=s[4].t("Created at")+"",S,Y,j=Tt(s[1].created_at*1e3).format(s[4].t("MMMM DD, YYYY"))+"",X,P,C,Z,le,oe,F,R=s[4].t("Email")+"",O,ie,he,H,te,_e,U,W,me=s[4].t("Name")+"",ve,Ee,ye,ke,re,se,$e,xe=s[4].t("New Password")+"",Ve,Oe,Me,Ue,Le,Ce,Ne,Ge=s[4].t("Save")+"",We,ae,ge;return{c(){e=d("div"),t=d("div"),l=d("div"),o=K(r),a=I(),i=d("button"),i.innerHTML=u,m=I(),v=d("hr"),g=I(),p=d("div"),w=d("div"),b=d("form"),T=d("div"),y=d("div"),k=d("img"),D=I(),$=d("div"),E=d("div"),B=K(G),x=I(),z=d("div"),S=K(J),Y=I(),X=K(j),P=I(),C=d("hr"),Z=I(),le=d("div"),oe=d("div"),F=d("div"),O=K(R),ie=I(),he=d("div"),H=d("input"),_e=I(),U=d("div"),W=d("div"),ve=K(me),Ee=I(),ye=d("div"),ke=d("input"),re=I(),se=d("div"),$e=d("div"),Ve=K(xe),Oe=I(),Me=d("div"),Ue=d("input"),Le=I(),Ce=d("div"),Ne=d("button"),We=K(Ge),this.h()},l(we){e=_(we,"DIV",{});var De=h(e);t=_(De,"DIV",{class:!0});var Ae=h(t);l=_(Ae,"DIV",{class:!0});var He=h(l);o=Q(He,r),He.forEach(c),a=V(Ae),i=_(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),et(i)!=="svelte-745w2y"&&(i.innerHTML=u),Ae.forEach(c),m=V(De),v=_(De,"HR",{class:!0}),g=V(De),p=_(De,"DIV",{class:!0});var Je=h(p);w=_(Je,"DIV",{class:!0});var lt=h(w);b=_(lt,"FORM",{class:!0});var Ie=h(b);T=_(Ie,"DIV",{class:!0});var nt=h(T);y=_(nt,"DIV",{class:!0});var mt=h(y);k=_(mt,"IMG",{src:!0,class:!0,alt:!0}),mt.forEach(c),D=V(nt),$=_(nt,"DIV",{});var wt=h($);E=_(wt,"DIV",{class:!0});var Ke=h(E);B=Q(Ke,G),Ke.forEach(c),x=V(wt),z=_(wt,"DIV",{class:!0});var Qe=h(z);S=Q(Qe,J),Y=V(Qe),X=Q(Qe,j),Qe.forEach(c),wt.forEach(c),nt.forEach(c),P=V(Ie),C=_(Ie,"HR",{class:!0}),Z=V(Ie),le=_(Ie,"DIV",{class:!0});var ut=h(le);oe=_(ut,"DIV",{class:!0});var st=h(oe);F=_(st,"DIV",{class:!0});var pt=h(F);O=Q(pt,R),pt.forEach(c),ie=V(st),he=_(st,"DIV",{class:!0});var Dt=h(he);H=_(Dt,"INPUT",{class:!0,type:!0,autocomplete:!0}),Dt.forEach(c),st.forEach(c),_e=V(ut),U=_(ut,"DIV",{class:!0});var kt=h(U);W=_(kt,"DIV",{class:!0});var Ct=h(W);ve=Q(Ct,me),Ct.forEach(c),Ee=V(kt),ye=_(kt,"DIV",{class:!0});var rt=h(ye);ke=_(rt,"INPUT",{class:!0,type:!0,autocomplete:!0}),rt.forEach(c),kt.forEach(c),re=V(ut),se=_(ut,"DIV",{class:!0});var tt=h(se);$e=_(tt,"DIV",{class:!0});var Mt=h($e);Ve=Q(Mt,xe),Mt.forEach(c),Oe=V(tt),Me=_(tt,"DIV",{class:!0});var pe=h(Me);Ue=_(pe,"INPUT",{class:!0,type:!0,autocomplete:!0}),pe.forEach(c),tt.forEach(c),ut.forEach(c),Le=V(Ie),Ce=_(Ie,"DIV",{class:!0});var Te=h(Ce);Ne=_(Te,"BUTTON",{class:!0,type:!0});var qe=h(Ne);We=Q(qe,Ge),qe.forEach(c),Te.forEach(c),Ie.forEach(c),lt.forEach(c),Je.forEach(c),De.forEach(c),this.h()},h(){f(l,"class","text-lg font-medium self-center"),f(i,"class","self-center"),f(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),f(v,"class","dark:border-gray-800"),ol(k.src,N=s[1].profile_image_url)||f(k,"src",N),f(k,"class","max-w-[55px] object-cover rounded-full"),f(k,"alt","User profile"),f(y,"class","self-center mr-5"),f(E,"class","self-center capitalize font-semibold"),f(z,"class","text-xs text-gray-500"),f(T,"class","flex items-center rounded-md py-2 px-4 w-full"),f(C,"class","dark:border-gray-800 my-3 w-full"),f(F,"class","mb-1 text-xs text-gray-500"),f(H,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),f(H,"type","email"),f(H,"autocomplete","off"),H.required=!0,H.disabled=te=s[3].id==s[2].id,f(he,"class","flex-1"),f(oe,"class","flex flex-col w-full"),f(W,"class","mb-1 text-xs text-gray-500"),f(ke,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none svelte-1vx7r9s"),f(ke,"type","text"),f(ke,"autocomplete","off"),ke.required=!0,f(ye,"class","flex-1"),f(U,"class","flex flex-col w-full"),f($e,"class","mb-1 text-xs text-gray-500"),f(Ue,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none svelte-1vx7r9s"),f(Ue,"type","password"),f(Ue,"autocomplete","new-password"),f(Me,"class","flex-1"),f(se,"class","flex flex-col w-full"),f(le,"class","flex flex-col space-y-1.5"),f(Ne,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),f(Ne,"type","submit"),f(Ce,"class","flex justify-end pt-3 text-sm font-medium"),f(b,"class","flex flex-col w-full"),f(w,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(p,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200")},m(we,De){q(we,e,De),n(e,t),n(t,l),n(l,o),n(t,a),n(t,i),n(e,m),n(e,v),n(e,g),n(e,p),n(p,w),n(w,b),n(b,T),n(T,y),n(y,k),n(T,D),n(T,$),n($,E),n(E,B),n($,x),n($,z),n(z,S),n(z,Y),n(z,X),n(b,P),n(b,C),n(b,Z),n(b,le),n(le,oe),n(oe,F),n(F,O),n(oe,ie),n(oe,he),n(he,H),Re(H,s[3].email),n(le,_e),n(le,U),n(U,W),n(W,ve),n(U,Ee),n(U,ye),n(ye,ke),Re(ke,s[3].name),n(le,re),n(le,se),n(se,$e),n($e,Ve),n(se,Oe),n(se,Me),n(Me,Ue),Re(Ue,s[3].password),n(b,Le),n(b,Ce),n(Ce,Ne),n(Ne,We),ae||(ge=[be(i,"click",s[7]),be(H,"input",s[8]),be(ke,"input",s[9]),be(Ue,"input",s[10]),be(b,"submit",hs(s[11]))],ae=!0)},p(we,De){De&16&&r!==(r=we[4].t("Edit User")+"")&&ee(o,r),De&2&&!ol(k.src,N=we[1].profile_image_url)&&f(k,"src",N),De&2&&G!==(G=we[1].name+"")&&ee(B,G),De&16&&J!==(J=we[4].t("Created at")+"")&&ee(S,J),De&18&&j!==(j=Tt(we[1].created_at*1e3).format(we[4].t("MMMM DD, YYYY"))+"")&&ee(X,j),De&16&&R!==(R=we[4].t("Email")+"")&&ee(O,R),De&12&&te!==(te=we[3].id==we[2].id)&&(H.disabled=te),De&8&&H.value!==we[3].email&&Re(H,we[3].email),De&16&&me!==(me=we[4].t("Name")+"")&&ee(ve,me),De&8&&ke.value!==we[3].name&&Re(ke,we[3].name),De&16&&xe!==(xe=we[4].t("New Password")+"")&&ee(Ve,xe),De&8&&Ue.value!==we[3].password&&Re(Ue,we[3].password),De&16&&Ge!==(Ge=we[4].t("Save")+"")&&ee(We,Ge)},d(we){we&&c(e),ae=!1,Nt(ge)}}}function Qs(s){let e,t,l;function r(a){s[12](a)}let o={size:"sm",$$slots:{default:[Ks]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new pl({props:o}),Pe.push(()=>je(e,"show",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,[i]){const u={};i&16415&&(u.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,u.show=a[0],ze(()=>t=!1)),e.$set(u)},i(a){l||(M(e.$$.fragment,a),l=!0)},o(a){A(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function Js(s,e,t){let l;const r=Et("i18n");ct(s,r,k=>t(4,l=k));const o=yl();let{show:a=!1}=e,{selectedUser:i}=e,{sessionUser:u}=e,m={profile_image_url:"",name:"",email:"",password:""};const v=async()=>{await xs(localStorage.token,i.id,m).catch(N=>{ot.error(N)})&&(o("save"),t(0,a=!1))};ml(()=>{i&&(t(3,m=i),t(3,m.password="",m))});const g=()=>{t(0,a=!1)};function p(){m.email=this.value,t(3,m)}function w(){m.name=this.value,t(3,m)}function b(){m.password=this.value,t(3,m)}const T=()=>{v()};function y(k){a=k,t(0,a)}return s.$$set=k=>{"show"in k&&t(0,a=k.show),"selectedUser"in k&&t(1,i=k.selectedUser),"sessionUser"in k&&t(2,u=k.sessionUser)},[a,i,u,m,l,r,v,g,p,w,b,T,y]}class Xs extends dt{constructor(e){super(),_t(this,e,Js,Qs,it,{show:0,selectedUser:1,sessionUser:2})}}function Kl(s,e,t){const l=s.slice();return l[16]=e[t],l[18]=t,l}function er(s){let e,t;return e=new Ss({}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p:Ze,i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function tr(s){let e,t,l,r;const o=[sr,lr],a=[];function i(u,m){return u[2].length>0?0:1}return e=i(s),t=a[e]=o[e](s),{c(){t.c(),l=Gt()},l(u){t.l(u),l=Gt()},m(u,m){a[e].m(u,m),q(u,l,m),r=!0},p(u,m){let v=e;e=i(u),e===v?a[e].p(u,m):(Se(),A(a[v],1,1,()=>{a[v]=null}),Be(),t=a[e],t?t.p(u,m):(t=a[e]=o[e](u),t.c()),M(t,1),t.m(l.parentNode,l))},i(u){r||(M(t),r=!0)},o(u){A(t),r=!1},d(u){u&&c(l),a[e].d(u)}}}function lr(s){let e,t=s[1].name+"",l,r,o=s[5].t("has no conversations.")+"",a;return{c(){e=d("div"),l=K(t),r=I(),a=K(o),this.h()},l(i){e=_(i,"DIV",{class:!0});var u=h(e);l=Q(u,t),r=V(u),a=Q(u,o),u.forEach(c),this.h()},h(){f(e,"class","text-left text-sm w-full mb-8")},m(i,u){q(i,e,u),n(e,l),n(e,r),n(e,a)},p(i,u){u&2&&t!==(t=i[1].name+"")&&ee(l,t),u&32&&o!==(o=i[5].t("has no conversations.")+"")&&ee(a,o)},i:Ze,o:Ze,d(i){i&&c(e)}}}function sr(s){let e,t,l,r,o,a,i=s[5].t("Title")+"",u,m,v,g,p=s[5].t("Updated at")+"",w,b,T,y,k,N,D,$,E;function G(P,C){return P[3]==="title"?ar:rr}let B=G(s),x=B(s);function z(P,C){return P[3]==="updated_at"?or:nr}let J=z(s),S=J(s),Y=Yt(s[2].sort(s[12])),j=[];for(let P=0;P<Y.length;P+=1)j[P]=Ql(Kl(s,Y,P));const X=P=>A(j[P],1,1,()=>{j[P]=null});return{c(){e=d("div"),t=d("div"),l=d("table"),r=d("thead"),o=d("tr"),a=d("th"),u=K(i),m=I(),x.c(),v=I(),g=d("th"),w=K(p),b=I(),S.c(),T=I(),y=d("th"),k=I(),N=d("tbody");for(let P=0;P<j.length;P+=1)j[P].c();this.h()},l(P){e=_(P,"DIV",{class:!0});var C=h(e);t=_(C,"DIV",{class:!0});var Z=h(t);l=_(Z,"TABLE",{class:!0});var le=h(l);r=_(le,"THEAD",{class:!0});var oe=h(r);o=_(oe,"TR",{});var F=h(o);a=_(F,"TH",{scope:!0,class:!0});var R=h(a);u=Q(R,i),m=V(R),x.l(R),R.forEach(c),v=V(F),g=_(F,"TH",{scope:!0,class:!0});var O=h(g);w=Q(O,p),b=V(O),S.l(O),O.forEach(c),T=V(F),y=_(F,"TH",{scope:!0,class:!0}),h(y).forEach(c),F.forEach(c),oe.forEach(c),k=V(le),N=_(le,"TBODY",{});var ie=h(N);for(let he=0;he<j.length;he+=1)j[he].l(ie);ie.forEach(c),le.forEach(c),Z.forEach(c),C.forEach(c),this.h()},h(){f(a,"scope","col"),f(a,"class","px-3 py-2 cursor-pointer select-none"),f(g,"scope","col"),f(g,"class","px-3 py-2 hidden md:flex cursor-pointer select-none justify-end"),f(y,"scope","col"),f(y,"class","px-3 py-2 text-right"),f(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),f(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),f(t,"class","relative overflow-x-auto"),f(e,"class","text-left text-sm w-full mb-4 max-h-[22rem] overflow-y-scroll")},m(P,C){q(P,e,C),n(e,t),n(t,l),n(l,r),n(r,o),n(o,a),n(a,u),n(a,m),x.m(a,null),n(o,v),n(o,g),n(g,w),n(g,b),S.m(g,null),n(o,T),n(o,y),n(l,k),n(l,N);for(let Z=0;Z<j.length;Z+=1)j[Z]&&j[Z].m(N,null);D=!0,$||(E=[be(a,"click",s[10]),be(g,"click",s[11])],$=!0)},p(P,C){if((!D||C&32)&&i!==(i=P[5].t("Title")+"")&&ee(u,i),B===(B=G(P))&&x?x.p(P,C):(x.d(1),x=B(P),x&&(x.c(),x.m(a,null))),(!D||C&32)&&p!==(p=P[5].t("Updated at")+"")&&ee(w,p),J===(J=z(P))&&S?S.p(P,C):(S.d(1),S=J(P),S&&(S.c(),S.m(g,null))),C&188){Y=Yt(P[2].sort(P[12]));let Z;for(Z=0;Z<Y.length;Z+=1){const le=Kl(P,Y,Z);j[Z]?(j[Z].p(le,C),M(j[Z],1)):(j[Z]=Ql(le),j[Z].c(),M(j[Z],1),j[Z].m(N,null))}for(Se(),Z=Y.length;Z<j.length;Z+=1)X(Z);Be()}},i(P){if(!D){for(let C=0;C<Y.length;C+=1)M(j[C]);D=!0}},o(P){j=j.filter(Boolean);for(let C=0;C<j.length;C+=1)A(j[C]);D=!1},d(P){P&&c(e),x.d(),S.d(),Dl(j,P),$=!1,Nt(E)}}}function rr(s){let e,t="▲";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=_(l,"SPAN",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-7bvkyo"&&(e.textContent=t),this.h()},h(){f(e,"class","invisible")},m(l,r){q(l,e,r)},p:Ze,d(l){l&&c(e)}}}function ar(s){let e=s[4]==="asc"?"▲":"▼",t;return{c(){t=K(e)},l(l){t=Q(l,e)},m(l,r){q(l,t,r)},p(l,r){r&16&&e!==(e=l[4]==="asc"?"▲":"▼")&&ee(t,e)},d(l){l&&c(t)}}}function nr(s){let e,t="▲";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=_(l,"SPAN",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-7bvkyo"&&(e.textContent=t),this.h()},h(){f(e,"class","invisible")},m(l,r){q(l,e,r)},p:Ze,d(l){l&&c(e)}}}function or(s){let e=s[4]==="asc"?"▲":"▼",t;return{c(){t=K(e)},l(l){t=Q(l,e)},m(l,r){q(l,t,r)},p(l,r){r&16&&e!==(e=l[4]==="asc"?"▲":"▼")&&ee(t,e)},d(l){l&&c(t)}}}function ir(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,r;function o(){return s[13](s[16])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-oqx8cx"&&(e.innerHTML=t),this.h()},h(){f(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(a,i){q(a,e,i),l||(r=be(e,"click",o),l=!0)},p(a,i){s=a},d(a){a&&c(e),l=!1,r()}}}function Ql(s){let e,t,l,r,o=s[16].title+"",a,i,u,m,v,g=Tt(s[16].updated_at*1e3).format(s[5].t("MMMM DD, YYYY HH:mm"))+"",p,w,b,T,y,k,N,D;return y=new Rt({props:{content:s[5].t("Delete Chat"),$$slots:{default:[ir]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("a"),r=d("div"),a=K(o),u=I(),m=d("td"),v=d("div"),p=K(g),w=I(),b=d("td"),T=d("div"),ue(y.$$.fragment),k=I(),this.h()},l($){e=_($,"TR",{class:!0});var E=h(e);t=_(E,"TD",{class:!0});var G=h(t);l=_(G,"A",{href:!0,target:!0});var B=h(l);r=_(B,"DIV",{class:!0});var x=h(r);a=Q(x,o),x.forEach(c),B.forEach(c),G.forEach(c),u=V(E),m=_(E,"TD",{class:!0});var z=h(m);v=_(z,"DIV",{class:!0});var J=h(v);p=Q(J,g),J.forEach(c),z.forEach(c),w=V(E),b=_(E,"TD",{class:!0});var S=h(b);T=_(S,"DIV",{class:!0});var Y=h(T);fe(y.$$.fragment,Y),Y.forEach(c),S.forEach(c),k=V(E),E.forEach(c),this.h()},h(){f(r,"class","underline line-clamp-1 max-w-96"),f(l,"href",i="/s/"+s[16].id),f(l,"target","_blank"),f(t,"class","px-3 py-1"),f(v,"class","my-auto shrink-0"),f(m,"class","px-3 py-1 hidden md:flex h-[2.5rem] justify-end"),f(T,"class","flex justify-end w-full"),f(b,"class","px-3 py-1 text-right"),f(e,"class",N="bg-transparent "+(s[18]!==s[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m($,E){q($,e,E),n(e,t),n(t,l),n(l,r),n(r,a),n(e,u),n(e,m),n(m,v),n(v,p),n(e,w),n(e,b),n(b,T),ce(y,T,null),n(e,k),D=!0},p($,E){(!D||E&28)&&o!==(o=$[16].title+"")&&ee(a,o),(!D||E&28&&i!==(i="/s/"+$[16].id))&&f(l,"href",i),(!D||E&60)&&g!==(g=Tt($[16].updated_at*1e3).format($[5].t("MMMM DD, YYYY HH:mm"))+"")&&ee(p,g);const G={};E&32&&(G.content=$[5].t("Delete Chat")),E&524316&&(G.$$scope={dirty:E,ctx:$}),y.$set(G),(!D||E&4&&N!==(N="bg-transparent "+($[18]!==$[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&f(e,"class",N)},i($){D||(M(y.$$.fragment,$),D=!0)},o($){A(y.$$.fragment,$),D=!1},d($){$&&c(e),de(y)}}}function ur(s){let e,t,l=s[5].t("{{user}}'s Chats",{user:s[1].name})+"",r,o,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',u,m,v,g,p,w,b,T;const y=[tr,er],k=[];function N(D,$){return D[2]?0:1}return g=N(s),p=k[g]=y[g](s),{c(){e=d("div"),t=d("div"),r=K(l),o=I(),a=d("button"),a.innerHTML=i,u=I(),m=d("div"),v=d("div"),p.c(),this.h()},l(D){e=_(D,"DIV",{class:!0});var $=h(e);t=_($,"DIV",{class:!0});var E=h(t);r=Q(E,l),E.forEach(c),o=V($),a=_($,"BUTTON",{class:!0,"data-svelte-h":!0}),et(a)!=="svelte-1i09mfg"&&(a.innerHTML=i),$.forEach(c),u=V(D),m=_(D,"DIV",{class:!0});var G=h(m);v=_(G,"DIV",{class:!0});var B=h(v);p.l(B),B.forEach(c),G.forEach(c),this.h()},h(){f(t,"class","text-lg font-medium self-center capitalize"),f(a,"class","self-center"),f(e,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),f(v,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(m,"class","flex flex-col md:flex-row w-full px-5 pt-2 pb-4 md:space-x-4 dark:text-gray-200")},m(D,$){q(D,e,$),n(e,t),n(t,r),n(e,o),n(e,a),q(D,u,$),q(D,m,$),n(m,v),k[g].m(v,null),w=!0,b||(T=be(a,"click",s[9]),b=!0)},p(D,$){(!w||$&34)&&l!==(l=D[5].t("{{user}}'s Chats",{user:D[1].name})+"")&&ee(r,l);let E=g;g=N(D),g===E?k[g].p(D,$):(Se(),A(k[E],1,1,()=>{k[E]=null}),Be(),p=k[g],p?p.p(D,$):(p=k[g]=y[g](D),p.c()),M(p,1),p.m(v,null))},i(D){w||(M(p),w=!0)},o(D){A(p),w=!1},d(D){D&&(c(e),c(u),c(m)),k[g].d(),b=!1,T()}}}function fr(s){let e,t,l;function r(a){s[14](a)}let o={size:"lg",$$slots:{default:[ur]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new pl({props:o}),Pe.push(()=>je(e,"show",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,[i]){const u={};i&524351&&(u.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,u.show=a[0],ze(()=>t=!1)),e.$set(u)},i(a){l||(M(e.$$.fragment,a),l=!0)},o(a){A(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function cr(s,e,t){let l;yl();const r=Et("i18n");ct(s,r,N=>t(5,l=N));let{show:o=!1}=e,{user:a}=e,i=null;const u=async N=>{await As(localStorage.token,N).catch(D=>{ot.error(D)}),t(2,i=await Wl(localStorage.token,a.id))};let m="updated_at",v="desc";function g(N){m===N?t(4,v=v==="asc"?"desc":"asc"):(t(3,m=N),t(4,v="asc"))}const p=()=>{t(0,o=!1)},w=()=>g("title"),b=()=>g("updated_at"),T=(N,D)=>N[m]<D[m]?v==="asc"?-1:1:N[m]>D[m]?v==="asc"?1:-1:0,y=async N=>{u(N.id)};function k(N){o=N,t(0,o)}return s.$$set=N=>{"show"in N&&t(0,o=N.show),"user"in N&&t(1,a=N.user)},s.$$.update=()=>{s.$$.dirty&3&&(o?(async()=>a.id&&t(2,i=await Wl(localStorage.token,a.id)))():t(2,i=null))},[o,a,i,m,v,l,r,u,g,p,w,b,T,y,k]}class dr extends dt{constructor(e){super(),_t(this,e,cr,fr,it,{show:0,user:1})}}function _r(s){let e,t,l,r,o,a,i,u,m=s[5].t("Ensure your CSV file includes 4 columns in this order: Name, Email, Password, Role.")+"",v,g,p,w=s[5].t("Click here to download user import template file.")+"",b,T,y;function k($,E){return $[3]?hr:pr}let N=k(s),D=N(s);return{c(){e=d("div"),t=d("div"),l=d("input"),r=I(),o=d("button"),D.c(),a=I(),i=d("div"),u=K("ⓘ "),v=K(m),g=I(),p=d("a"),b=K(w),this.h()},l($){e=_($,"DIV",{});var E=h(e);t=_(E,"DIV",{class:!0});var G=h(t);l=_(G,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),r=V(G),o=_(G,"BUTTON",{class:!0,type:!0});var B=h(o);D.l(B),B.forEach(c),G.forEach(c),a=V(E),i=_(E,"DIV",{class:!0});var x=h(i);u=Q(x,"ⓘ "),v=Q(x,m),g=V(x),p=_(x,"A",{class:!0,href:!0});var z=h(p);b=Q(z,w),z.forEach(c),x.forEach(c),E.forEach(c),this.h()},h(){f(l,"id","upload-user-csv-input"),l.hidden=!0,f(l,"type","file"),f(l,"accept",".csv"),f(l,"class","svelte-1vx7r9s"),f(o,"class","w-full text-sm font-medium py-3 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),f(o,"type","button"),f(t,"class","mb-3 w-full"),f(p,"class","underline dark:text-gray-200"),f(p,"href",_l+"/static/user-import.csv"),f(i,"class","text-xs text-gray-500")},m($,E){q($,e,E),n(e,t),n(t,l),n(t,r),n(t,o),D.m(o,null),n(e,a),n(e,i),n(i,u),n(i,v),n(i,g),n(i,p),n(p,b),T||(y=[be(l,"change",s[15]),be(o,"click",s[16])],T=!0)},p($,E){N===(N=k($))&&D?D.p($,E):(D.d(1),D=N($),D&&(D.c(),D.m(o,null))),E&32&&m!==(m=$[5].t("Ensure your CSV file includes 4 columns in this order: Name, Email, Password, Role.")+"")&&ee(v,m),E&32&&w!==(w=$[5].t("Click here to download user import template file.")+"")&&ee(b,w)},d($){$&&c(e),D.d(),T=!1,Nt(y)}}}function mr(s){let e,t,l=s[5].t("Role")+"",r,o,a,i,u,m=s[5].t("pending")+"",v,g,p,w=s[5].t("user")+"",b,T,y,k=s[5].t("admin")+"",N,D,$,E,G,B=s[5].t("Name")+"",x,z,J,S,Y,j,X,P,C,Z,le=s[5].t("Email")+"",oe,F,R,O,ie,he,H,te,_e=s[5].t("Password")+"",U,W,me,ve,Ee,ye,ke;return{c(){e=d("div"),t=d("div"),r=K(l),o=I(),a=d("div"),i=d("select"),u=d("option"),v=K(m),g=I(),p=d("option"),b=K(w),T=I(),y=d("option"),N=K(k),$=I(),E=d("div"),G=d("div"),x=K(B),z=I(),J=d("div"),S=d("input"),j=I(),X=d("hr"),P=I(),C=d("div"),Z=d("div"),oe=K(le),F=I(),R=d("div"),O=d("input"),he=I(),H=d("div"),te=d("div"),U=K(_e),W=I(),me=d("div"),ve=d("input"),this.h()},l(re){e=_(re,"DIV",{class:!0});var se=h(e);t=_(se,"DIV",{class:!0});var $e=h(t);r=Q($e,l),$e.forEach(c),o=V(se),a=_(se,"DIV",{class:!0});var xe=h(a);i=_(xe,"SELECT",{class:!0,placeholder:!0});var Ve=h(i);u=_(Ve,"OPTION",{});var Oe=h(u);v=Q(Oe,m),g=V(Oe),Oe.forEach(c),p=_(Ve,"OPTION",{});var Me=h(p);b=Q(Me,w),T=V(Me),Me.forEach(c),y=_(Ve,"OPTION",{});var Ue=h(y);N=Q(Ue,k),Ue.forEach(c),Ve.forEach(c),xe.forEach(c),se.forEach(c),$=V(re),E=_(re,"DIV",{class:!0});var Le=h(E);G=_(Le,"DIV",{class:!0});var Ce=h(G);x=Q(Ce,B),Ce.forEach(c),z=V(Le),J=_(Le,"DIV",{class:!0});var Ne=h(J);S=_(Ne,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ne.forEach(c),Le.forEach(c),j=V(re),X=_(re,"HR",{class:!0}),P=V(re),C=_(re,"DIV",{class:!0});var Ge=h(C);Z=_(Ge,"DIV",{class:!0});var We=h(Z);oe=Q(We,le),We.forEach(c),F=V(Ge),R=_(Ge,"DIV",{class:!0});var ae=h(R);O=_(ae,"INPUT",{class:!0,type:!0,placeholder:!0}),ae.forEach(c),Ge.forEach(c),he=V(re),H=_(re,"DIV",{class:!0});var ge=h(H);te=_(ge,"DIV",{class:!0});var we=h(te);U=Q(we,_e),we.forEach(c),W=V(ge),me=_(ge,"DIV",{class:!0});var De=h(me);ve=_(De,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),De.forEach(c),ge.forEach(c),this.h()},h(){f(t,"class","mb-1 text-xs text-gray-500"),u.__value="pending",Re(u,u.__value),p.__value="user",Re(p,p.__value),y.__value="admin",Re(y,y.__value),f(i,"class","w-full capitalize rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none"),f(i,"placeholder",D=s[5].t("Enter Your Role")),i.required=!0,s[4].role===void 0&&Is(()=>s[11].call(i)),f(a,"class","flex-1"),f(e,"class","flex flex-col w-full mb-3"),f(G,"class","mb-1 text-xs text-gray-500"),f(S,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),f(S,"type","text"),f(S,"placeholder",Y=s[5].t("Enter Your Full Name")),f(S,"autocomplete","off"),S.required=!0,f(J,"class","flex-1"),f(E,"class","flex flex-col w-full mt-1"),f(X,"class","border-gray-50 dark:border-gray-850 my-2.5 w-full"),f(Z,"class","mb-1 text-xs text-gray-500"),f(O,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),f(O,"type","email"),f(O,"placeholder",ie=s[5].t("Enter Your Email")),O.required=!0,f(R,"class","flex-1"),f(C,"class","flex flex-col w-full"),f(te,"class","mb-1 text-xs text-gray-500"),f(ve,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),f(ve,"type","password"),f(ve,"placeholder",Ee=s[5].t("Enter Your Password")),f(ve,"autocomplete","off"),f(me,"class","flex-1"),f(H,"class","flex flex-col w-full mt-1")},m(re,se){q(re,e,se),n(e,t),n(t,r),n(e,o),n(e,a),n(a,i),n(i,u),n(u,v),n(u,g),n(i,p),n(p,b),n(p,T),n(i,y),n(y,N),Rl(i,s[4].role,!0),q(re,$,se),q(re,E,se),n(E,G),n(G,x),n(E,z),n(E,J),n(J,S),Re(S,s[4].name),q(re,j,se),q(re,X,se),q(re,P,se),q(re,C,se),n(C,Z),n(Z,oe),n(C,F),n(C,R),n(R,O),Re(O,s[4].email),q(re,he,se),q(re,H,se),n(H,te),n(te,U),n(H,W),n(H,me),n(me,ve),Re(ve,s[4].password),ye||(ke=[be(i,"change",s[11]),be(S,"input",s[12]),be(O,"input",s[13]),be(ve,"input",s[14])],ye=!0)},p(re,se){se&32&&l!==(l=re[5].t("Role")+"")&&ee(r,l),se&32&&m!==(m=re[5].t("pending")+"")&&ee(v,m),se&32&&w!==(w=re[5].t("user")+"")&&ee(b,w),se&32&&k!==(k=re[5].t("admin")+"")&&ee(N,k),se&32&&D!==(D=re[5].t("Enter Your Role"))&&f(i,"placeholder",D),se&16&&Rl(i,re[4].role),se&32&&B!==(B=re[5].t("Name")+"")&&ee(x,B),se&32&&Y!==(Y=re[5].t("Enter Your Full Name"))&&f(S,"placeholder",Y),se&16&&S.value!==re[4].name&&Re(S,re[4].name),se&32&&le!==(le=re[5].t("Email")+"")&&ee(oe,le),se&32&&ie!==(ie=re[5].t("Enter Your Email"))&&f(O,"placeholder",ie),se&16&&O.value!==re[4].email&&Re(O,re[4].email),se&32&&_e!==(_e=re[5].t("Password")+"")&&ee(U,_e),se&32&&Ee!==(Ee=re[5].t("Enter Your Password"))&&f(ve,"placeholder",Ee),se&16&&ve.value!==re[4].password&&Re(ve,re[4].password)},d(re){re&&(c(e),c($),c(E),c(j),c(X),c(P),c(C),c(he),c(H)),ye=!1,Nt(ke)}}}function pr(s){let e=s[5].t("Click here to select a csv file.")+"",t;return{c(){t=K(e)},l(l){t=Q(l,e)},m(l,r){q(l,t,r)},p(l,r){r&32&&e!==(e=l[5].t("Click here to select a csv file.")+"")&&ee(t,e)},d(l){l&&c(t)}}}function hr(s){let e=s[3].length>0?`${s[3].length}`:"",t,l;return{c(){t=K(e),l=K(" document(s) selected.")},l(r){t=Q(r,e),l=Q(r," document(s) selected.")},m(r,o){q(r,t,o),q(r,l,o)},p(r,o){o&8&&e!==(e=r[3].length>0?`${r[3].length}`:"")&&ee(t,e)},d(r){r&&(c(t),c(l))}}}function Jl(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,r){q(l,e,r)},d(l){l&&c(e)}}}function vr(s){let e,t,l,r=s[5].t("Add User")+"",o,a,i,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,v,g,p,w,b,T=s[5].t("Form")+"",y,k,N,D,$=s[5].t("CSV Import")+"",E,G,B,x,z,J,S,Y=s[5].t("Save")+"",j,X,P,C,Z;function le(O,ie){if(O[2]==="")return mr;if(O[2]==="import")return _r}let oe=le(s),F=oe&&oe(s),R=s[1]&&Jl();return{c(){e=d("div"),t=d("div"),l=d("div"),o=K(r),a=I(),i=d("button"),i.innerHTML=u,m=I(),v=d("div"),g=d("div"),p=d("form"),w=d("div"),b=d("button"),y=K(T),N=I(),D=d("button"),E=K($),B=I(),x=d("div"),F&&F.c(),z=I(),J=d("div"),S=d("button"),j=K(Y),X=I(),R&&R.c(),this.h()},l(O){e=_(O,"DIV",{});var ie=h(e);t=_(ie,"DIV",{class:!0});var he=h(t);l=_(he,"DIV",{class:!0});var H=h(l);o=Q(H,r),H.forEach(c),a=V(he),i=_(he,"BUTTON",{class:!0,"data-svelte-h":!0}),et(i)!=="svelte-745w2y"&&(i.innerHTML=u),he.forEach(c),m=V(ie),v=_(ie,"DIV",{class:!0});var te=h(v);g=_(te,"DIV",{class:!0});var _e=h(g);p=_(_e,"FORM",{class:!0});var U=h(p);w=_(U,"DIV",{class:!0});var W=h(w);b=_(W,"BUTTON",{class:!0,type:!0});var me=h(b);y=Q(me,T),me.forEach(c),N=V(W),D=_(W,"BUTTON",{class:!0,type:!0});var ve=h(D);E=Q(ve,$),ve.forEach(c),W.forEach(c),B=V(U),x=_(U,"DIV",{class:!0});var Ee=h(x);F&&F.l(Ee),Ee.forEach(c),z=V(U),J=_(U,"DIV",{class:!0});var ye=h(J);S=_(ye,"BUTTON",{class:!0,type:!0});var ke=h(S);j=Q(ke,Y),X=V(ke),R&&R.l(ke),ke.forEach(c),ye.forEach(c),U.forEach(c),_e.forEach(c),te.forEach(c),ie.forEach(c),this.h()},h(){f(l,"class","text-lg font-medium self-center"),f(i,"class","self-center"),f(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),f(b,"class",k="w-full rounded-full p-1.5 "+(s[2]===""?"bg-gray-50 dark:bg-gray-850":"")),f(b,"type","button"),f(D,"class",G="w-full rounded-full p-1 "+(s[2]==="import"?"bg-gray-50 dark:bg-gray-850":"")),f(D,"type","button"),f(w,"class","flex text-center text-sm font-medium rounded-full bg-transparent/10 p-1 mb-2"),f(x,"class","px-1"),f(S,"class",P="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),f(S,"type","submit"),S.disabled=s[1],f(J,"class","flex justify-end pt-3 text-sm font-medium"),f(p,"class","flex flex-col w-full"),f(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(v,"class","flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200")},m(O,ie){q(O,e,ie),n(e,t),n(t,l),n(l,o),n(t,a),n(t,i),n(e,m),n(e,v),n(v,g),n(g,p),n(p,w),n(w,b),n(b,y),n(w,N),n(w,D),n(D,E),n(p,B),n(p,x),F&&F.m(x,null),n(p,z),n(p,J),n(J,S),n(S,j),n(S,X),R&&R.m(S,null),C||(Z=[be(i,"click",s[8]),be(b,"click",s[9]),be(D,"click",s[10]),be(p,"submit",hs(s[17]))],C=!0)},p(O,ie){ie&32&&r!==(r=O[5].t("Add User")+"")&&ee(o,r),ie&32&&T!==(T=O[5].t("Form")+"")&&ee(y,T),ie&4&&k!==(k="w-full rounded-full p-1.5 "+(O[2]===""?"bg-gray-50 dark:bg-gray-850":""))&&f(b,"class",k),ie&32&&$!==($=O[5].t("CSV Import")+"")&&ee(E,$),ie&4&&G!==(G="w-full rounded-full p-1 "+(O[2]==="import"?"bg-gray-50 dark:bg-gray-850":""))&&f(D,"class",G),oe===(oe=le(O))&&F?F.p(O,ie):(F&&F.d(1),F=oe&&oe(O),F&&(F.c(),F.m(x,null))),ie&32&&Y!==(Y=O[5].t("Save")+"")&&ee(j,Y),O[1]?R||(R=Jl(),R.c(),R.m(S,null)):R&&(R.d(1),R=null),ie&2&&P!==(P="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(O[1]?" cursor-not-allowed":""))&&f(S,"class",P),ie&2&&(S.disabled=O[1])},d(O){O&&c(e),F&&F.d(),R&&R.d(),C=!1,Nt(Z)}}}function gr(s){let e,t,l;function r(a){s[18](a)}let o={size:"sm",$$slots:{default:[vr]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new pl({props:o}),Pe.push(()=>je(e,"show",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,[i]){const u={};i&1048639&&(u.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,u.show=a[0],ze(()=>t=!1)),e.$set(u)},i(a){l||(M(e.$$.fragment,a),l=!0)},o(a){A(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function wr(s,e,t){let l;const r=Et("i18n");ct(s,r,B=>t(5,l=B));const o=yl();let{show:a=!1}=e,i=!1,u="",m,v={name:"",email:"",password:"",role:"user"};const g=async()=>{const B=()=>{o("save"),t(1,i=!1)};if(u==="")t(1,i=!0),await ql(localStorage.token,v.name,v.email,v.password,v.role).catch(z=>{ot.error(z)})&&(B(),t(0,a=!1));else if(m){t(1,i=!0);const x=m[0],z=new FileReader;z.onload=async J=>{const Y=J.target.result.split(`
`);let j=0;for(const[P,C]of Y.entries()){const Z=C.split(",").map(le=>le.trim());console.log(P,Z),P>0&&(Z.length===4&&["admin","user","pending"].includes(Z[3].toLowerCase())?await ql(localStorage.token,Z[0],Z[1],Z[2],Z[3].toLowerCase()).catch(oe=>(ot.error(`Row ${P+1}: ${oe}`),null))&&(j=j+1):ot.error(`Row ${P+1}: invalid format.`))}ot.success(`Successfully imported ${j} users.`),t(3,m=null);const X=document.getElementById("upload-user-csv-input");X&&(X.value=null),B()},z.readAsText(x)}else ot.error(l.t("File not found."));t(1,i=!1)},p=()=>{t(0,a=!1)},w=()=>{t(2,u="")},b=()=>{t(2,u="import")};function T(){v.role=Ds(this),t(4,v),t(0,a)}function y(){v.name=this.value,t(4,v),t(0,a)}function k(){v.email=this.value,t(4,v),t(0,a)}function N(){v.password=this.value,t(4,v),t(0,a)}function D(){m=this.files,t(3,m)}const $=()=>{var B;(B=document.getElementById("upload-user-csv-input"))==null||B.click()},E=()=>{g()};function G(B){a=B,t(0,a)}return s.$$set=B=>{"show"in B&&t(0,a=B.show)},s.$$.update=()=>{s.$$.dirty&1&&a&&t(4,v={name:"",email:"",password:"",role:"user"})},[a,i,u,m,v,l,r,g,p,w,b,T,y,k,N,D,$,E,G]}class br extends dt{constructor(e){super(),_t(this,e,wr,gr,it,{show:0})}}function Xl(s,e,t){const l=s.slice();return l[38]=e[t],l[40]=t,l}function es(s){let e,t,l;function r(a){s[20](a)}let o={selectedUser:s[5],sessionUser:s[11]};return s[9]!==void 0&&(o.show=s[9]),e=new Xs({props:o}),Pe.push(()=>je(e,"show",r)),e.$on("save",s[21]),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,i){const u={};i[0]&32&&(u.selectedUser=a[5]),i[0]&2048&&(u.sessionUser=a[11]),!t&&i[0]&512&&(t=!0,u.show=a[9],ze(()=>t=!1)),e.$set(u)},i(a){l||(M(e.$$.fragment,a),l=!0)},o(a){A(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function kr(s){let e,t,l,r,o;return t=new bs({props:{className:"size-3.5"}}),{c(){e=d("button"),ue(t.$$.fragment),this.h()},l(a){e=_(a,"BUTTON",{class:!0});var i=h(e);fe(t.$$.fragment,i),i.forEach(c),this.h()},h(){f(e,"class","p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1")},m(a,i){q(a,e,i),ce(t,e,null),l=!0,r||(o=be(e,"click",s[26]),r=!0)},p:Ze,i(a){l||(M(t.$$.fragment,a),l=!0)},o(a){A(t.$$.fragment,a),l=!1},d(a){a&&c(e),de(t),r=!1,o()}}}function $r(s){let e,t,l;return t=new yt({props:{className:"size-2"}}),{c(){e=d("span"),ue(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=h(e);fe(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","invisible")},m(r,o){q(r,e,o),ce(t,e,null),l=!0},p:Ze,i(r){l||(M(t.$$.fragment,r),l=!0)},o(r){A(t.$$.fragment,r),l=!1},d(r){r&&c(e),de(t)}}}function Er(s){let e,t,l,r;const o=[Dr,yr],a=[];function i(u,m){return u[4]==="asc"?0:1}return t=i(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(u){e=_(u,"SPAN",{class:!0});var m=h(e);l.l(m),m.forEach(c),this.h()},h(){f(e,"class","font-normal")},m(u,m){q(u,e,m),a[t].m(e,null),r=!0},p(u,m){let v=t;t=i(u),t!==v&&(Se(),A(a[v],1,1,()=>{a[v]=null}),Be(),l=a[t],l||(l=a[t]=o[t](u),l.c()),M(l,1),l.m(e,null))},i(u){r||(M(l),r=!0)},o(u){A(l),r=!1},d(u){u&&c(e),a[t].d()}}}function yr(s){let e,t;return e=new il({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Dr(s){let e,t;return e=new yt({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Ir(s){let e,t,l;return t=new yt({props:{className:"size-2"}}),{c(){e=d("span"),ue(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=h(e);fe(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","invisible")},m(r,o){q(r,e,o),ce(t,e,null),l=!0},p:Ze,i(r){l||(M(t.$$.fragment,r),l=!0)},o(r){A(t.$$.fragment,r),l=!1},d(r){r&&c(e),de(t)}}}function Vr(s){let e,t,l,r;const o=[Tr,xr],a=[];function i(u,m){return u[4]==="asc"?0:1}return t=i(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(u){e=_(u,"SPAN",{class:!0});var m=h(e);l.l(m),m.forEach(c),this.h()},h(){f(e,"class","font-normal")},m(u,m){q(u,e,m),a[t].m(e,null),r=!0},p(u,m){let v=t;t=i(u),t!==v&&(Se(),A(a[v],1,1,()=>{a[v]=null}),Be(),l=a[t],l||(l=a[t]=o[t](u),l.c()),M(l,1),l.m(e,null))},i(u){r||(M(l),r=!0)},o(u){A(l),r=!1},d(u){u&&c(e),a[t].d()}}}function xr(s){let e,t;return e=new il({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Tr(s){let e,t;return e=new yt({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Nr(s){let e,t,l;return t=new yt({props:{className:"size-2"}}),{c(){e=d("span"),ue(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=h(e);fe(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","invisible")},m(r,o){q(r,e,o),ce(t,e,null),l=!0},p:Ze,i(r){l||(M(t.$$.fragment,r),l=!0)},o(r){A(t.$$.fragment,r),l=!1},d(r){r&&c(e),de(t)}}}function Mr(s){let e,t,l,r;const o=[Ur,Cr],a=[];function i(u,m){return u[4]==="asc"?0:1}return t=i(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(u){e=_(u,"SPAN",{class:!0});var m=h(e);l.l(m),m.forEach(c),this.h()},h(){f(e,"class","font-normal")},m(u,m){q(u,e,m),a[t].m(e,null),r=!0},p(u,m){let v=t;t=i(u),t!==v&&(Se(),A(a[v],1,1,()=>{a[v]=null}),Be(),l=a[t],l||(l=a[t]=o[t](u),l.c()),M(l,1),l.m(e,null))},i(u){r||(M(l),r=!0)},o(u){A(l),r=!1},d(u){u&&c(e),a[t].d()}}}function Cr(s){let e,t;return e=new il({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Ur(s){let e,t;return e=new yt({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Lr(s){let e,t,l;return t=new yt({props:{className:"size-2"}}),{c(){e=d("span"),ue(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=h(e);fe(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","invisible")},m(r,o){q(r,e,o),ce(t,e,null),l=!0},p:Ze,i(r){l||(M(t.$$.fragment,r),l=!0)},o(r){A(t.$$.fragment,r),l=!1},d(r){r&&c(e),de(t)}}}function Ar(s){let e,t,l,r;const o=[Br,Sr],a=[];function i(u,m){return u[4]==="asc"?0:1}return t=i(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(u){e=_(u,"SPAN",{class:!0});var m=h(e);l.l(m),m.forEach(c),this.h()},h(){f(e,"class","font-normal")},m(u,m){q(u,e,m),a[t].m(e,null),r=!0},p(u,m){let v=t;t=i(u),t!==v&&(Se(),A(a[v],1,1,()=>{a[v]=null}),Be(),l=a[t],l||(l=a[t]=o[t](u),l.c()),M(l,1),l.m(e,null))},i(u){r||(M(l),r=!0)},o(u){A(l),r=!1},d(u){u&&c(e),a[t].d()}}}function Sr(s){let e,t;return e=new il({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Br(s){let e,t;return e=new yt({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Hr(s){let e,t,l;return t=new yt({props:{className:"size-2"}}),{c(){e=d("span"),ue(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=h(e);fe(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","invisible")},m(r,o){q(r,e,o),ce(t,e,null),l=!0},p:Ze,i(r){l||(M(t.$$.fragment,r),l=!0)},o(r){A(t.$$.fragment,r),l=!1},d(r){r&&c(e),de(t)}}}function Pr(s){let e,t,l,r;const o=[jr,zr],a=[];function i(u,m){return u[4]==="asc"?0:1}return t=i(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(u){e=_(u,"SPAN",{class:!0});var m=h(e);l.l(m),m.forEach(c),this.h()},h(){f(e,"class","font-normal")},m(u,m){q(u,e,m),a[t].m(e,null),r=!0},p(u,m){let v=t;t=i(u),t!==v&&(Se(),A(a[v],1,1,()=>{a[v]=null}),Be(),l=a[t],l||(l=a[t]=o[t](u),l.c()),M(l,1),l.m(e,null))},i(u){r||(M(l),r=!0)},o(u){A(l),r=!1},d(u){u&&c(e),a[t].d()}}}function zr(s){let e,t;return e=new il({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function jr(s){let e,t;return e=new yt({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Or(s){let e,t,l;return t=new yt({props:{className:"size-2"}}),{c(){e=d("span"),ue(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=h(e);fe(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","invisible")},m(r,o){q(r,e,o),ce(t,e,null),l=!0},p:Ze,i(r){l||(M(t.$$.fragment,r),l=!0)},o(r){A(t.$$.fragment,r),l=!1},d(r){r&&c(e),de(t)}}}function Gr(s){let e,t,l,r;const o=[Rr,Yr],a=[];function i(u,m){return u[4]==="asc"?0:1}return t=i(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(u){e=_(u,"SPAN",{class:!0});var m=h(e);l.l(m),m.forEach(c),this.h()},h(){f(e,"class","font-normal")},m(u,m){q(u,e,m),a[t].m(e,null),r=!0},p(u,m){let v=t;t=i(u),t!==v&&(Se(),A(a[v],1,1,()=>{a[v]=null}),Be(),l=a[t],l||(l=a[t]=o[t](u),l.c()),M(l,1),l.m(e,null))},i(u){r||(M(l),r=!0)},o(u){A(l),r=!1},d(u){u&&c(e),a[t].d()}}}function Yr(s){let e,t;return e=new il({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Rr(s){let e,t;return e=new yt({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function ts(s){let e,t;return e=new Rt({props:{content:s[12].t("Chats"),$$slots:{default:[Zr]},$$scope:{ctx:s}}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const o={};r[0]&4096&&(o.content=l[12].t("Chats")),r[0]&1312|r[1]&1024&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Zr(s){let e,t,l,r,o;t=new Fs({});function a(){return s[34](s[38])}return{c(){e=d("button"),ue(t.$$.fragment),this.h()},l(i){e=_(i,"BUTTON",{class:!0});var u=h(e);fe(t.$$.fragment,u),u.forEach(c),this.h()},h(){f(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(i,u){q(i,e,u),ce(t,e,null),l=!0,r||(o=be(e,"click",a),r=!0)},p(i,u){s=i},i(i){l||(M(t.$$.fragment,i),l=!0)},o(i){A(t.$$.fragment,i),l=!1},d(i){i&&c(e),de(t),r=!1,o()}}}function Wr(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',l,r;function o(){return s[35](s[38])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-ow16l9"&&(e.innerHTML=t),this.h()},h(){f(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(a,i){q(a,e,i),l||(r=be(e,"click",o),l=!0)},p(a,i){s=a},d(a){a&&c(e),l=!1,r()}}}function ls(s){let e,t;return e=new Rt({props:{content:s[12].t("Delete User"),$$slots:{default:[qr]},$$scope:{ctx:s}}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const o={};r[0]&4096&&(o.content=l[12].t("Delete User")),r[0]&1120|r[1]&1024&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function qr(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,r;function o(){return s[36](s[38])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-8s8zkf"&&(e.innerHTML=t),this.h()},h(){f(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(a,i){q(a,e,i),l||(r=be(e,"click",o),l=!0)},p(a,i){s=a},d(a){a&&c(e),l=!1,r()}}}function ss(s){let e,t,l,r,o,a,i,u,m,v,g,p=s[38].name+"",w,b,T,y=s[38].email+"",k,N,D,$=Tt(s[38].last_active_at*1e3).fromNow()+"",E,G,B,x=Tt(s[38].created_at*1e3).format(s[12].t("MMMM DD, YYYY"))+"",z,J,S,Y=(s[38].oauth_sub??"")+"",j,X,P,C,Z,le,oe,F,R,O,ie;r=new ws({props:{type:s[38].role==="admin"?"info":s[38].role==="user"?"success":"muted",content:s[12].t(s[38].role)}});function he(){return s[33](s[38])}let H=s[13].features.enable_admin_chat_access&&s[38].role!=="admin"&&ts(s);le=new Rt({props:{content:s[12].t("Edit User"),$$slots:{default:[Wr]},$$scope:{ctx:s}}});let te=s[38].role!=="admin"&&ls(s);return{c(){e=d("tr"),t=d("td"),l=d("button"),ue(r.$$.fragment),o=I(),a=d("td"),i=d("div"),u=d("img"),v=I(),g=d("div"),w=K(p),b=I(),T=d("td"),k=K(y),N=I(),D=d("td"),E=K($),G=I(),B=d("td"),z=K(x),J=I(),S=d("td"),j=K(Y),X=I(),P=d("td"),C=d("div"),H&&H.c(),Z=I(),ue(le.$$.fragment),oe=I(),te&&te.c(),F=I(),this.h()},l(_e){e=_(_e,"TR",{class:!0});var U=h(e);t=_(U,"TD",{class:!0});var W=h(t);l=_(W,"BUTTON",{class:!0});var me=h(l);fe(r.$$.fragment,me),me.forEach(c),W.forEach(c),o=V(U),a=_(U,"TD",{class:!0});var ve=h(a);i=_(ve,"DIV",{class:!0});var Ee=h(i);u=_(Ee,"IMG",{class:!0,src:!0,alt:!0}),v=V(Ee),g=_(Ee,"DIV",{class:!0});var ye=h(g);w=Q(ye,p),ye.forEach(c),Ee.forEach(c),ve.forEach(c),b=V(U),T=_(U,"TD",{class:!0});var ke=h(T);k=Q(ke,y),ke.forEach(c),N=V(U),D=_(U,"TD",{class:!0});var re=h(D);E=Q(re,$),re.forEach(c),G=V(U),B=_(U,"TD",{class:!0});var se=h(B);z=Q(se,x),se.forEach(c),J=V(U),S=_(U,"TD",{class:!0});var $e=h(S);j=Q($e,Y),$e.forEach(c),X=V(U),P=_(U,"TD",{class:!0});var xe=h(P);C=_(xe,"DIV",{class:!0});var Ve=h(C);H&&H.l(Ve),Z=V(Ve),fe(le.$$.fragment,Ve),oe=V(Ve),te&&te.l(Ve),Ve.forEach(c),xe.forEach(c),F=V(U),U.forEach(c),this.h()},h(){f(l,"class","translate-y-0.5"),f(t,"class","px-3 py-1 min-w-[7rem] w-28"),f(u,"class","rounded-full w-6 h-6 object-cover mr-2.5"),ol(u.src,m=s[38].profile_image_url.startsWith(_l)||s[38].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[38].profile_image_url.startsWith("data:")?s[38].profile_image_url:"/user.png")||f(u,"src",m),f(u,"alt","user"),f(g,"class","font-medium self-center"),f(i,"class","flex flex-row w-max"),f(a,"class","px-3 py-1 font-medium text-gray-900 dark:text-white w-max"),f(T,"class","px-3 py-1"),f(D,"class","px-3 py-1"),f(B,"class","px-3 py-1"),f(S,"class","px-3 py-1"),f(C,"class","flex justify-end w-full"),f(P,"class","px-3 py-1 text-right"),f(e,"class","bg-white dark:bg-gray-900 dark:border-gray-850 text-xs")},m(_e,U){q(_e,e,U),n(e,t),n(t,l),ce(r,l,null),n(e,o),n(e,a),n(a,i),n(i,u),n(i,v),n(i,g),n(g,w),n(e,b),n(e,T),n(T,k),n(e,N),n(e,D),n(D,E),n(e,G),n(e,B),n(B,z),n(e,J),n(e,S),n(S,j),n(e,X),n(e,P),n(P,C),H&&H.m(C,null),n(C,Z),ce(le,C,null),n(C,oe),te&&te.m(C,null),n(e,F),R=!0,O||(ie=be(l,"click",he),O=!0)},p(_e,U){s=_e;const W={};U[0]&1024&&(W.type=s[38].role==="admin"?"info":s[38].role==="user"?"success":"muted"),U[0]&5120&&(W.content=s[12].t(s[38].role)),r.$set(W),(!R||U[0]&1024&&!ol(u.src,m=s[38].profile_image_url.startsWith(_l)||s[38].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[38].profile_image_url.startsWith("data:")?s[38].profile_image_url:"/user.png"))&&f(u,"src",m),(!R||U[0]&1024)&&p!==(p=s[38].name+"")&&ee(w,p),(!R||U[0]&1024)&&y!==(y=s[38].email+"")&&ee(k,y),(!R||U[0]&1024)&&$!==($=Tt(s[38].last_active_at*1e3).fromNow()+"")&&ee(E,$),(!R||U[0]&5120)&&x!==(x=Tt(s[38].created_at*1e3).format(s[12].t("MMMM DD, YYYY"))+"")&&ee(z,x),(!R||U[0]&1024)&&Y!==(Y=(s[38].oauth_sub??"")+"")&&ee(j,Y),s[13].features.enable_admin_chat_access&&s[38].role!=="admin"?H?(H.p(s,U),U[0]&9216&&M(H,1)):(H=ts(s),H.c(),M(H,1),H.m(C,Z)):H&&(Se(),A(H,1,1,()=>{H=null}),Be());const me={};U[0]&4096&&(me.content=s[12].t("Edit User")),U[0]&1568|U[1]&1024&&(me.$$scope={dirty:U,ctx:s}),le.$set(me),s[38].role!=="admin"?te?(te.p(s,U),U[0]&1024&&M(te,1)):(te=ls(s),te.c(),M(te,1),te.m(C,null)):te&&(Se(),A(te,1,1,()=>{te=null}),Be())},i(_e){R||(M(r.$$.fragment,_e),M(H),M(le.$$.fragment,_e),M(te),R=!0)},o(_e){A(r.$$.fragment,_e),A(H),A(le.$$.fragment,_e),A(te),R=!1},d(_e){_e&&c(e),de(r),H&&H.d(),de(le),te&&te.d(),O=!1,ie()}}}function Fr(s){let e,t,l,r=s[5],o,a,i,u,m,v,g,p,w,b=s[12].t("Users")+"",T,y,k,N,D,$=s[0].length+"",E,G,B,x,z,J,S='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',Y,j,X,P,C,Z,le,oe,F,R,O,ie,he,H=s[12].t("Role")+"",te,_e,U,W,me,ve,Ee,ye=s[12].t("Name")+"",ke,re,se,$e,xe,Ve,Oe,Me=s[12].t("Email")+"",Ue,Le,Ce,Ne,Ge,We,ae,ge=s[12].t("Last Active")+"",we,De,Ae,He,Je,lt,Ie,nt=s[12].t("Created at")+"",mt,wt,Ke,Qe,ut,st,pt,Dt=s[12].t("OAuth ID")+"",kt,Ct,rt,tt,Mt,pe,Te,qe,It,ft,Vt,bt=s[12].t("Click on the user role button to change a user's role.")+"",xt,$t,ht,Ft,Ye,Kt,Zt;function hl(L){s[18](L)}let Wt={};s[6]!==void 0&&(Wt.show=s[6]),e=new Bs({props:Wt}),Pe.push(()=>je(e,"show",hl)),e.$on("confirm",s[19]);let vt=es(s);function Qt(L){s[22](L)}let ul={};s[7]!==void 0&&(ul.show=s[7]),a=new br({props:ul}),Pe.push(()=>je(a,"show",Qt)),a.$on("save",s[23]);function Jt(L){s[24](L)}let fl={user:s[5]};s[8]!==void 0&&(fl.show=s[8]),m=new dr({props:fl}),Pe.push(()=>je(m,"show",Jt)),Z=new Rt({props:{content:s[12].t("Add User"),$$slots:{default:[kr]},$$scope:{ctx:s}}});const Vl=[Er,$r],Ut=[];function xl(L,ne){return L[3]==="role"?0:1}U=xl(s),W=Ut[U]=Vl[U](s);const Tl=[Vr,Ir],Lt=[];function Nl(L,ne){return L[3]==="name"?0:1}se=Nl(s),$e=Lt[se]=Tl[se](s);const Ml=[Mr,Nr],At=[];function Cl(L,ne){return L[3]==="email"?0:1}Ce=Cl(s),Ne=At[Ce]=Ml[Ce](s);const Ul=[Ar,Lr],St=[];function Ll(L,ne){return L[3]==="last_active_at"?0:1}Ae=Ll(s),He=St[Ae]=Ul[Ae](s);const Al=[Pr,Hr],Bt=[];function Sl(L,ne){return L[3]==="created_at"?0:1}Ke=Sl(s),Qe=Bt[Ke]=Al[Ke](s);const Bl=[Gr,Or],Ht=[];function Hl(L,ne){return L[3]==="oauth_sub"?0:1}rt=Hl(s),tt=Ht[rt]=Bl[rt](s);let qt=Yt(s[10]),Fe=[];for(let L=0;L<qt.length;L+=1)Fe[L]=ss(Xl(s,qt,L));const Es=L=>A(Fe[L],1,1,()=>{Fe[L]=null});function ys(L){s[37](L)}let Pl={count:s[0].length};return s[2]!==void 0&&(Pl.page=s[2]),ht=new Ls({props:Pl}),Pe.push(()=>je(ht,"page",ys)),{c(){ue(e.$$.fragment),l=I(),vt.c(),o=I(),ue(a.$$.fragment),u=I(),ue(m.$$.fragment),g=I(),p=d("div"),w=d("div"),T=K(b),y=I(),k=d("div"),N=I(),D=d("span"),E=K($),G=I(),B=d("div"),x=d("div"),z=d("div"),J=d("div"),J.innerHTML=S,Y=I(),j=d("input"),P=I(),C=d("div"),ue(Z.$$.fragment),le=I(),oe=d("div"),F=d("table"),R=d("thead"),O=d("tr"),ie=d("th"),he=d("div"),te=K(H),_e=I(),W.c(),me=I(),ve=d("th"),Ee=d("div"),ke=K(ye),re=I(),$e.c(),xe=I(),Ve=d("th"),Oe=d("div"),Ue=K(Me),Le=I(),Ne.c(),Ge=I(),We=d("th"),ae=d("div"),we=K(ge),De=I(),He.c(),Je=I(),lt=d("th"),Ie=d("div"),mt=K(nt),wt=I(),Qe.c(),ut=I(),st=d("th"),pt=d("div"),kt=K(Dt),Ct=I(),tt.c(),Mt=I(),pe=d("th"),Te=I(),qe=d("tbody");for(let L=0;L<Fe.length;L+=1)Fe[L].c();It=I(),ft=d("div"),Vt=K("ⓘ "),xt=K(bt),$t=I(),ue(ht.$$.fragment),this.h()},l(L){fe(e.$$.fragment,L),l=V(L),vt.l(L),o=V(L),fe(a.$$.fragment,L),u=V(L),fe(m.$$.fragment,L),g=V(L),p=_(L,"DIV",{class:!0});var ne=h(p);w=_(ne,"DIV",{class:!0});var gt=h(w);T=Q(gt,b),y=V(gt),k=_(gt,"DIV",{class:!0}),h(k).forEach(c),N=V(gt),D=_(gt,"SPAN",{class:!0});var cl=h(D);E=Q(cl,$),cl.forEach(c),gt.forEach(c),G=V(ne),B=_(ne,"DIV",{class:!0});var Xt=h(B);x=_(Xt,"DIV",{class:!0});var Pt=h(x);z=_(Pt,"DIV",{class:!0});var zt=h(z);J=_(zt,"DIV",{class:!0,"data-svelte-h":!0}),et(J)!=="svelte-8l37wj"&&(J.innerHTML=S),Y=V(zt),j=_(zt,"INPUT",{class:!0,placeholder:!0}),zt.forEach(c),P=V(Pt),C=_(Pt,"DIV",{});var el=h(C);fe(Z.$$.fragment,el),el.forEach(c),Pt.forEach(c),Xt.forEach(c),ne.forEach(c),le=V(L),oe=_(L,"DIV",{class:!0});var tl=h(oe);F=_(tl,"TABLE",{class:!0});var jt=h(F);R=_(jt,"THEAD",{class:!0});var ll=h(R);O=_(ll,"TR",{class:!0});var at=h(O);ie=_(at,"TH",{scope:!0,class:!0});var sl=h(ie);he=_(sl,"DIV",{class:!0});var Xe=h(he);te=Q(Xe,H),_e=V(Xe),W.l(Xe),Xe.forEach(c),sl.forEach(c),me=V(at),ve=_(at,"TH",{scope:!0,class:!0});var dl=h(ve);Ee=_(dl,"DIV",{class:!0});var vl=h(Ee);ke=Q(vl,ye),re=V(vl),$e.l(vl),vl.forEach(c),dl.forEach(c),xe=V(at),Ve=_(at,"TH",{scope:!0,class:!0});var zl=h(Ve);Oe=_(zl,"DIV",{class:!0});var gl=h(Oe);Ue=Q(gl,Me),Le=V(gl),Ne.l(gl),gl.forEach(c),zl.forEach(c),Ge=V(at),We=_(at,"TH",{scope:!0,class:!0});var jl=h(We);ae=_(jl,"DIV",{class:!0});var wl=h(ae);we=Q(wl,ge),De=V(wl),He.l(wl),wl.forEach(c),jl.forEach(c),Je=V(at),lt=_(at,"TH",{scope:!0,class:!0});var Ol=h(lt);Ie=_(Ol,"DIV",{class:!0});var bl=h(Ie);mt=Q(bl,nt),wt=V(bl),Qe.l(bl),bl.forEach(c),Ol.forEach(c),ut=V(at),st=_(at,"TH",{scope:!0,class:!0});var Gl=h(st);pt=_(Gl,"DIV",{class:!0});var kl=h(pt);kt=Q(kl,Dt),Ct=V(kl),tt.l(kl),kl.forEach(c),Gl.forEach(c),Mt=V(at),pe=_(at,"TH",{scope:!0,class:!0}),h(pe).forEach(c),at.forEach(c),ll.forEach(c),Te=V(jt),qe=_(jt,"TBODY",{class:!0});var Yl=h(qe);for(let El=0;El<Fe.length;El+=1)Fe[El].l(Yl);Yl.forEach(c),jt.forEach(c),tl.forEach(c),It=V(L),ft=_(L,"DIV",{class:!0});var $l=h(ft);Vt=Q($l,"ⓘ "),xt=Q($l,bt),$l.forEach(c),$t=V(L),fe(ht.$$.fragment,L),this.h()},h(){f(k,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),f(D,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),f(w,"class","flex md:self-center text-lg font-medium px-0.5"),f(J,"class","self-center ml-1 mr-3"),f(j,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),f(j,"placeholder",X=s[12].t("Search")),f(z,"class","flex flex-1"),f(x,"class","flex w-full space-x-2"),f(B,"class","flex gap-1"),f(p,"class","mt-0.5 mb-2 gap-1 flex flex-col md:flex-row justify-between"),f(he,"class","flex gap-1.5 items-center"),f(ie,"scope","col"),f(ie,"class","px-3 py-1.5 cursor-pointer select-none"),f(Ee,"class","flex gap-1.5 items-center"),f(ve,"scope","col"),f(ve,"class","px-3 py-1.5 cursor-pointer select-none"),f(Oe,"class","flex gap-1.5 items-center"),f(Ve,"scope","col"),f(Ve,"class","px-3 py-1.5 cursor-pointer select-none"),f(ae,"class","flex gap-1.5 items-center"),f(We,"scope","col"),f(We,"class","px-3 py-1.5 cursor-pointer select-none"),f(Ie,"class","flex gap-1.5 items-center"),f(lt,"scope","col"),f(lt,"class","px-3 py-1.5 cursor-pointer select-none"),f(pt,"class","flex gap-1.5 items-center"),f(st,"scope","col"),f(st,"class","px-3 py-1.5 cursor-pointer select-none"),f(pe,"scope","col"),f(pe,"class","px-3 py-2 text-right"),f(O,"class",""),f(R,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-850 dark:text-gray-400 -translate-y-0.5"),f(qe,"class",""),f(F,"class","w-full text-sm text-left text-gray-500 dark:text-gray-400 table-auto max-w-full rounded"),f(oe,"class","scrollbar-hidden relative whitespace-nowrap overflow-x-auto max-w-full rounded pt-0.5"),f(ft,"class","text-gray-500 text-xs mt-1.5 text-right")},m(L,ne){ce(e,L,ne),q(L,l,ne),vt.m(L,ne),q(L,o,ne),ce(a,L,ne),q(L,u,ne),ce(m,L,ne),q(L,g,ne),q(L,p,ne),n(p,w),n(w,T),n(w,y),n(w,k),n(w,N),n(w,D),n(D,E),n(p,G),n(p,B),n(B,x),n(x,z),n(z,J),n(z,Y),n(z,j),Re(j,s[1]),n(x,P),n(x,C),ce(Z,C,null),q(L,le,ne),q(L,oe,ne),n(oe,F),n(F,R),n(R,O),n(O,ie),n(ie,he),n(he,te),n(he,_e),Ut[U].m(he,null),n(O,me),n(O,ve),n(ve,Ee),n(Ee,ke),n(Ee,re),Lt[se].m(Ee,null),n(O,xe),n(O,Ve),n(Ve,Oe),n(Oe,Ue),n(Oe,Le),At[Ce].m(Oe,null),n(O,Ge),n(O,We),n(We,ae),n(ae,we),n(ae,De),St[Ae].m(ae,null),n(O,Je),n(O,lt),n(lt,Ie),n(Ie,mt),n(Ie,wt),Bt[Ke].m(Ie,null),n(O,ut),n(O,st),n(st,pt),n(pt,kt),n(pt,Ct),Ht[rt].m(pt,null),n(O,Mt),n(O,pe),n(F,Te),n(F,qe);for(let gt=0;gt<Fe.length;gt+=1)Fe[gt]&&Fe[gt].m(qe,null);q(L,It,ne),q(L,ft,ne),n(ft,Vt),n(ft,xt),q(L,$t,ne),ce(ht,L,ne),Ye=!0,Kt||(Zt=[be(j,"input",s[25]),be(ie,"click",s[27]),be(ve,"click",s[28]),be(Ve,"click",s[29]),be(We,"click",s[30]),be(lt,"click",s[31]),be(st,"click",s[32])],Kt=!0)},p(L,ne){const gt={};!t&&ne[0]&64&&(t=!0,gt.show=L[6],ze(()=>t=!1)),e.$set(gt),ne[0]&32&&it(r,r=L[5])?(Se(),A(vt,1,1,Ze),Be(),vt=es(L),vt.c(),M(vt,1),vt.m(o.parentNode,o)):vt.p(L,ne);const cl={};!i&&ne[0]&128&&(i=!0,cl.show=L[7],ze(()=>i=!1)),a.$set(cl);const Xt={};ne[0]&32&&(Xt.user=L[5]),!v&&ne[0]&256&&(v=!0,Xt.show=L[8],ze(()=>v=!1)),m.$set(Xt),(!Ye||ne[0]&4096)&&b!==(b=L[12].t("Users")+"")&&ee(T,b),(!Ye||ne[0]&1)&&$!==($=L[0].length+"")&&ee(E,$),(!Ye||ne[0]&4096&&X!==(X=L[12].t("Search")))&&f(j,"placeholder",X),ne[0]&2&&j.value!==L[1]&&Re(j,L[1]);const Pt={};ne[0]&4096&&(Pt.content=L[12].t("Add User")),ne[0]&128|ne[1]&1024&&(Pt.$$scope={dirty:ne,ctx:L}),Z.$set(Pt),(!Ye||ne[0]&4096)&&H!==(H=L[12].t("Role")+"")&&ee(te,H);let zt=U;U=xl(L),U===zt?Ut[U].p(L,ne):(Se(),A(Ut[zt],1,1,()=>{Ut[zt]=null}),Be(),W=Ut[U],W?W.p(L,ne):(W=Ut[U]=Vl[U](L),W.c()),M(W,1),W.m(he,null)),(!Ye||ne[0]&4096)&&ye!==(ye=L[12].t("Name")+"")&&ee(ke,ye);let el=se;se=Nl(L),se===el?Lt[se].p(L,ne):(Se(),A(Lt[el],1,1,()=>{Lt[el]=null}),Be(),$e=Lt[se],$e?$e.p(L,ne):($e=Lt[se]=Tl[se](L),$e.c()),M($e,1),$e.m(Ee,null)),(!Ye||ne[0]&4096)&&Me!==(Me=L[12].t("Email")+"")&&ee(Ue,Me);let tl=Ce;Ce=Cl(L),Ce===tl?At[Ce].p(L,ne):(Se(),A(At[tl],1,1,()=>{At[tl]=null}),Be(),Ne=At[Ce],Ne?Ne.p(L,ne):(Ne=At[Ce]=Ml[Ce](L),Ne.c()),M(Ne,1),Ne.m(Oe,null)),(!Ye||ne[0]&4096)&&ge!==(ge=L[12].t("Last Active")+"")&&ee(we,ge);let jt=Ae;Ae=Ll(L),Ae===jt?St[Ae].p(L,ne):(Se(),A(St[jt],1,1,()=>{St[jt]=null}),Be(),He=St[Ae],He?He.p(L,ne):(He=St[Ae]=Ul[Ae](L),He.c()),M(He,1),He.m(ae,null)),(!Ye||ne[0]&4096)&&nt!==(nt=L[12].t("Created at")+"")&&ee(mt,nt);let ll=Ke;Ke=Sl(L),Ke===ll?Bt[Ke].p(L,ne):(Se(),A(Bt[ll],1,1,()=>{Bt[ll]=null}),Be(),Qe=Bt[Ke],Qe?Qe.p(L,ne):(Qe=Bt[Ke]=Al[Ke](L),Qe.c()),M(Qe,1),Qe.m(Ie,null)),(!Ye||ne[0]&4096)&&Dt!==(Dt=L[12].t("OAuth ID")+"")&&ee(kt,Dt);let at=rt;if(rt=Hl(L),rt===at?Ht[rt].p(L,ne):(Se(),A(Ht[at],1,1,()=>{Ht[at]=null}),Be(),tt=Ht[rt],tt?tt.p(L,ne):(tt=Ht[rt]=Bl[rt](L),tt.c()),M(tt,1),tt.m(pt,null)),ne[0]&46944){qt=Yt(L[10]);let Xe;for(Xe=0;Xe<qt.length;Xe+=1){const dl=Xl(L,qt,Xe);Fe[Xe]?(Fe[Xe].p(dl,ne),M(Fe[Xe],1)):(Fe[Xe]=ss(dl),Fe[Xe].c(),M(Fe[Xe],1),Fe[Xe].m(qe,null))}for(Se(),Xe=qt.length;Xe<Fe.length;Xe+=1)Es(Xe);Be()}(!Ye||ne[0]&4096)&&bt!==(bt=L[12].t("Click on the user role button to change a user's role.")+"")&&ee(xt,bt);const sl={};ne[0]&1&&(sl.count=L[0].length),!Ft&&ne[0]&4&&(Ft=!0,sl.page=L[2],ze(()=>Ft=!1)),ht.$set(sl)},i(L){if(!Ye){M(e.$$.fragment,L),M(vt),M(a.$$.fragment,L),M(m.$$.fragment,L),M(Z.$$.fragment,L),M(W),M($e),M(Ne),M(He),M(Qe),M(tt);for(let ne=0;ne<qt.length;ne+=1)M(Fe[ne]);M(ht.$$.fragment,L),Ye=!0}},o(L){A(e.$$.fragment,L),A(vt),A(a.$$.fragment,L),A(m.$$.fragment,L),A(Z.$$.fragment,L),A(W),A($e),A(Ne),A(He),A(Qe),A(tt),Fe=Fe.filter(Boolean);for(let ne=0;ne<Fe.length;ne+=1)A(Fe[ne]);A(ht.$$.fragment,L),Ye=!1},d(L){L&&(c(l),c(o),c(u),c(g),c(p),c(le),c(oe),c(It),c(ft),c($t)),de(e,L),vt.d(L),de(a,L),de(m,L),de(Z),Ut[U].d(),Lt[se].d(),At[Ce].d(),St[Ae].d(),Bt[Ke].d(),Ht[rt].d(),Dl(Fe,L),de(ht,L),Kt=!1,Nt(Zt)}}}function Kr(s,e,t){let l,r,o;ct(s,Il,H=>t(11,l=H)),ct(s,Vs,H=>t(13,o=H)),Tt.extend(gs);const a=Et("i18n");ct(s,a,H=>t(12,r=H));let{users:i=[]}=e,u="",m=null,v=1,g=!1,p=!1,w=!1,b=!1;const T=async(H,te)=>{await Ts(localStorage.token,H,te).catch(U=>(ot.error(U),null))&&t(0,i=await rl(localStorage.token))},y=async H=>{await Ns(localStorage.token,H).catch(_e=>(ot.error(_e),null))&&t(0,i=await rl(localStorage.token))};let k="created_at",N="asc";function D(H){k===H?t(4,N=N==="asc"?"desc":"asc"):(t(3,k=H),t(4,N="asc"))}let $;function E(H){g=H,t(6,g)}const G=()=>{y(m.id)};function B(H){b=H,t(9,b)}const x=async()=>{t(0,i=await rl(localStorage.token))};function z(H){p=H,t(7,p)}const J=async()=>{t(0,i=await rl(localStorage.token))};function S(H){w=H,t(8,w)}function Y(){u=this.value,t(1,u)}const j=()=>{t(7,p=!p)},X=()=>D("role"),P=()=>D("name"),C=()=>D("email"),Z=()=>D("last_active_at"),le=()=>D("created_at"),oe=()=>D("oauth_sub"),F=H=>{H.role==="user"?T(H.id,"admin"):H.role==="pending"?T(H.id,"user"):T(H.id,"pending")},R=async H=>{t(8,w=!w),t(5,m=H)},O=async H=>{t(9,b=!b),t(5,m=H)},ie=async H=>{t(6,g=!0),t(5,m=H)};function he(H){v=H,t(2,v)}return s.$$set=H=>{"users"in H&&t(0,i=H.users)},s.$$.update=()=>{s.$$.dirty[0]&31&&t(10,$=i.filter(H=>{if(u==="")return!0;{let te=H.name.toLowerCase();const _e=u.toLowerCase();return te.includes(_e)}}).sort((H,te)=>H[k]<te[k]?N==="asc"?-1:1:H[k]>te[k]?N==="asc"?1:-1:0).slice((v-1)*20,v*20))},[i,u,v,k,N,m,g,p,w,b,$,l,r,o,a,T,y,D,E,G,B,x,z,J,S,Y,j,X,P,C,Z,le,oe,F,R,O,ie,he]}class Qr extends dt{constructor(e){super(),_t(this,e,Kr,Fr,it,{users:0},null,[-1,-1])}}function Jr(s){let e,t;return{c(){e=al("svg"),t=al("path"),this.h()},l(l){e=nl(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=h(e);t=nl(r,"path",{d:!0}),h(t).forEach(c),r.forEach(c),this.h()},h(){f(t,"d","M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 24 24"),f(e,"fill","currentColor"),f(e,"class",s[0])},m(l,r){q(l,e,r),n(e,t)},p(l,[r]){r&1&&f(e,"class",l[0])},i:Ze,o:Ze,d(l){l&&c(e)}}}function Xr(s,e,t){let{className:l="size-4"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className)},[l]}class ea extends dt{constructor(e){super(),_t(this,e,Xr,Jr,it,{className:0})}}function ta(s){let e,t,l,r=s[2].t("Name")+"",o,a,i,u,m,v,g,p,w=s[2].t("Description")+"",b,T,y,k,N,D,$,E;function G(x){s[6](x)}let B={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none resize-none",rows:4,placeholder:s[2].t("Group Description")};return s[1]!==void 0&&(B.value=s[1]),k=new ks({props:B}),Pe.push(()=>je(k,"value",G)),{c(){e=d("div"),t=d("div"),l=d("div"),o=K(r),a=I(),i=d("div"),u=d("input"),v=I(),g=d("div"),p=d("div"),b=K(w),T=I(),y=d("div"),ue(k.$$.fragment),this.h()},l(x){e=_(x,"DIV",{class:!0});var z=h(e);t=_(z,"DIV",{class:!0});var J=h(t);l=_(J,"DIV",{class:!0});var S=h(l);o=Q(S,r),S.forEach(c),a=V(J),i=_(J,"DIV",{class:!0});var Y=h(i);u=_(Y,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Y.forEach(c),J.forEach(c),z.forEach(c),v=V(x),g=_(x,"DIV",{class:!0});var j=h(g);p=_(j,"DIV",{class:!0});var X=h(p);b=Q(X,w),X.forEach(c),T=V(j),y=_(j,"DIV",{class:!0});var P=h(y);fe(k.$$.fragment,P),P.forEach(c),j.forEach(c),this.h()},h(){f(l,"class","mb-0.5 text-xs text-gray-500"),f(u,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),f(u,"type","text"),f(u,"placeholder",m=s[2].t("Group Name")),f(u,"autocomplete","off"),u.required=!0,f(i,"class","flex-1"),f(t,"class","flex flex-col w-full"),f(e,"class","flex gap-2"),f(p,"class","mb-1 text-xs text-gray-500"),f(y,"class","flex-1"),f(g,"class","flex flex-col w-full mt-2")},m(x,z){q(x,e,z),n(e,t),n(t,l),n(l,o),n(t,a),n(t,i),n(i,u),Re(u,s[0]),q(x,v,z),q(x,g,z),n(g,p),n(p,b),n(g,T),n(g,y),ce(k,y,null),D=!0,$||(E=be(u,"input",s[5]),$=!0)},p(x,[z]){(!D||z&4)&&r!==(r=x[2].t("Name")+"")&&ee(o,r),(!D||z&4&&m!==(m=x[2].t("Group Name")))&&f(u,"placeholder",m),z&1&&u.value!==x[0]&&Re(u,x[0]),(!D||z&4)&&w!==(w=x[2].t("Description")+"")&&ee(b,w);const J={};z&4&&(J.placeholder=x[2].t("Group Description")),!N&&z&2&&(N=!0,J.value=x[1],ze(()=>N=!1)),k.$set(J)},i(x){D||(M(k.$$.fragment,x),D=!0)},o(x){A(k.$$.fragment,x),D=!1},d(x){x&&(c(e),c(v),c(g)),de(k),$=!1,E()}}}function la(s,e,t){let l;const r=Et("i18n");ct(s,r,v=>t(2,l=v));let{name:o=""}=e,{color:a=""}=e,{description:i=""}=e;function u(){o=this.value,t(0,o)}function m(v){i=v,t(1,i)}return s.$$set=v=>{"name"in v&&t(0,o=v.name),"color"in v&&t(4,a=v.color),"description"in v&&t(1,i=v.description)},[o,i,l,r,a,u,m]}class sa extends dt{constructor(e){super(),_t(this,e,la,ta,it,{name:0,color:4,description:1})}}function ra(s){let e,t=s[1].t("Tools Access")+"",l,r,o,a,i;function u(v){s[6](v)}let m={};return s[0].workspace.tools!==void 0&&(m.state=s[0].workspace.tools),o=new Ot({props:m}),Pe.push(()=>je(o,"state",u)),{c(){e=d("div"),l=K(t),r=I(),ue(o.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var g=h(e);l=Q(g,t),g.forEach(c),r=V(v),fe(o.$$.fragment,v),this.h()},h(){f(e,"class","self-center text-xs font-medium")},m(v,g){q(v,e,g),n(e,l),q(v,r,g),ce(o,v,g),i=!0},p(v,g){(!i||g&2)&&t!==(t=v[1].t("Tools Access")+"")&&ee(l,t);const p={};!a&&g&1&&(a=!0,p.state=v[0].workspace.tools,ze(()=>a=!1)),o.$set(p)},i(v){i||(M(o.$$.fragment,v),i=!0)},o(v){A(o.$$.fragment,v),i=!1},d(v){v&&(c(e),c(r)),de(o,v)}}}function aa(s){let e,t,l,r=s[1].t("Workspace Permissions")+"",o,a,i,u,m=s[1].t("Models Access")+"",v,g,p,w,b,T,y,k=s[1].t("Knowledge Access")+"",N,D,$,E,G,B,x,z=s[1].t("Prompts Access")+"",J,S,Y,j,X,P,C,Z,le,oe,F,R,O=s[1].t("Chat Permissions")+"",ie,he,H,te,_e=s[1].t("Allow File Upload")+"",U,W,me,ve,Ee,ye,ke,re=s[1].t("Allow Chat Delete")+"",se,$e,xe,Ve,Oe,Me,Ue,Le=s[1].t("Allow Chat Edit")+"",Ce,Ne,Ge,We,ae,ge,we,De=s[1].t("Allow Temporary Chat")+"",Ae,He,Je,lt,Ie;function nt(pe){s[3](pe)}let mt={};s[0].workspace.models!==void 0&&(mt.state=s[0].workspace.models),p=new Ot({props:mt}),Pe.push(()=>je(p,"state",nt));function wt(pe){s[4](pe)}let Ke={};s[0].workspace.knowledge!==void 0&&(Ke.state=s[0].workspace.knowledge),$=new Ot({props:Ke}),Pe.push(()=>je($,"state",wt));function Qe(pe){s[5](pe)}let ut={};s[0].workspace.prompts!==void 0&&(ut.state=s[0].workspace.prompts),Y=new Ot({props:ut}),Pe.push(()=>je(Y,"state",Qe)),C=new Rt({props:{className:" flex w-full justify-between my-2 pr-2",content:s[1].t("Warning: Enabling this will allow users to upload arbitrary code on the server."),placement:"top-start",$$slots:{default:[ra]},$$scope:{ctx:s}}});function st(pe){s[7](pe)}let pt={};s[0].chat.file_upload!==void 0&&(pt.state=s[0].chat.file_upload),me=new Ot({props:pt}),Pe.push(()=>je(me,"state",st));function Dt(pe){s[8](pe)}let kt={};s[0].chat.delete!==void 0&&(kt.state=s[0].chat.delete),xe=new Ot({props:kt}),Pe.push(()=>je(xe,"state",Dt));function Ct(pe){s[9](pe)}let rt={};s[0].chat.edit!==void 0&&(rt.state=s[0].chat.edit),Ge=new Ot({props:rt}),Pe.push(()=>je(Ge,"state",Ct));function tt(pe){s[10](pe)}let Mt={};return s[0].chat.temporary!==void 0&&(Mt.state=s[0].chat.temporary),Je=new Ot({props:Mt}),Pe.push(()=>je(Je,"state",tt)),{c(){e=d("div"),t=d("div"),l=d("div"),o=K(r),a=I(),i=d("div"),u=d("div"),v=K(m),g=I(),ue(p.$$.fragment),b=I(),T=d("div"),y=d("div"),N=K(k),D=I(),ue($.$$.fragment),G=I(),B=d("div"),x=d("div"),J=K(z),S=I(),ue(Y.$$.fragment),X=I(),P=d("div"),ue(C.$$.fragment),Z=I(),le=d("hr"),oe=I(),F=d("div"),R=d("div"),ie=K(O),he=I(),H=d("div"),te=d("div"),U=K(_e),W=I(),ue(me.$$.fragment),Ee=I(),ye=d("div"),ke=d("div"),se=K(re),$e=I(),ue(xe.$$.fragment),Oe=I(),Me=d("div"),Ue=d("div"),Ce=K(Le),Ne=I(),ue(Ge.$$.fragment),ae=I(),ge=d("div"),we=d("div"),Ae=K(De),He=I(),ue(Je.$$.fragment),this.h()},l(pe){e=_(pe,"DIV",{});var Te=h(e);t=_(Te,"DIV",{});var qe=h(t);l=_(qe,"DIV",{class:!0});var It=h(l);o=Q(It,r),It.forEach(c),a=V(qe),i=_(qe,"DIV",{class:!0});var ft=h(i);u=_(ft,"DIV",{class:!0});var Vt=h(u);v=Q(Vt,m),Vt.forEach(c),g=V(ft),fe(p.$$.fragment,ft),ft.forEach(c),b=V(qe),T=_(qe,"DIV",{class:!0});var bt=h(T);y=_(bt,"DIV",{class:!0});var xt=h(y);N=Q(xt,k),xt.forEach(c),D=V(bt),fe($.$$.fragment,bt),bt.forEach(c),G=V(qe),B=_(qe,"DIV",{class:!0});var $t=h(B);x=_($t,"DIV",{class:!0});var ht=h(x);J=Q(ht,z),ht.forEach(c),S=V($t),fe(Y.$$.fragment,$t),$t.forEach(c),X=V(qe),P=_(qe,"DIV",{class:!0});var Ft=h(P);fe(C.$$.fragment,Ft),Ft.forEach(c),qe.forEach(c),Z=V(Te),le=_(Te,"HR",{class:!0}),oe=V(Te),F=_(Te,"DIV",{});var Ye=h(F);R=_(Ye,"DIV",{class:!0});var Kt=h(R);ie=Q(Kt,O),Kt.forEach(c),he=V(Ye),H=_(Ye,"DIV",{class:!0});var Zt=h(H);te=_(Zt,"DIV",{class:!0});var hl=h(te);U=Q(hl,_e),hl.forEach(c),W=V(Zt),fe(me.$$.fragment,Zt),Zt.forEach(c),Ee=V(Ye),ye=_(Ye,"DIV",{class:!0});var Wt=h(ye);ke=_(Wt,"DIV",{class:!0});var vt=h(ke);se=Q(vt,re),vt.forEach(c),$e=V(Wt),fe(xe.$$.fragment,Wt),Wt.forEach(c),Oe=V(Ye),Me=_(Ye,"DIV",{class:!0});var Qt=h(Me);Ue=_(Qt,"DIV",{class:!0});var ul=h(Ue);Ce=Q(ul,Le),ul.forEach(c),Ne=V(Qt),fe(Ge.$$.fragment,Qt),Qt.forEach(c),ae=V(Ye),ge=_(Ye,"DIV",{class:!0});var Jt=h(ge);we=_(Jt,"DIV",{class:!0});var fl=h(we);Ae=Q(fl,De),fl.forEach(c),He=V(Jt),fe(Je.$$.fragment,Jt),Jt.forEach(c),Ye.forEach(c),Te.forEach(c),this.h()},h(){f(l,"class","mb-2 text-sm font-medium"),f(u,"class","self-center text-xs font-medium"),f(i,"class","flex w-full justify-between my-2 pr-2"),f(y,"class","self-center text-xs font-medium"),f(T,"class","flex w-full justify-between my-2 pr-2"),f(x,"class","self-center text-xs font-medium"),f(B,"class","flex w-full justify-between my-2 pr-2"),f(P,"class",""),f(le,"class","border-gray-50 dark:border-gray-850 my-2"),f(R,"class","mb-2 text-sm font-medium"),f(te,"class","self-center text-xs font-medium"),f(H,"class","flex w-full justify-between my-2 pr-2"),f(ke,"class","self-center text-xs font-medium"),f(ye,"class","flex w-full justify-between my-2 pr-2"),f(Ue,"class","self-center text-xs font-medium"),f(Me,"class","flex w-full justify-between my-2 pr-2"),f(we,"class","self-center text-xs font-medium"),f(ge,"class","flex w-full justify-between my-2 pr-2")},m(pe,Te){q(pe,e,Te),n(e,t),n(t,l),n(l,o),n(t,a),n(t,i),n(i,u),n(u,v),n(i,g),ce(p,i,null),n(t,b),n(t,T),n(T,y),n(y,N),n(T,D),ce($,T,null),n(t,G),n(t,B),n(B,x),n(x,J),n(B,S),ce(Y,B,null),n(t,X),n(t,P),ce(C,P,null),n(e,Z),n(e,le),n(e,oe),n(e,F),n(F,R),n(R,ie),n(F,he),n(F,H),n(H,te),n(te,U),n(H,W),ce(me,H,null),n(F,Ee),n(F,ye),n(ye,ke),n(ke,se),n(ye,$e),ce(xe,ye,null),n(F,Oe),n(F,Me),n(Me,Ue),n(Ue,Ce),n(Me,Ne),ce(Ge,Me,null),n(F,ae),n(F,ge),n(ge,we),n(we,Ae),n(ge,He),ce(Je,ge,null),Ie=!0},p(pe,[Te]){(!Ie||Te&2)&&r!==(r=pe[1].t("Workspace Permissions")+"")&&ee(o,r),(!Ie||Te&2)&&m!==(m=pe[1].t("Models Access")+"")&&ee(v,m);const qe={};!w&&Te&1&&(w=!0,qe.state=pe[0].workspace.models,ze(()=>w=!1)),p.$set(qe),(!Ie||Te&2)&&k!==(k=pe[1].t("Knowledge Access")+"")&&ee(N,k);const It={};!E&&Te&1&&(E=!0,It.state=pe[0].workspace.knowledge,ze(()=>E=!1)),$.$set(It),(!Ie||Te&2)&&z!==(z=pe[1].t("Prompts Access")+"")&&ee(J,z);const ft={};!j&&Te&1&&(j=!0,ft.state=pe[0].workspace.prompts,ze(()=>j=!1)),Y.$set(ft);const Vt={};Te&2&&(Vt.content=pe[1].t("Warning: Enabling this will allow users to upload arbitrary code on the server.")),Te&2051&&(Vt.$$scope={dirty:Te,ctx:pe}),C.$set(Vt),(!Ie||Te&2)&&O!==(O=pe[1].t("Chat Permissions")+"")&&ee(ie,O),(!Ie||Te&2)&&_e!==(_e=pe[1].t("Allow File Upload")+"")&&ee(U,_e);const bt={};!ve&&Te&1&&(ve=!0,bt.state=pe[0].chat.file_upload,ze(()=>ve=!1)),me.$set(bt),(!Ie||Te&2)&&re!==(re=pe[1].t("Allow Chat Delete")+"")&&ee(se,re);const xt={};!Ve&&Te&1&&(Ve=!0,xt.state=pe[0].chat.delete,ze(()=>Ve=!1)),xe.$set(xt),(!Ie||Te&2)&&Le!==(Le=pe[1].t("Allow Chat Edit")+"")&&ee(Ce,Le);const $t={};!We&&Te&1&&(We=!0,$t.state=pe[0].chat.edit,ze(()=>We=!1)),Ge.$set($t),(!Ie||Te&2)&&De!==(De=pe[1].t("Allow Temporary Chat")+"")&&ee(Ae,De);const ht={};!lt&&Te&1&&(lt=!0,ht.state=pe[0].chat.temporary,ze(()=>lt=!1)),Je.$set(ht)},i(pe){Ie||(M(p.$$.fragment,pe),M($.$$.fragment,pe),M(Y.$$.fragment,pe),M(C.$$.fragment,pe),M(me.$$.fragment,pe),M(xe.$$.fragment,pe),M(Ge.$$.fragment,pe),M(Je.$$.fragment,pe),Ie=!0)},o(pe){A(p.$$.fragment,pe),A($.$$.fragment,pe),A(Y.$$.fragment,pe),A(C.$$.fragment,pe),A(me.$$.fragment,pe),A(xe.$$.fragment,pe),A(Ge.$$.fragment,pe),A(Je.$$.fragment,pe),Ie=!1},d(pe){pe&&c(e),de(p),de($),de(Y),de(C),de(me),de(xe),de(Ge),de(Je)}}}function na(s,e,t){let l;const r=Et("i18n");ct(s,r,b=>t(1,l=b));let{permissions:o={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{delete:!0,edit:!0,temporary:!0,file_upload:!0}}}=e;function a(b){s.$$.not_equal(o.workspace.models,b)&&(o.workspace.models=b,t(0,o))}function i(b){s.$$.not_equal(o.workspace.knowledge,b)&&(o.workspace.knowledge=b,t(0,o))}function u(b){s.$$.not_equal(o.workspace.prompts,b)&&(o.workspace.prompts=b,t(0,o))}function m(b){s.$$.not_equal(o.workspace.tools,b)&&(o.workspace.tools=b,t(0,o))}function v(b){s.$$.not_equal(o.chat.file_upload,b)&&(o.chat.file_upload=b,t(0,o))}function g(b){s.$$.not_equal(o.chat.delete,b)&&(o.chat.delete=b,t(0,o))}function p(b){s.$$.not_equal(o.chat.edit,b)&&(o.chat.edit=b,t(0,o))}function w(b){s.$$.not_equal(o.chat.temporary,b)&&(o.chat.temporary=b,t(0,o))}return s.$$set=b=>{"permissions"in b&&t(0,o=b.permissions)},[o,l,r,a,i,u,m,v,g,p,w]}class oa extends dt{constructor(e){super(),_t(this,e,na,aa,it,{permissions:0})}}function rs(s,e,t){const l=s.slice();return l[8]=e[t],l[10]=t,l}function ia(s){let e,t=s[3].t("No users were found.")+"",l;return{c(){e=d("div"),l=K(t),this.h()},l(r){e=_(r,"DIV",{class:!0});var o=h(e);l=Q(o,t),o.forEach(c),this.h()},h(){f(e,"class","text-gray-500 text-xs text-center py-2 px-10")},m(r,o){q(r,e,o),n(e,l)},p(r,o){o&8&&t!==(t=r[3].t("No users were found.")+"")&&ee(l,t)},i:Ze,o:Ze,d(r){r&&c(e)}}}function ua(s){let e=[],t=new Map,l,r,o=Yt(s[2]);const a=i=>i[8].id;for(let i=0;i<o.length;i+=1){let u=rs(s,o,i),m=a(u);t.set(m,e[i]=ns(m,u))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=Gt()},l(i){for(let u=0;u<e.length;u+=1)e[u].l(i);l=Gt()},m(i,u){for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(i,u);q(i,l,u),r=!0},p(i,u){u&5&&(o=Yt(i[2]),Se(),e=Cs(e,u,a,1,i,o,t,l.parentNode,Us,ns,l,rs),Be())},i(i){if(!r){for(let u=0;u<o.length;u+=1)M(e[u]);r=!0}},o(i){for(let u=0;u<e.length;u+=1)A(e[u]);r=!1},d(i){i&&c(l);for(let u=0;u<e.length;u+=1)e[u].d(i)}}}function fa(s){let e,t,l,r,o,a=s[8].name+"",i;return{c(){e=d("div"),t=d("img"),r=I(),o=d("div"),i=K(a),this.h()},l(u){e=_(u,"DIV",{class:!0});var m=h(e);t=_(m,"IMG",{class:!0,src:!0,alt:!0}),r=V(m),o=_(m,"DIV",{class:!0});var v=h(o);i=Q(v,a),v.forEach(c),m.forEach(c),this.h()},h(){f(t,"class","rounded-full size-5 object-cover mr-2.5"),ol(t.src,l=s[8].profile_image_url.startsWith(_l)||s[8].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[8].profile_image_url.startsWith("data:")?s[8].profile_image_url:"/user.png")||f(t,"src",l),f(t,"alt","user"),f(o,"class","font-medium self-center"),f(e,"class","flex")},m(u,m){q(u,e,m),n(e,t),n(e,r),n(e,o),n(o,i)},p(u,m){m&4&&!ol(t.src,l=u[8].profile_image_url.startsWith(_l)||u[8].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||u[8].profile_image_url.startsWith("data:")?u[8].profile_image_url:"/user.png")&&f(t,"src",l),m&4&&a!==(a=u[8].name+"")&&ee(i,a)},d(u){u&&c(e)}}}function as(s){let e,t;return e=new ws({props:{type:"success",content:"member"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function ns(s,e){let t,l,r,o,a,i,u,m=e[0].includes(e[8].id),v,g;function p(...b){return e[7](e[8],...b)}r=new Ps({props:{state:e[0].includes(e[8].id)?"checked":"unchecked"}}),r.$on("change",p),i=new Rt({props:{content:e[8].email,placement:"top-start",$$slots:{default:[fa]},$$scope:{ctx:e}}});let w=m&&as();return{key:s,first:null,c(){t=d("div"),l=d("div"),ue(r.$$.fragment),o=I(),a=d("div"),ue(i.$$.fragment),u=I(),w&&w.c(),v=I(),this.h()},l(b){t=_(b,"DIV",{class:!0});var T=h(t);l=_(T,"DIV",{class:!0});var y=h(l);fe(r.$$.fragment,y),y.forEach(c),o=V(T),a=_(T,"DIV",{class:!0});var k=h(a);fe(i.$$.fragment,k),u=V(k),w&&w.l(k),k.forEach(c),v=V(T),T.forEach(c),this.h()},h(){f(l,"class","flex items-center"),f(a,"class","flex w-full items-center justify-between"),f(t,"class","flex flex-row items-center gap-3 w-full text-sm"),this.first=t},m(b,T){q(b,t,T),n(t,l),ce(r,l,null),n(t,o),n(t,a),ce(i,a,null),n(a,u),w&&w.m(a,null),n(t,v),g=!0},p(b,T){e=b;const y={};T&5&&(y.state=e[0].includes(e[8].id)?"checked":"unchecked"),r.$set(y);const k={};T&4&&(k.content=e[8].email),T&2052&&(k.$$scope={dirty:T,ctx:e}),i.$set(k),T&5&&(m=e[0].includes(e[8].id)),m?w?T&5&&M(w,1):(w=as(),w.c(),M(w,1),w.m(a,null)):w&&(Se(),A(w,1,1,()=>{w=null}),Be())},i(b){g||(M(r.$$.fragment,b),M(i.$$.fragment,b),M(w),g=!0)},o(b){A(r.$$.fragment,b),A(i.$$.fragment,b),A(w),g=!1},d(b){b&&c(t),de(r),de(i),w&&w.d()}}}function ca(s){let e,t,l,r,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',a,i,u,m,v,g,p,w,b,T,y;const k=[ua,ia],N=[];function D($,E){return $[2].length>0?0:1}return p=D(s),w=N[p]=k[p](s),{c(){e=d("div"),t=d("div"),l=d("div"),r=d("div"),r.innerHTML=o,a=I(),i=d("input"),m=I(),v=d("div"),g=d("div"),w.c(),this.h()},l($){e=_($,"DIV",{});var E=h(e);t=_(E,"DIV",{class:!0});var G=h(t);l=_(G,"DIV",{class:!0});var B=h(l);r=_(B,"DIV",{class:!0,"data-svelte-h":!0}),et(r)!=="svelte-r4ce5j"&&(r.innerHTML=o),a=V(B),i=_(B,"INPUT",{class:!0,placeholder:!0}),B.forEach(c),G.forEach(c),m=V(E),v=_(E,"DIV",{class:!0});var x=h(v);g=_(x,"DIV",{class:!0});var z=h(g);w.l(z),z.forEach(c),x.forEach(c),E.forEach(c),this.h()},h(){f(r,"class","self-center mr-3"),f(i,"class","w-full text-sm pr-4 rounded-r-xl outline-none bg-transparent"),f(i,"placeholder",u=s[3].t("Search")),f(l,"class","flex flex-1"),f(t,"class","flex w-full"),f(g,"class","flex flex-col gap-2.5"),f(v,"class","mt-3 max-h-[22rem] overflow-y-auto scrollbar-hidden")},m($,E){q($,e,E),n(e,t),n(t,l),n(l,r),n(l,a),n(l,i),Re(i,s[1]),n(e,m),n(e,v),n(v,g),N[p].m(g,null),b=!0,T||(y=be(i,"input",s[6]),T=!0)},p($,[E]){(!b||E&8&&u!==(u=$[3].t("Search")))&&f(i,"placeholder",u),E&2&&i.value!==$[1]&&Re(i,$[1]);let G=p;p=D($),p===G?N[p].p($,E):(Se(),A(N[G],1,1,()=>{N[G]=null}),Be(),w=N[p],w?w.p($,E):(w=N[p]=k[p]($),w.c()),M(w,1),w.m(g,null))},i($){b||(M(w),b=!0)},o($){A(w),b=!1},d($){$&&c(e),N[p].d(),T=!1,y()}}}function da(s,e,t){let l;const r=Et("i18n");ct(s,r,g=>t(3,l=g));let{users:o=[]}=e,{userIds:a=[]}=e,i=[],u="";function m(){u=this.value,t(1,u)}const v=(g,p)=>{p.detail==="checked"?t(0,a=[...a,g.id]):t(0,a=a.filter(w=>w!==g.id))};return s.$$set=g=>{"users"in g&&t(5,o=g.users),"userIds"in g&&t(0,a=g.userIds)},s.$$.update=()=>{s.$$.dirty&35&&t(2,i=o.filter(g=>(g==null?void 0:g.role)==="admin"?!1:u===""?!0:g.name.toLowerCase().includes(u.toLowerCase())||g.email.toLowerCase().includes(u.toLowerCase())).sort((g,p)=>{const w=a.indexOf(g.id),b=a.indexOf(p.id);return w!==-1&&b===-1?-1:b!==-1&&w===-1?1:w!==-1&&b!==-1?w-b:g.name.localeCompare(p.name)}))},[a,u,i,l,r,o,m,v]}let _a=class extends dt{constructor(e){super(),_t(this,e,da,ca,it,{users:5,userIds:0})}};function ma(s){let e,t;return{c(){e=al("svg"),t=al("path"),this.h()},l(l){e=nl(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=h(e);t=nl(r,"path",{d:!0}),h(t).forEach(c),r.forEach(c),this.h()},h(){f(t,"d","M10 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM1.615 16.428a1.224 1.224 0 0 1-.569-1.175 6.002 6.002 0 0 1 11.908 0c.058.467-.172.92-.57 1.174A9.953 9.953 0 0 1 7 18a9.953 9.953 0 0 1-5.385-1.572ZM16.25 5.75a.75.75 0 0 0-1.5 0v2h-2a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2v-2Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 20 20"),f(e,"fill","currentColor"),f(e,"class",s[0])},m(l,r){q(l,e,r),n(e,t)},p(l,[r]){r&1&&f(e,"class",l[0])},i:Ze,o:Ze,d(l){l&&c(e)}}}function pa(s,e,t){let{className:l="size-4"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className)},[l]}class ha extends dt{constructor(e){super(),_t(this,e,pa,ma,it,{className:0})}}function va(s){let e=s[12].t("Edit Default Permissions")+"",t;return{c(){t=K(e)},l(l){t=Q(l,e)},m(l,r){q(l,t,r)},p(l,r){r&4096&&e!==(e=l[12].t("Edit Default Permissions")+"")&&ee(t,e)},d(l){l&&c(t)}}}function ga(s){let e;function t(o,a){return o[6]?ba:wa}let l=t(s),r=l(s);return{c(){r.c(),e=Gt()},l(o){r.l(o),e=Gt()},m(o,a){r.m(o,a),q(o,e,a)},p(o,a){l===(l=t(o))&&r?r.p(o,a):(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&c(e),r.d(o)}}}function wa(s){let e=s[12].t("Add User Group")+"",t;return{c(){t=K(e)},l(l){t=Q(l,e)},m(l,r){q(l,t,r)},p(l,r){r&4096&&e!==(e=l[12].t("Add User Group")+"")&&ee(t,e)},d(l){l&&c(t)}}}function ba(s){let e=s[12].t("Edit User Group")+"",t;return{c(){t=K(e)},l(l){t=Q(l,e)},m(l,r){q(l,t,r)},p(l,r){r&4096&&e!==(e=l[12].t("Edit User Group")+"")&&ee(t,e)},d(l){l&&c(t)}}}function os(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',r,o,a=s[12].t("General")+"",i,u,m,v;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,r=I(),o=d("div"),i=K(a),this.h()},l(g){e=_(g,"BUTTON",{class:!0,type:!0});var p=h(e);t=_(p,"DIV",{class:!0,"data-svelte-h":!0}),et(t)!=="svelte-15gnf02"&&(t.innerHTML=l),r=V(p),o=_(p,"DIV",{class:!0});var w=h(o);i=Q(w,a),w.forEach(c),p.forEach(c),this.h()},h(){f(t,"class","self-center mr-2"),f(o,"class","self-center"),f(e,"class",u="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),f(e,"type","button")},m(g,p){q(g,e,p),n(e,t),n(e,r),n(e,o),n(o,i),m||(v=be(e,"click",s[18]),m=!0)},p(g,p){p&4096&&a!==(a=g[12].t("General")+"")&&ee(i,a),p&1024&&u!==(u="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(g[10]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&f(e,"class",u)},d(g){g&&c(e),m=!1,v()}}}function is(s){let e,t,l,r,o,a=s[12].t("Permissions")+"",i,u,m,v,g;return l=new zs({}),{c(){e=d("button"),t=d("div"),ue(l.$$.fragment),r=I(),o=d("div"),i=K(a),this.h()},l(p){e=_(p,"BUTTON",{class:!0,type:!0});var w=h(e);t=_(w,"DIV",{class:!0});var b=h(t);fe(l.$$.fragment,b),b.forEach(c),r=V(w),o=_(w,"DIV",{class:!0});var T=h(o);i=Q(T,a),T.forEach(c),w.forEach(c),this.h()},h(){f(t,"class","self-center mr-2"),f(o,"class","self-center"),f(e,"class",u="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="permissions"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),f(e,"type","button")},m(p,w){q(p,e,w),n(e,t),ce(l,t,null),n(e,r),n(e,o),n(o,i),m=!0,v||(g=be(e,"click",s[19]),v=!0)},p(p,w){(!m||w&4096)&&a!==(a=p[12].t("Permissions")+"")&&ee(i,a),(!m||w&1024&&u!==(u="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(p[10]==="permissions"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&f(e,"class",u)},i(p){m||(M(l.$$.fragment,p),m=!0)},o(p){A(l.$$.fragment,p),m=!1},d(p){p&&c(e),de(l),v=!1,g()}}}function us(s){let e,t,l,r,o,a=s[12].t("Users")+"",i,u,m=s[4].length+"",v,g,p,w,b,T;return l=new ha({}),{c(){e=d("button"),t=d("div"),ue(l.$$.fragment),r=I(),o=d("div"),i=K(a),u=K(" ("),v=K(m),g=K(")"),this.h()},l(y){e=_(y,"BUTTON",{class:!0,type:!0});var k=h(e);t=_(k,"DIV",{class:!0});var N=h(t);fe(l.$$.fragment,N),N.forEach(c),r=V(k),o=_(k,"DIV",{class:!0});var D=h(o);i=Q(D,a),u=Q(D," ("),v=Q(D,m),g=Q(D,")"),D.forEach(c),k.forEach(c),this.h()},h(){f(t,"class","self-center mr-2"),f(o,"class","self-center"),f(e,"class",p="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="users"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),f(e,"type","button")},m(y,k){q(y,e,k),n(e,t),ce(l,t,null),n(e,r),n(e,o),n(o,i),n(o,u),n(o,v),n(o,g),w=!0,b||(T=be(e,"click",s[20]),b=!0)},p(y,k){(!w||k&4096)&&a!==(a=y[12].t("Users")+"")&&ee(i,a),(!w||k&16)&&m!==(m=y[4].length+"")&&ee(v,m),(!w||k&1024&&p!==(p="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(y[10]==="users"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&f(e,"class",p)},i(y){w||(M(l.$$.fragment,y),w=!0)},o(y){A(l.$$.fragment,y),w=!1},d(y){y&&c(e),de(l),b=!1,T()}}}function ka(s){let e,t,l;function r(a){s[24](a)}let o={users:s[7]};return s[4]!==void 0&&(o.userIds=s[4]),e=new _a({props:o}),Pe.push(()=>je(e,"userIds",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,i){const u={};i&128&&(u.users=a[7]),!t&&i&16&&(t=!0,u.userIds=a[4],ze(()=>t=!1)),e.$set(u)},i(a){l||(M(e.$$.fragment,a),l=!0)},o(a){A(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function $a(s){let e,t,l;function r(a){s[23](a)}let o={};return s[3]!==void 0&&(o.permissions=s[3]),e=new oa({props:o}),Pe.push(()=>je(e,"permissions",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,i){const u={};!t&&i&8&&(t=!0,u.permissions=a[3],ze(()=>t=!1)),e.$set(u)},i(a){l||(M(e.$$.fragment,a),l=!0)},o(a){A(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function Ea(s){let e,t,l,r;function o(u){s[21](u)}function a(u){s[22](u)}let i={};return s[1]!==void 0&&(i.name=s[1]),s[2]!==void 0&&(i.description=s[2]),e=new sa({props:i}),Pe.push(()=>je(e,"name",o)),Pe.push(()=>je(e,"description",a)),{c(){ue(e.$$.fragment)},l(u){fe(e.$$.fragment,u)},m(u,m){ce(e,u,m),r=!0},p(u,m){const v={};!t&&m&2&&(t=!0,v.name=u[1],ze(()=>t=!1)),!l&&m&4&&(l=!0,v.description=u[2],ze(()=>l=!1)),e.$set(v)},i(u){r||(M(e.$$.fragment,u),r=!0)},o(u){A(e.$$.fragment,u),r=!1},d(u){de(e,u)}}}function fs(s){let e,t=s[12].t("Delete")+"",l,r,o;return{c(){e=d("button"),l=K(t),this.h()},l(a){e=_(a,"BUTTON",{class:!0,type:!0});var i=h(e);l=Q(i,t),i.forEach(c),this.h()},h(){f(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),f(e,"type","button")},m(a,i){q(a,e,i),n(e,l),r||(o=be(e,"click",s[25]),r=!0)},p(a,i){i&4096&&t!==(t=a[12].t("Delete")+"")&&ee(l,t)},d(a){a&&c(e),r=!1,o()}}}function cs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,r){q(l,e,r)},d(l){l&&c(e)}}}function ya(s){let e,t,l,r,o,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',i,u,m,v,g,p,w=s[9].includes("general"),b,T=s[9].includes("permissions"),y,k=s[9].includes("users"),N,D,$,E,G,B,x,z,J=s[12].t("Save")+"",S,Y,j,X,P,C;function Z(U,W){return U[8]?ga:va}let le=Z(s),oe=le(s),F=w&&os(s),R=T&&is(s),O=k&&us(s);const ie=[Ea,$a,ka],he=[];function H(U,W){return U[10]=="general"?0:U[10]=="permissions"?1:U[10]=="users"?2:-1}~($=H(s))&&(E=he[$]=ie[$](s));let te=s[6]&&fs(s),_e=s[11]&&cs();return{c(){e=d("div"),t=d("div"),l=d("div"),oe.c(),r=I(),o=d("button"),o.innerHTML=a,i=I(),u=d("div"),m=d("div"),v=d("form"),g=d("div"),p=d("div"),F&&F.c(),b=I(),R&&R.c(),y=I(),O&&O.c(),N=I(),D=d("div"),E&&E.c(),G=I(),B=d("div"),te&&te.c(),x=I(),z=d("button"),S=K(J),Y=I(),_e&&_e.c(),this.h()},l(U){e=_(U,"DIV",{});var W=h(e);t=_(W,"DIV",{class:!0});var me=h(t);l=_(me,"DIV",{class:!0});var ve=h(l);oe.l(ve),ve.forEach(c),r=V(me),o=_(me,"BUTTON",{class:!0,"data-svelte-h":!0}),et(o)!=="svelte-745w2y"&&(o.innerHTML=a),me.forEach(c),i=V(W),u=_(W,"DIV",{class:!0});var Ee=h(u);m=_(Ee,"DIV",{class:!0});var ye=h(m);v=_(ye,"FORM",{class:!0});var ke=h(v);g=_(ke,"DIV",{class:!0});var re=h(g);p=_(re,"DIV",{id:!0,class:!0});var se=h(p);F&&F.l(se),b=V(se),R&&R.l(se),y=V(se),O&&O.l(se),se.forEach(c),N=V(re),D=_(re,"DIV",{class:!0});var $e=h(D);E&&E.l($e),$e.forEach(c),re.forEach(c),G=V(ke),B=_(ke,"DIV",{class:!0});var xe=h(B);te&&te.l(xe),x=V(xe),z=_(xe,"BUTTON",{class:!0,type:!0});var Ve=h(z);S=Q(Ve,J),Y=V(Ve),_e&&_e.l(Ve),Ve.forEach(c),xe.forEach(c),ke.forEach(c),ye.forEach(c),Ee.forEach(c),W.forEach(c),this.h()},h(){f(l,"class","text-lg font-medium self-center font-primary"),f(o,"class","self-center"),f(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 mb-1.5"),f(p,"id","admin-settings-tabs-container"),f(p,"class","tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),f(D,"class","flex-1 mt-1 lg:mt-1 lg:h-[22rem] lg:max-h-[22rem] overflow-y-auto scrollbar-hidden"),f(g,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4"),f(z,"class",j="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[11]?" cursor-not-allowed":"")),f(z,"type","submit"),z.disabled=s[11],f(B,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),f(v,"class","flex flex-col w-full"),f(m,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(u,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(U,W){q(U,e,W),n(e,t),n(t,l),oe.m(l,null),n(t,r),n(t,o),n(e,i),n(e,u),n(u,m),n(m,v),n(v,g),n(g,p),F&&F.m(p,null),n(p,b),R&&R.m(p,null),n(p,y),O&&O.m(p,null),n(g,N),n(g,D),~$&&he[$].m(D,null),n(v,G),n(v,B),te&&te.m(B,null),n(B,x),n(B,z),n(z,S),n(z,Y),_e&&_e.m(z,null),X=!0,P||(C=[be(o,"click",s[17]),be(v,"submit",s[26])],P=!0)},p(U,W){le===(le=Z(U))&&oe?oe.p(U,W):(oe.d(1),oe=le(U),oe&&(oe.c(),oe.m(l,null))),W&512&&(w=U[9].includes("general")),w?F?F.p(U,W):(F=os(U),F.c(),F.m(p,b)):F&&(F.d(1),F=null),W&512&&(T=U[9].includes("permissions")),T?R?(R.p(U,W),W&512&&M(R,1)):(R=is(U),R.c(),M(R,1),R.m(p,y)):R&&(Se(),A(R,1,1,()=>{R=null}),Be()),W&512&&(k=U[9].includes("users")),k?O?(O.p(U,W),W&512&&M(O,1)):(O=us(U),O.c(),M(O,1),O.m(p,null)):O&&(Se(),A(O,1,1,()=>{O=null}),Be());let me=$;$=H(U),$===me?~$&&he[$].p(U,W):(E&&(Se(),A(he[me],1,1,()=>{he[me]=null}),Be()),~$?(E=he[$],E?E.p(U,W):(E=he[$]=ie[$](U),E.c()),M(E,1),E.m(D,null)):E=null),U[6]?te?te.p(U,W):(te=fs(U),te.c(),te.m(B,x)):te&&(te.d(1),te=null),(!X||W&4096)&&J!==(J=U[12].t("Save")+"")&&ee(S,J),U[11]?_e||(_e=cs(),_e.c(),_e.m(z,null)):_e&&(_e.d(1),_e=null),(!X||W&2048&&j!==(j="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(U[11]?" cursor-not-allowed":"")))&&f(z,"class",j),(!X||W&2048)&&(z.disabled=U[11])},i(U){X||(M(R),M(O),M(E),X=!0)},o(U){A(R),A(O),A(E),X=!1},d(U){U&&c(e),oe.d(),F&&F.d(),R&&R.d(),O&&O.d(),~$&&he[$].d(),te&&te.d(),_e&&_e.d(),P=!1,Nt(C)}}}function Da(s){let e,t,l;function r(a){s[27](a)}let o={size:"md",$$slots:{default:[ya]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new pl({props:o}),Pe.push(()=>je(e,"show",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,[i]){const u={};i&536879103&&(u.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,u.show=a[0],ze(()=>t=!1)),e.$set(u)},i(a){l||(M(e.$$.fragment,a),l=!0)},o(a){A(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function Ia(s,e,t){let l;const r=Et("i18n");ct(s,r,C=>t(12,l=C));let{onSubmit:o=()=>{}}=e,{onDelete:a=()=>{}}=e,{show:i=!1}=e,{edit:u=!1}=e,{users:m=[]}=e,{group:v=null}=e,{custom:g=!0}=e,{tabs:p=["general","permissions","users"]}=e,w="general",b=!1,{name:T=""}=e,{description:y=""}=e,{permissions:k={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{file_upload:!0,delete:!0,edit:!0,temporary:!0}}}=e,{userIds:N=[]}=e;const D=async()=>{t(11,b=!0),await o({name:T,description:y,permissions:k,user_ids:N}),t(11,b=!1),t(0,i=!1)},$=()=>{v&&(t(1,T=v.name),t(2,y=v.description),t(3,k=(v==null?void 0:v.permissions)??{workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{file_upload:!0,delete:!0,edit:!0,temporary:!0}}),t(4,N=(v==null?void 0:v.user_ids)??[]))};ml(()=>{console.log(p),t(10,w=p[0]),$()});const E=()=>{t(0,i=!1)},G=()=>{t(10,w="general")},B=()=>{t(10,w="permissions")},x=()=>{t(10,w="users")};function z(C){T=C,t(1,T)}function J(C){y=C,t(2,y)}function S(C){k=C,t(3,k)}function Y(C){N=C,t(4,N)}const j=()=>{a(),t(0,i=!1)},X=C=>{C.preventDefault(),D()};function P(C){i=C,t(0,i)}return s.$$set=C=>{"onSubmit"in C&&t(15,o=C.onSubmit),"onDelete"in C&&t(5,a=C.onDelete),"show"in C&&t(0,i=C.show),"edit"in C&&t(6,u=C.edit),"users"in C&&t(7,m=C.users),"group"in C&&t(16,v=C.group),"custom"in C&&t(8,g=C.custom),"tabs"in C&&t(9,p=C.tabs),"name"in C&&t(1,T=C.name),"description"in C&&t(2,y=C.description),"permissions"in C&&t(3,k=C.permissions),"userIds"in C&&t(4,N=C.userIds)},s.$$.update=()=>{s.$$.dirty&1&&i&&$()},[i,T,y,k,N,a,u,m,g,p,w,b,l,r,D,o,v,E,G,B,x,z,J,S,Y,j,X,P]}class $s extends dt{constructor(e){super(),_t(this,e,Ia,Da,it,{onSubmit:15,onDelete:5,show:0,edit:6,users:7,group:16,custom:8,tabs:9,name:1,description:2,permissions:3,userIds:4})}}function Va(s){let e,t,l,r,o,a,i,u,m=s[1].name+"",v,g,p,w=s[1].user_ids.length+"",b,T,y,k,N,D,$,E,G,B,x;function z(S){s[7](S)}let J={edit:!0,users:s[0],group:s[1],onSubmit:s[4],onDelete:s[5]};return s[2]!==void 0&&(J.show=s[2]),e=new $s({props:J}),Pe.push(()=>je(e,"show",z)),i=new js({props:{className:"size-4"}}),k=new Zs({props:{className:"size-3.5"}}),E=new Rs({props:{className:"size-3.5"}}),{c(){ue(e.$$.fragment),l=I(),r=d("button"),o=d("div"),a=d("div"),ue(i.$$.fragment),u=I(),v=K(m),g=I(),p=d("div"),b=K(w),T=I(),y=d("div"),ue(k.$$.fragment),N=I(),D=d("div"),$=d("div"),ue(E.$$.fragment),this.h()},l(S){fe(e.$$.fragment,S),l=V(S),r=_(S,"BUTTON",{class:!0});var Y=h(r);o=_(Y,"DIV",{class:!0});var j=h(o);a=_(j,"DIV",{});var X=h(a);fe(i.$$.fragment,X),X.forEach(c),u=V(j),v=Q(j,m),j.forEach(c),g=V(Y),p=_(Y,"DIV",{class:!0});var P=h(p);b=Q(P,w),T=V(P),y=_(P,"DIV",{});var C=h(y);fe(k.$$.fragment,C),C.forEach(c),P.forEach(c),N=V(Y),D=_(Y,"DIV",{class:!0});var Z=h(D);$=_(Z,"DIV",{class:!0});var le=h($);fe(E.$$.fragment,le),le.forEach(c),Z.forEach(c),Y.forEach(c),this.h()},h(){f(o,"class","flex items-center gap-1.5 w-full font-medium"),f(p,"class","flex items-center gap-1.5 w-full font-medium"),f($,"class","rounded-lg p-1 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),f(D,"class","w-full flex justify-end"),f(r,"class","flex items-center gap-3 justify-between px-1 text-xs w-full transition")},m(S,Y){ce(e,S,Y),q(S,l,Y),q(S,r,Y),n(r,o),n(o,a),ce(i,a,null),n(o,u),n(o,v),n(r,g),n(r,p),n(p,b),n(p,T),n(p,y),ce(k,y,null),n(r,N),n(r,D),n(D,$),ce(E,$,null),G=!0,B||(x=be(r,"click",s[8]),B=!0)},p(S,[Y]){const j={};Y&1&&(j.users=S[0]),Y&2&&(j.group=S[1]),!t&&Y&4&&(t=!0,j.show=S[2],ze(()=>t=!1)),e.$set(j),(!G||Y&2)&&m!==(m=S[1].name+"")&&ee(v,m),(!G||Y&2)&&w!==(w=S[1].user_ids.length+"")&&ee(b,w)},i(S){G||(M(e.$$.fragment,S),M(i.$$.fragment,S),M(k.$$.fragment,S),M(E.$$.fragment,S),G=!0)},o(S){A(e.$$.fragment,S),A(i.$$.fragment,S),A(k.$$.fragment,S),A(E.$$.fragment,S),G=!1},d(S){S&&(c(l),c(r)),de(e,S),de(i),de(k),de(E),B=!1,x()}}}function xa(s,e,t){let l;const r=Et("i18n");ct(s,r,w=>t(9,l=w));let{users:o=[]}=e,{group:a={name:"Admins",user_ids:[1,2,3]}}=e,{setGroups:i=()=>{}}=e,u=!1;const m=async w=>{await Os(localStorage.token,a.id,w).catch(T=>(ot.error(T),null))&&(ot.success(l.t("Group updated successfully")),i())},v=async()=>{await Gs(localStorage.token,a.id).catch(b=>(ot.error(b),null))&&(ot.success(l.t("Group deleted successfully")),i())};function g(w){u=w,t(2,u)}const p=()=>{t(2,u=!0)};return s.$$set=w=>{"users"in w&&t(0,o=w.users),"group"in w&&t(1,a=w.group),"setGroups"in w&&t(6,i=w.setGroups)},[o,a,u,r,m,v,i,g,p]}class Ta extends dt{constructor(e){super(),_t(this,e,xa,Va,it,{users:0,group:1,setGroups:6})}}function ds(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,r){q(l,e,r)},d(l){l&&c(e)}}}function Na(s){let e,t,l,r=s[4].t("Add User Group")+"",o,a,i,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,v,g,p,w,b,T,y,k=s[4].t("Name")+"",N,D,$,E,G,B,x,z,J=s[4].t("Description")+"",S,Y,j,X,P,C,Z,le,oe=s[4].t("Create")+"",F,R,O,ie,he,H;function te(W){s[10](W)}let _e={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none resize-none",rows:2,placeholder:s[4].t("Group Description")};s[2]!==void 0&&(_e.value=s[2]),X=new ks({props:_e}),Pe.push(()=>je(X,"value",te));let U=s[3]&&ds();return{c(){e=d("div"),t=d("div"),l=d("div"),o=K(r),a=I(),i=d("button"),i.innerHTML=u,m=I(),v=d("div"),g=d("div"),p=d("form"),w=d("div"),b=d("div"),T=d("div"),y=d("div"),N=K(k),D=I(),$=d("div"),E=d("input"),B=I(),x=d("div"),z=d("div"),S=K(J),Y=I(),j=d("div"),ue(X.$$.fragment),C=I(),Z=d("div"),le=d("button"),F=K(oe),R=I(),U&&U.c(),this.h()},l(W){e=_(W,"DIV",{});var me=h(e);t=_(me,"DIV",{class:!0});var ve=h(t);l=_(ve,"DIV",{class:!0});var Ee=h(l);o=Q(Ee,r),Ee.forEach(c),a=V(ve),i=_(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),et(i)!=="svelte-745w2y"&&(i.innerHTML=u),ve.forEach(c),m=V(me),v=_(me,"DIV",{class:!0});var ye=h(v);g=_(ye,"DIV",{class:!0});var ke=h(g);p=_(ke,"FORM",{class:!0});var re=h(p);w=_(re,"DIV",{class:!0});var se=h(w);b=_(se,"DIV",{class:!0});var $e=h(b);T=_($e,"DIV",{class:!0});var xe=h(T);y=_(xe,"DIV",{class:!0});var Ve=h(y);N=Q(Ve,k),Ve.forEach(c),D=V(xe),$=_(xe,"DIV",{class:!0});var Oe=h($);E=_(Oe,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Oe.forEach(c),xe.forEach(c),$e.forEach(c),B=V(se),x=_(se,"DIV",{class:!0});var Me=h(x);z=_(Me,"DIV",{class:!0});var Ue=h(z);S=Q(Ue,J),Ue.forEach(c),Y=V(Me),j=_(Me,"DIV",{class:!0});var Le=h(j);fe(X.$$.fragment,Le),Le.forEach(c),Me.forEach(c),se.forEach(c),C=V(re),Z=_(re,"DIV",{class:!0});var Ce=h(Z);le=_(Ce,"BUTTON",{class:!0,type:!0});var Ne=h(le);F=Q(Ne,oe),R=V(Ne),U&&U.l(Ne),Ne.forEach(c),Ce.forEach(c),re.forEach(c),ke.forEach(c),ye.forEach(c),me.forEach(c),this.h()},h(){f(l,"class","text-lg font-medium self-center font-primary"),f(i,"class","self-center"),f(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 mb-1.5"),f(y,"class","mb-0.5 text-xs text-gray-500"),f(E,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),f(E,"type","text"),f(E,"placeholder",G=s[4].t("Group Name")),f(E,"autocomplete","off"),E.required=!0,f($,"class","flex-1"),f(T,"class","flex flex-col w-full"),f(b,"class","flex gap-2"),f(z,"class","mb-1 text-xs text-gray-500"),f(j,"class","flex-1"),f(x,"class","flex flex-col w-full mt-2"),f(w,"class","px-1 flex flex-col w-full"),f(le,"class",O="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[3]?" cursor-not-allowed":"")),f(le,"type","submit"),le.disabled=s[3],f(Z,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),f(p,"class","flex flex-col w-full"),f(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(v,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(W,me){q(W,e,me),n(e,t),n(t,l),n(l,o),n(t,a),n(t,i),n(e,m),n(e,v),n(v,g),n(g,p),n(p,w),n(w,b),n(b,T),n(T,y),n(y,N),n(T,D),n(T,$),n($,E),Re(E,s[1]),n(w,B),n(w,x),n(x,z),n(z,S),n(x,Y),n(x,j),ce(X,j,null),n(p,C),n(p,Z),n(Z,le),n(le,F),n(le,R),U&&U.m(le,null),ie=!0,he||(H=[be(i,"click",s[8]),be(E,"input",s[9]),be(p,"submit",s[11])],he=!0)},p(W,me){(!ie||me&16)&&r!==(r=W[4].t("Add User Group")+"")&&ee(o,r),(!ie||me&16)&&k!==(k=W[4].t("Name")+"")&&ee(N,k),(!ie||me&16&&G!==(G=W[4].t("Group Name")))&&f(E,"placeholder",G),me&2&&E.value!==W[1]&&Re(E,W[1]),(!ie||me&16)&&J!==(J=W[4].t("Description")+"")&&ee(S,J);const ve={};me&16&&(ve.placeholder=W[4].t("Group Description")),!P&&me&4&&(P=!0,ve.value=W[2],ze(()=>P=!1)),X.$set(ve),(!ie||me&16)&&oe!==(oe=W[4].t("Create")+"")&&ee(F,oe),W[3]?U||(U=ds(),U.c(),U.m(le,null)):U&&(U.d(1),U=null),(!ie||me&8&&O!==(O="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(W[3]?" cursor-not-allowed":"")))&&f(le,"class",O),(!ie||me&8)&&(le.disabled=W[3])},i(W){ie||(M(X.$$.fragment,W),ie=!0)},o(W){A(X.$$.fragment,W),ie=!1},d(W){W&&c(e),de(X),U&&U.d(),he=!1,Nt(H)}}}function Ma(s){let e,t,l;function r(a){s[12](a)}let o={size:"sm",$$slots:{default:[Na]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new pl({props:o}),Pe.push(()=>je(e,"show",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,[i]){const u={};i&16415&&(u.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,u.show=a[0],ze(()=>t=!1)),e.$set(u)},i(a){l||(M(e.$$.fragment,a),l=!0)},o(a){A(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function Ca(s,e,t){let l;const r=Et("i18n");ct(s,r,y=>t(4,l=y));let{onSubmit:o=()=>{}}=e,{show:a=!1}=e,i="",u="",m=!1;const v=async()=>{t(3,m=!0),await o({name:i,description:u}),t(3,m=!1),t(0,a=!1),t(1,i=""),t(2,u="")};ml(()=>{console.log("mounted")});const g=()=>{t(0,a=!1)};function p(){i=this.value,t(1,i)}function w(y){u=y,t(2,u)}const b=y=>{y.preventDefault(),v()};function T(y){a=y,t(0,a)}return s.$$set=y=>{"onSubmit"in y&&t(7,o=y.onSubmit),"show"in y&&t(0,a=y.show)},[a,i,u,m,l,r,v,o,g,p,w,b,T]}class Ua extends dt{constructor(e){super(),_t(this,e,Ca,Ma,it,{onSubmit:7,show:0})}}function _s(s,e,t){const l=s.slice();return l[21]=e[t],l}function ms(s){let e,t,l,r,o,a=s[8].t("Groups")+"",i,u,m,v,g,p=s[1].length+"",w,b,T,y,k,N,D='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',$,E,G,B,x,z,J,S,Y,j,X,P,C,Z,le,oe,F,R,O,ie,he,H,te,_e,U=s[8].t("Default permissions")+"",W,me,ve,Ee=s[8].t('applies to all users with the "user" role')+"",ye,ke,re,se,$e,xe,Ve;function Oe(ae){s[13](ae)}let Me={onSubmit:s[11]};s[6]!==void 0&&(Me.show=s[6]),e=new Ua({props:Me}),Pe.push(()=>je(e,"show",Oe)),z=new Rt({props:{content:s[8].t("Create Group"),$$slots:{default:[La]},$$scope:{ctx:s}}});const Ue=[Sa,Aa],Le=[];function Ce(ae,ge){return ae[4].length===0?0:1}Y=Ce(s),j=Le[Y]=Ue[Y](s);function Ne(ae){s[17](ae)}function Ge(ae){s[18](ae)}let We={tabs:["permissions"],custom:!1,onSubmit:s[12]};return s[7]!==void 0&&(We.show=s[7]),s[5]!==void 0&&(We.permissions=s[5]),Z=new $s({props:We}),Pe.push(()=>je(Z,"show",Ne)),Pe.push(()=>je(Z,"permissions",Ge)),he=new ea({props:{className:"size-4"}}),se=new Hs({props:{strokeWidth:"2.5"}}),{c(){ue(e.$$.fragment),l=I(),r=d("div"),o=d("div"),i=K(a),u=I(),m=d("div"),v=I(),g=d("span"),w=K(p),b=I(),T=d("div"),y=d("div"),k=d("div"),N=d("div"),N.innerHTML=D,$=I(),E=d("input"),B=I(),x=d("div"),ue(z.$$.fragment),J=I(),S=d("div"),j.c(),X=I(),P=d("hr"),C=I(),ue(Z.$$.fragment),F=I(),R=d("button"),O=d("div"),ie=d("div"),ue(he.$$.fragment),H=I(),te=d("div"),_e=d("div"),W=K(U),me=I(),ve=d("div"),ye=K(Ee),ke=I(),re=d("div"),ue(se.$$.fragment),this.h()},l(ae){fe(e.$$.fragment,ae),l=V(ae),r=_(ae,"DIV",{class:!0});var ge=h(r);o=_(ge,"DIV",{class:!0});var we=h(o);i=Q(we,a),u=V(we),m=_(we,"DIV",{class:!0}),h(m).forEach(c),v=V(we),g=_(we,"SPAN",{class:!0});var De=h(g);w=Q(De,p),De.forEach(c),we.forEach(c),b=V(ge),T=_(ge,"DIV",{class:!0});var Ae=h(T);y=_(Ae,"DIV",{class:!0});var He=h(y);k=_(He,"DIV",{class:!0});var Je=h(k);N=_(Je,"DIV",{class:!0,"data-svelte-h":!0}),et(N)!=="svelte-kinl2y"&&(N.innerHTML=D),$=V(Je),E=_(Je,"INPUT",{class:!0,placeholder:!0}),Je.forEach(c),B=V(He),x=_(He,"DIV",{});var lt=h(x);fe(z.$$.fragment,lt),lt.forEach(c),He.forEach(c),Ae.forEach(c),ge.forEach(c),J=V(ae),S=_(ae,"DIV",{});var Ie=h(S);j.l(Ie),X=V(Ie),P=_(Ie,"HR",{class:!0}),C=V(Ie),fe(Z.$$.fragment,Ie),F=V(Ie),R=_(Ie,"BUTTON",{class:!0});var nt=h(R);O=_(nt,"DIV",{class:!0});var mt=h(O);ie=_(mt,"DIV",{class:!0});var wt=h(ie);fe(he.$$.fragment,wt),wt.forEach(c),H=V(mt),te=_(mt,"DIV",{class:!0});var Ke=h(te);_e=_(Ke,"DIV",{class:!0});var Qe=h(_e);W=Q(Qe,U),Qe.forEach(c),me=V(Ke),ve=_(Ke,"DIV",{class:!0});var ut=h(ve);ye=Q(ut,Ee),ut.forEach(c),Ke.forEach(c),mt.forEach(c),ke=V(nt),re=_(nt,"DIV",{});var st=h(re);fe(se.$$.fragment,st),st.forEach(c),nt.forEach(c),Ie.forEach(c),this.h()},h(){f(m,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),f(g,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),f(o,"class","flex md:self-center text-lg font-medium px-0.5"),f(N,"class","self-center ml-1 mr-3"),f(E,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),f(E,"placeholder",G=s[8].t("Search")),f(k,"class","flex flex-1"),f(y,"class","flex w-full space-x-2"),f(T,"class","flex gap-1"),f(r,"class","mt-0.5 mb-2 gap-1 flex flex-col md:flex-row justify-between"),f(P,"class","mb-2 border-gray-50 dark:border-gray-850"),f(ie,"class","p-1.5 bg-black/5 dark:bg-white/10 rounded-full"),f(_e,"class","text-sm font-medium"),f(ve,"class","flex text-xs mt-0.5"),f(te,"class","text-left"),f(O,"class","flex items-center gap-2.5"),f(R,"class","flex items-center justify-between rounded-lg w-full transition pt-1")},m(ae,ge){ce(e,ae,ge),q(ae,l,ge),q(ae,r,ge),n(r,o),n(o,i),n(o,u),n(o,m),n(o,v),n(o,g),n(g,w),n(r,b),n(r,T),n(T,y),n(y,k),n(k,N),n(k,$),n(k,E),Re(E,s[2]),n(y,B),n(y,x),ce(z,x,null),q(ae,J,ge),q(ae,S,ge),Le[Y].m(S,null),n(S,X),n(S,P),n(S,C),ce(Z,S,null),n(S,F),n(S,R),n(R,O),n(O,ie),ce(he,ie,null),n(O,H),n(O,te),n(te,_e),n(_e,W),n(te,me),n(te,ve),n(ve,ye),n(R,ke),n(R,re),ce(se,re,null),$e=!0,xe||(Ve=[be(E,"input",s[14]),be(R,"click",s[19])],xe=!0)},p(ae,ge){const we={};!t&&ge&64&&(t=!0,we.show=ae[6],ze(()=>t=!1)),e.$set(we),(!$e||ge&256)&&a!==(a=ae[8].t("Groups")+"")&&ee(i,a),(!$e||ge&2)&&p!==(p=ae[1].length+"")&&ee(w,p),(!$e||ge&256&&G!==(G=ae[8].t("Search")))&&f(E,"placeholder",G),ge&4&&E.value!==ae[2]&&Re(E,ae[2]);const De={};ge&256&&(De.content=ae[8].t("Create Group")),ge&16777280&&(De.$$scope={dirty:ge,ctx:ae}),z.$set(De);let Ae=Y;Y=Ce(ae),Y===Ae?Le[Y].p(ae,ge):(Se(),A(Le[Ae],1,1,()=>{Le[Ae]=null}),Be(),j=Le[Y],j?j.p(ae,ge):(j=Le[Y]=Ue[Y](ae),j.c()),M(j,1),j.m(S,X));const He={};!le&&ge&128&&(le=!0,He.show=ae[7],ze(()=>le=!1)),!oe&&ge&32&&(oe=!0,He.permissions=ae[5],ze(()=>oe=!1)),Z.$set(He),(!$e||ge&256)&&U!==(U=ae[8].t("Default permissions")+"")&&ee(W,U),(!$e||ge&256)&&Ee!==(Ee=ae[8].t('applies to all users with the "user" role')+"")&&ee(ye,Ee)},i(ae){$e||(M(e.$$.fragment,ae),M(z.$$.fragment,ae),M(j),M(Z.$$.fragment,ae),M(he.$$.fragment,ae),M(se.$$.fragment,ae),$e=!0)},o(ae){A(e.$$.fragment,ae),A(z.$$.fragment,ae),A(j),A(Z.$$.fragment,ae),A(he.$$.fragment,ae),A(se.$$.fragment,ae),$e=!1},d(ae){ae&&(c(l),c(r),c(J),c(S)),de(e,ae),de(z),Le[Y].d(),de(Z),de(he),de(se),xe=!1,Nt(Ve)}}}function La(s){let e,t,l,r,o;return t=new bs({props:{className:"size-3.5"}}),{c(){e=d("button"),ue(t.$$.fragment),this.h()},l(a){e=_(a,"BUTTON",{class:!0});var i=h(e);fe(t.$$.fragment,i),i.forEach(c),this.h()},h(){f(e,"class","p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1")},m(a,i){q(a,e,i),ce(t,e,null),l=!0,r||(o=be(e,"click",s[15]),r=!0)},p:Ze,i(a){l||(M(t.$$.fragment,a),l=!0)},o(a){A(t.$$.fragment,a),l=!1},d(a){a&&c(e),de(t),r=!1,o()}}}function Aa(s){let e,t,l='<div class="w-full">Group</div> <div class="w-full">Users</div> <div class="w-full"></div>',r,o,a,i,u=Yt(s[4]),m=[];for(let g=0;g<u.length;g+=1)m[g]=ps(_s(s,u,g));const v=g=>A(m[g],1,1,()=>{m[g]=null});return{c(){e=d("div"),t=d("div"),t.innerHTML=l,r=I(),o=d("hr"),a=I();for(let g=0;g<m.length;g+=1)m[g].c();this.h()},l(g){e=_(g,"DIV",{});var p=h(e);t=_(p,"DIV",{class:!0,"data-svelte-h":!0}),et(t)!=="svelte-1uwoqvm"&&(t.innerHTML=l),r=V(p),o=_(p,"HR",{class:!0}),a=V(p);for(let w=0;w<m.length;w+=1)m[w].l(p);p.forEach(c),this.h()},h(){f(t,"class","flex items-center gap-3 justify-between text-xs uppercase px-1 font-bold"),f(o,"class","mt-1.5 border-gray-50 dark:border-gray-850")},m(g,p){q(g,e,p),n(e,t),n(e,r),n(e,o),n(e,a);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(e,null);i=!0},p(g,p){if(p&1041){u=Yt(g[4]);let w;for(w=0;w<u.length;w+=1){const b=_s(g,u,w);m[w]?(m[w].p(b,p),M(m[w],1)):(m[w]=ps(b),m[w].c(),M(m[w],1),m[w].m(e,null))}for(Se(),w=u.length;w<m.length;w+=1)v(w);Be()}},i(g){if(!i){for(let p=0;p<u.length;p+=1)M(m[p]);i=!0}},o(g){m=m.filter(Boolean);for(let p=0;p<m.length;p+=1)A(m[p]);i=!1},d(g){g&&c(e),Dl(m,g)}}}function Sa(s){let e,t,l=s[8].t("Organize your users")+"",r,o,a,i=s[8].t("Use groups to group your users and assign permissions.")+"",u,m,v,g,p=s[8].t("Create Group")+"",w,b,T,y;return{c(){e=d("div"),t=d("div"),r=K(l),o=I(),a=d("div"),u=K(i),m=I(),v=d("div"),g=d("button"),w=K(p),this.h()},l(k){e=_(k,"DIV",{class:!0});var N=h(e);t=_(N,"DIV",{class:!0});var D=h(t);r=Q(D,l),D.forEach(c),o=V(N),a=_(N,"DIV",{class:!0});var $=h(a);u=Q($,i),$.forEach(c),m=V(N),v=_(N,"DIV",{class:!0});var E=h(v);g=_(E,"BUTTON",{class:!0,"aria-label":!0});var G=h(g);w=Q(G,p),G.forEach(c),E.forEach(c),N.forEach(c),this.h()},h(){f(t,"class","text-xl font-medium"),f(a,"class","mt-1 text-sm dark:text-gray-300"),f(g,"class","px-4 py-1.5 text-sm rounded-full bg-black hover:bg-gray-800 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition font-medium flex items-center space-x-1"),f(g,"aria-label",b=s[8].t("Create Group")),f(v,"class","mt-3"),f(e,"class","flex flex-col items-center justify-center h-40")},m(k,N){q(k,e,N),n(e,t),n(t,r),n(e,o),n(e,a),n(a,u),n(e,m),n(e,v),n(v,g),n(g,w),T||(y=be(g,"click",s[16]),T=!0)},p(k,N){N&256&&l!==(l=k[8].t("Organize your users")+"")&&ee(r,l),N&256&&i!==(i=k[8].t("Use groups to group your users and assign permissions.")+"")&&ee(u,i),N&256&&p!==(p=k[8].t("Create Group")+"")&&ee(w,p),N&256&&b!==(b=k[8].t("Create Group"))&&f(g,"aria-label",b)},i:Ze,o:Ze,d(k){k&&c(e),T=!1,y()}}}function ps(s){let e,t,l,r;return t=new Ta({props:{group:s[21],users:s[0],setGroups:s[10]}}),{c(){e=d("div"),ue(t.$$.fragment),l=I(),this.h()},l(o){e=_(o,"DIV",{class:!0});var a=h(e);fe(t.$$.fragment,a),l=V(a),a.forEach(c),this.h()},h(){f(e,"class","my-2")},m(o,a){q(o,e,a),ce(t,e,null),n(e,l),r=!0},p(o,a){const i={};a&16&&(i.group=o[21]),a&1&&(i.users=o[0]),t.$set(i)},i(o){r||(M(t.$$.fragment,o),r=!0)},o(o){A(t.$$.fragment,o),r=!1},d(o){o&&c(e),de(t)}}}function Ba(s){let e,t,l=s[3]&&ms(s);return{c(){l&&l.c(),e=Gt()},l(r){l&&l.l(r),e=Gt()},m(r,o){l&&l.m(r,o),q(r,e,o),t=!0},p(r,[o]){r[3]?l?(l.p(r,o),o&8&&M(l,1)):(l=ms(r),l.c(),M(l,1),l.m(e.parentNode,e)):l&&(Se(),A(l,1,1,()=>{l=null}),Be())},i(r){t||(M(l),t=!0)},o(r){A(l),t=!1},d(r){r&&c(e),l&&l.d(r)}}}function Ha(s,e,t){let l,r;ct(s,Il,x=>t(20,l=x)),Tt.extend(gs);const o=Et("i18n");ct(s,o,x=>t(8,r=x));let a=!1,{users:i=[]}=e,u=[],m,v="",g={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{file_upload:!0,delete:!0,edit:!0,temporary:!0}},p=!1,w=!1;const b=async()=>{t(1,u=await Fl(localStorage.token))},T=async x=>{await Ys(localStorage.token,x).catch(J=>(ot.error(J),null))&&(ot.success(r.t("Group created successfully")),t(1,u=await Fl(localStorage.token)))},y=async x=>{console.log(x.permissions),await Ms(localStorage.token,x.permissions).catch(J=>(ot.error(J),null))&&(ot.success(r.t("Default permissions updated successfully")),t(5,g=await Zl(localStorage.token)))};ml(async()=>{(l==null?void 0:l.role)!=="admin"?await vs("/"):(await b(),t(5,g=await Zl(localStorage.token))),t(3,a=!0)});function k(x){p=x,t(6,p)}function N(){v=this.value,t(2,v)}const D=()=>{t(6,p=!p)},$=()=>{t(6,p=!0)};function E(x){w=x,t(7,w)}function G(x){g=x,t(5,g)}const B=()=>{t(7,w=!0)};return s.$$set=x=>{"users"in x&&t(0,i=x.users)},s.$$.update=()=>{s.$$.dirty&6&&t(4,m=u.filter(x=>{if(v==="")return!0;{let z=x.name.toLowerCase();const J=v.toLowerCase();return z.includes(J)}}))},[i,u,v,a,m,g,p,w,r,o,b,T,y,k,N,D,$,E,G,B]}class Pa extends dt{constructor(e){super(),_t(this,e,Ha,Ba,it,{users:0})}}function za(s){let e,t;return e=new Pa({props:{users:s[1]}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.users=l[1]),e.$set(o)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function ja(s){let e,t;return e=new Qr({props:{users:s[1]}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.users=l[1]),e.$set(o)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Oa(s){let e,t,l,r,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M8.5 4.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM10.9 12.006c.11.542-.348.994-.9.994H2c-.553 0-1.01-.452-.902-.994a5.002 5.002 0 0 1 9.803 0ZM14.002 12h-1.59a2.556 2.556 0 0 0-.04-.29 6.476 6.476 0 0 0-1.167-2.603 3.002 3.002 0 0 1 3.633 1.911c.18.522-.283.982-.836.982ZM12 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"></path></svg>',a,i,u=s[2].t("Overview")+"",m,v,g,p,w,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z"></path></svg>',T,y,k=s[2].t("Groups")+"",N,D,$,E,G,B,x,z,J;const S=[ja,za],Y=[];function j(X,P){return X[0]==="overview"?0:X[0]==="groups"?1:-1}return~(G=j(s))&&(B=Y[G]=S[G](s)),{c(){e=d("div"),t=d("div"),l=d("button"),r=d("div"),r.innerHTML=o,a=I(),i=d("div"),m=K(u),g=I(),p=d("button"),w=d("div"),w.innerHTML=b,T=I(),y=d("div"),N=K(k),$=I(),E=d("div"),B&&B.c(),this.h()},l(X){e=_(X,"DIV",{class:!0});var P=h(e);t=_(P,"DIV",{id:!0,class:!0});var C=h(t);l=_(C,"BUTTON",{class:!0});var Z=h(l);r=_(Z,"DIV",{class:!0,"data-svelte-h":!0}),et(r)!=="svelte-vvpxme"&&(r.innerHTML=o),a=V(Z),i=_(Z,"DIV",{class:!0});var le=h(i);m=Q(le,u),le.forEach(c),Z.forEach(c),g=V(C),p=_(C,"BUTTON",{class:!0});var oe=h(p);w=_(oe,"DIV",{class:!0,"data-svelte-h":!0}),et(w)!=="svelte-161uai9"&&(w.innerHTML=b),T=V(oe),y=_(oe,"DIV",{class:!0});var F=h(y);N=Q(F,k),F.forEach(c),oe.forEach(c),C.forEach(c),$=V(P),E=_(P,"DIV",{class:!0});var R=h(E);B&&B.l(R),R.forEach(c),P.forEach(c),this.h()},h(){f(r,"class","self-center mr-2"),f(i,"class","self-center"),f(l,"class",v="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(s[0]==="overview"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),f(w,"class","self-center mr-2"),f(y,"class","self-center"),f(p,"class",D="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(s[0]==="groups"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),f(t,"id","users-tabs-container"),f(t,"class","flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),f(E,"class","flex-1 mt-1 lg:mt-0 overflow-y-scroll"),f(e,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4")},m(X,P){q(X,e,P),n(e,t),n(t,l),n(l,r),n(l,a),n(l,i),n(i,m),n(t,g),n(t,p),n(p,w),n(p,T),n(p,y),n(y,N),n(e,$),n(e,E),~G&&Y[G].m(E,null),x=!0,z||(J=[be(l,"click",s[4]),be(p,"click",s[5])],z=!0)},p(X,[P]){(!x||P&4)&&u!==(u=X[2].t("Overview")+"")&&ee(m,u),(!x||P&1&&v!==(v="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(X[0]==="overview"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&f(l,"class",v),(!x||P&4)&&k!==(k=X[2].t("Groups")+"")&&ee(N,k),(!x||P&1&&D!==(D="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(X[0]==="groups"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&f(p,"class",D);let C=G;G=j(X),G===C?~G&&Y[G].p(X,P):(B&&(Se(),A(Y[C],1,1,()=>{Y[C]=null}),Be()),~G?(B=Y[G],B?B.p(X,P):(B=Y[G]=S[G](X),B.c()),M(B,1),B.m(E,null)):B=null)},i(X){x||(M(B),x=!0)},o(X){A(B),x=!1},d(X){X&&c(e),~G&&Y[G].d(),z=!1,Nt(J)}}}function Ga(s,e,t){let l,r;ct(s,Il,g=>t(7,l=g));const o=Et("i18n");ct(s,o,g=>t(2,r=g));let a=[],i="overview";const u=async()=>{t(1,a=await rl(localStorage.token))};ml(async()=>{(l==null?void 0:l.role)!=="admin"?await vs("/"):t(1,a=await rl(localStorage.token));const g=document.getElementById("users-tabs-container");g&&g.addEventListener("wheel",function(p){p.deltaY!==0&&(g.scrollLeft+=p.deltaY)})});const m=()=>{t(0,i="overview")},v=()=>{t(0,i="groups")};return s.$$.update=()=>{s.$$.dirty&1&&i&&u()},[i,a,r,o,m,v]}class Ya extends dt{constructor(e){super(),_t(this,e,Ga,Oa,it,{})}}function Ra(s){let e,t;return e=new Ya({}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p:Ze,i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}class yn extends dt{constructor(e){super(),_t(this,e,null,Ra,it,{})}}export{yn as component};
//# sourceMappingURL=13.CrZLD9P1.js.map
