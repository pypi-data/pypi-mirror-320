import{d as k,bQ as V,i as t,aS as B,aT as D,b,o as a,x as T,p as C,l as n,m as e,bR as N,aY as W,g as $,W as j,al as U,e as A,bu as E,bS as J,c as i,j as o,k as F,u as M,bT as O,a as p,bU as P,bV as Q,bD as Y,a6 as Z,bk as q}from"./index-Bjo-kBX5.js";import{s as z,b as G}from"./index-0yGGjo7r.js";import{u as H}from"./usePageTitle-D7LXNzIC.js";const K={class:"flow-stats"},L={class:"flow-stats__cards"},X=k({__name:"FlowStats",props:{flowId:{}},setup(w){const f=w,r={range:{type:"span",seconds:-G},tags:[]},{flowId:u}=V(f),c=t(()=>({flowId:u.value,range:r.range}));B(D,{interval:z(30)});const l=t(()=>b.map("FlowStatsFilter",c.value,"FlowRunsFilter")),d=t(()=>b.map("FlowStatsFilter",c.value,"TaskRunsFilter"));return(_,m)=>(a(),T("div",K,[C("div",L,[n(e(N),{filter:l.value},null,8,["filter"]),n(e(W),{filter:d.value},null,8,["filter"])])]))}}),oe=k({__name:"Flow",setup(w){const f=$(),r=j("flowId"),u=t(()=>[r.value]),c=M(),l=U("tab","Runs"),d=["Runs","Deployments","Details"],_={interval:3e5},m=A(f.flows.getFlow,[r.value],_),s=t(()=>m.response),{filter:R}=E({flows:{id:u}}),{filter:y}=J({flows:{id:u}});function g(){c.push(q.flows())}const x=t(()=>s.value?`Flow: ${s.value.name}`:"Flow");return H(x),(ee,v)=>{const I=F("p-tabs"),S=F("p-layout-default");return a(),i(S,{class:"flow"},{header:o(()=>[s.value?(a(),i(e(O),{key:0,flow:s.value,onDelete:g},null,8,["flow"])):p("",!0)]),default:o(()=>[s.value?(a(),i(X,{key:0,"flow-id":s.value.id},null,8,["flow-id"])):p("",!0),n(I,{selected:e(l),"onUpdate:selected":v[0]||(v[0]=h=>Z(l)?l.value=h:null),tabs:d},{details:o(()=>[s.value?(a(),i(e(P),{key:0,flow:s.value},null,8,["flow"])):p("",!0)]),deployments:o(()=>[n(e(Q),{filter:e(y),prefix:"deployments"},null,8,["filter"])]),runs:o(()=>[n(e(Y),{filter:e(R),selectable:"",prefix:"runs"},null,8,["filter"])]),_:1},8,["selected"])]),_:1})}}});export{oe as default};
//# sourceMappingURL=Flow-C58MZuFg.js.map
