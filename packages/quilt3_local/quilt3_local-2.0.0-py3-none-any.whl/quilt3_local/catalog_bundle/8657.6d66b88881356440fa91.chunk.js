"use strict";(self.webpackChunkquilt_navigator=self.webpackChunkquilt_navigator||[]).push([[8657],{15592:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(70655),r=n(20637),l=(n(99697),n(67294)),c=n(41120),o=n(73637),i=n(10529),s=n(17812),u=n(92863),p=n(26663),m=n(5391),f=n(67456),d=n(9961),b=n(6709);var h=c.Z((function(e){return{container:{alignItems:"center",display:"flex",marginBottom:e.spacing(-2),marginLeft:e.spacing(3),marginTop:e.spacing(-2)},btn:{height:32},code:{fontFamily:e.typography.monospace.fontFamily,fontSize:e.typography.body2.fontSize,overflowX:"auto",overflowY:"hidden",whiteSpace:"pre"}}}));function v(e){var t=e.defaultSelected,n=void 0===t?0:t,c=e.children,v=(0,a._T)(e,["defaultSelected","children"]),g=h(),k=f.D$().push,y=l.useState(n),Z=y[0],E=y[1],x=l.useCallback((function(e,t){e.stopPropagation(),null!=t&&E(t)}),[E]),w=c[Z],C=l.useCallback((function(e){e.stopPropagation(),(0,d.Z)(w.contents),k("Code has been copied to clipboard")}),[w.contents,k]);return l.createElement(b.Z,(0,a.pi)({icon:"code",heading:"Code",extraSummary:function(e){var t=e.expanded;return l.createElement(o.Z,{in:t},l.createElement("div",{className:g.container},l.createElement(p.Z,{size:"small",value:Z,exclusive:!0,onChange:x},c.map((function(e,t){var n=e.label;return l.createElement(m.Z,{value:t,key:n,className:g.btn},n)}))),l.createElement(i.Z,{ml:1}),l.createElement(s.Z,{onClick:C,title:"Copy to clipboard"},l.createElement(u.Z,{style:{fontSize:18}},"file_copy"))))}},v),l.createElement("div",{className:g.code},function(e,t){if(e&&r.Z.getLanguage(e))try{var n=r.Z.highlight(t,{language:e}).value;return l.createElement("span",{dangerouslySetInnerHTML:{__html:n}})}catch(e){console.error(e)}return t}(w.hl,w.contents)))}},98657:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a,r,l=n(70655),c=n(26470),o=n(66518),i=n.n(o),s=n(82539),u=n(30601),p=n(67294),m=n(5977),f=n(41120),d=n(10529),b=n(95477),h=n(78869),v=n(85693),g=n(43987),k=n(766),y=n(84268),Z=n(69534),E=n(82268),x=n(36473),w=n(15592),C=n(37600),S=n(25170),D=n(29039),q=n(73206),_=n(42059),F=n(21497),z=n(74708),B=f.Z((function(e){return{crumbs:(0,l.pi)((0,l.pi)({},e.typography.body1),{maxWidth:"100%",overflowWrap:"break-word"})}}));function I(e){var t=e.match.params,n=t.bucket,o=t.path,f=void 0===o?"":o,I=e.location,N=F.D(),T=k.D$().noDownload,$=B(),L=Z.D$().urls,O=(0,m.k6)(),P=v.S3.use(),M=(0,E.Z)(I.search).prefix,W=x.Jx(f),Y=W?(0,c.basename)(W):n,R=p.useMemo((function(){return[{label:"Python",hl:"python",contents:i()(a||(a=(0,l.cy)(['\n          import quilt3 as q3\n          b = q3.Bucket("s3://','")\n          # list files\n          b.ls("','")\n          # download\n          b.fetch("','", "./','")\n        '],['\n          import quilt3 as q3\n          b = q3.Bucket("s3://','")\n          # list files\n          b.ls("','")\n          # download\n          b.fetch("','", "./','")\n        '])),n,W,W,Y)},{label:"CLI",hl:"bash",contents:i()(r||(r=(0,l.cy)(['\n          # list files\n          aws s3 ls "s3://',"/",'"\n          # download\n          aws s3 cp --recursive "s3://',"/",'" "./','"\n        '],['\n          # list files\n          aws s3 ls "s3://',"/",'"\n          # download\n          aws s3 cp --recursive "s3://',"/",'" "./','"\n        '])),n,W,n,W,Y)}]}),[n,W,Y]),j=p.useState(null),G=j[0],H=j[1];p.useLayoutEffect((function(){H(null)}),[W,M]);var J=(0,y.et)(_.rx,{s3:P,bucket:n,path:W,prefix:M,prev:G}),X=p.useCallback((function(){g.Z.case({Ok:function(e){e.continuationToken&&H(e)},_:function(){}},J.result)}),[J.result,H]),A=p.useCallback((function(e){O.push(L.bucketDir(n,W,e))}),[O,L,n,W]);return p.createElement(d.Z,{pt:2,pb:4},p.createElement(d.Z,{display:"flex",alignItems:"flex-start",mb:2},p.createElement("div",{className:$.crumbs,onCopy:h.Yn},(0,h.sY)((0,z.Z)({bucket:n,path:W,urls:L,scope:N.scope}))),p.createElement(d.Z,{flexGrow:1}),!T&&p.createElement(C.dN,{suffix:"dir/".concat(n,"/").concat(W),label:"Download directory",newTab:!0})),!N.hideCode&&p.createElement(w.Z,{gutterBottom:!0},R),J.case({Err:(0,q.Sj)(),Init:function(){return null},_:function(e){var t=g.Z.getPrevResult(e);if(!t)return p.createElement(b.Z,null);var n=function(e,t){var n=e.urls,a=e.scope,r=t.dirs.map((function(e){return{type:"dir",name:x.ge(x.ro(t.path,e)),to:n.bucketDir(t.bucket,e)}})),o=t.files.map((function(e){var a=e.key,r=e.size,l=e.modified,o=e.archived;return{type:"file",name:(0,c.basename)(a),to:n.bucketFile(t.bucket,a),size:r,modified:l,archived:o}})),i=(0,l.ev)((0,l.ev)([],r,!0),o,!0);return""===t.path||t.path===a||t.prefix||i.unshift({type:"dir",name:"..",to:n.bucketDir(t.bucket,x.up(t.path))}),s.Z(u.Z("name"),i)}({urls:L,scope:N.scope},t),a=!g.Z.Ok.is(e);return p.createElement(p.Fragment,null,p.createElement(S.NB,{items:n,locked:a,loadMore:X,truncated:t.truncated,prefixFilter:t.prefix,toolbarContents:p.createElement(S.I4,{key:"".concat(t.bucket,"/").concat(t.path),prefix:t.prefix,setPrefix:A})}),p.createElement(D.Z,{files:t.files,path:W}))}}))}},74708:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(70655),r=n(26470),l=n(36962),c=n(67294),o=n(78869),i=n(36473);const s=function(e){var t=e.bucket,n=e.path,s=e.urls,u=e.scope,p=e.excludeBase,m=void 0!==p&&p,f=u&&n.startsWith(u),d=f?n.substring(u.length):n,b={label:f?(0,r.basename)(u):"ROOT",path:""},h=m?i.up(d):d,v=(0,a.ev)([b],i.tO(h),!0).map((function(e){var n=e.label,a=e.path;return o.$2.Segment({label:n,to:a===d?void 0:s.bucketDir(t,"".concat(f?u:"").concat(a))})})),g=l.Z(o.$2.Sep(c.createElement(c.Fragment,null," / ")),v);return m?(0,a.ev)((0,a.ev)([],g,!0),[o.$2.Sep(c.createElement(c.Fragment,null," /"))],!1):g}}}]);
//# sourceMappingURL=8657.6d66b88881356440fa91.chunk.js.map