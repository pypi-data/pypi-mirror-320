import{ay as R,a1 as G,az as F,v as Z,b as m}from"./index-aeb5311a.js";import{M as Q}from"./file-4b5ecf1b.js";const p="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHAobil7cmV0dXJuIG49PT0hMX1mdW5jdGlvbiB3KG4pe3JldHVybiBhKG4pfHxuPT09IiJ9ZnVuY3Rpb24gYShuKXtyZXR1cm4gbj09bnVsbH1mdW5jdGlvbiBEKC4uLm4pe3JldHVybiBuLmZpbHRlcihCb29sZWFuKS5qb2luKCJfXyIpfWNvbnN0IHI9e1Vwc3RyZWFtOiJ1cHN0cmVhbSIsRG93bnN0cmVhbToiZG93bnN0cmVhbSJ9LG09c2VsZjttLm9ubWVzc2FnZT1hc3luYyBuPT57aWYobi5kYXRhLnRvcGljPT09ImxpbmVhZ2UiKXRyeXtjb25zdHtjdXJyZW50TGluZWFnZTp0LG5ld0xpbmVhZ2U6cyxtYWluTm9kZTpvfT1uLmRhdGEucGF5bG9hZCxlPWF3YWl0IHkodCxzKSxjPWF3YWl0IGcobyxlKTttLnBvc3RNZXNzYWdlKHt0b3BpYzoibGluZWFnZSIscGF5bG9hZDp7bGluZWFnZTplLG5vZGVzQ29ubmVjdGlvbnM6Y319KX1jYXRjaCh0KXttLnBvc3RNZXNzYWdlKHt0b3BpYzoiZXJyb3IiLGVycm9yOnR9KX19O2FzeW5jIGZ1bmN0aW9uIHkobj17fSx0PXt9KXtyZXR1cm4gT2JqZWN0LmVudHJpZXModCkucmVkdWNlKChzLFtvLGU9W11dKT0+e3ZhciBjO3JldHVybiBvPWVuY29kZVVSSShvKSxzW29dPXttb2RlbHM6ZS5tYXAoZW5jb2RlVVJJKSxjb2x1bW5zOigoYz1uPT1udWxsP3ZvaWQgMDpuW29dKT09bnVsbD92b2lkIDA6Yy5jb2x1bW5zKT8/dm9pZCAwfSxzfSx7fSl9YXN5bmMgZnVuY3Rpb24gZyhuLHQ9e30pe3JldHVybiBuZXcgUHJvbWlzZSgocyxvKT0+e2lmKGEodCl8fGEobikpcmV0dXJue307Y29uc3QgZT17fTt0cnl7ZChyLlVwc3RyZWFtLG4sdCxlKSxkKHIuRG93bnN0cmVhbSxuLHQsZSl9Y2F0Y2goYyl7byhjKX1zKGUpfSl9ZnVuY3Rpb24gZChuPXIuRG93bnN0cmVhbSx0LHM9e30sbz17fSl7dmFyIHU7Y29uc3QgZT1uPT09ci5Eb3duc3RyZWFtO2xldCBjPVtdO2U/Yz1PYmplY3Qua2V5cyhzKS5maWx0ZXIoaT0+c1tpXS5tb2RlbHMuaW5jbHVkZXModCkpOmM9KCh1PXNbdF0pPT1udWxsP3ZvaWQgMDp1Lm1vZGVscyk/P1tdLHAodCBpbiBvKSYmKG9bdF09ZigpKTtmb3IoY29uc3QgaSBvZiBjKXtjb25zdCBsPWU/Zih0LGksW29bdF1dKTpmKGksdCxbb1t0XV0pO2kgaW4gbz9vW2ldLmVkZ2VzLnB1c2gobCk6KG9baV09bCxkKG4saSxzLG8pKX19ZnVuY3Rpb24gZihuLHQscz1bXSl7Y29uc3Qgbz1EKG4sdCk7cmV0dXJue2lkOncobyk/dm9pZCAwOm8sZWRnZXM6c319fSkoKTsK",s=typeof window<"u"&&window.Blob&&new Blob([atob(p)],{type:"text/javascript;charset=utf-8"});function w(){let b;try{if(b=s&&(window.URL||window.webkitURL).createObjectURL(s),!b)throw"";return new Worker(b)}catch{return new Worker("data:application/javascript;base64,"+p)}finally{b&&(window.URL||window.webkitURL).revokeObjectURL(b)}}const V="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IGc9c2VsZjtpbXBvcnQoImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9weW9kaWRlL3YwLjIzLjIvZnVsbC9weW9kaWRlLmpzIikudGhlbigoKT0+e2NvbnN0IGM9cygpO2cub25tZXNzYWdlPWFzeW5jIGE9Pnt2YXIgaSxsLHQ7Y29uc3R7c3FsZ2xvdDpDfT1hd2FpdCBjO2lmKGEuZGF0YS50b3BpYz09PSJ2YWxpZGF0ZSIpe2xldCBJO3RyeXtJPUpTT04ucGFyc2UoKGk9Qy5nZXQoInZhbGlkYXRlIikpPT1udWxsP3ZvaWQgMDppKGEuZGF0YS5wYXlsb2FkKSl9Y2F0Y2h7ST0hMX1nLnBvc3RNZXNzYWdlKHt0b3BpYzoidmFsaWRhdGUiLHBheWxvYWQ6SX0pfWlmKGEuZGF0YS50b3BpYz09PSJkaWFsZWN0Iil7bGV0IEk7dHJ5e0k9SlNPTi5wYXJzZSgobD1DLmdldCgiZ2V0X2RpYWxlY3QiKSk9PW51bGw/dm9pZCAwOmwoYS5kYXRhLnBheWxvYWQpKX1jYXRjaHtJPXtrZXl3b3JkczoiIix0eXBlczoiIn19Zy5wb3N0TWVzc2FnZSh7dG9waWM6ImRpYWxlY3QiLHBheWxvYWQ6SX0pfWlmKGEuZGF0YS50b3BpYz09PSJkaWFsZWN0cyIpe2xldCBJO3RyeXtJPUpTT04ucGFyc2UoQy5nZXQoImRpYWxlY3RzIikpfWNhdGNoe0k9W119Zy5wb3N0TWVzc2FnZSh7dG9waWM6ImRpYWxlY3RzIixwYXlsb2FkOkl9KX1hLmRhdGEudG9waWM9PT0iZm9ybWF0IiYmZy5wb3N0TWVzc2FnZSh7dG9waWM6ImZvcm1hdCIscGF5bG9hZDooKHQ9Qy5nZXQoImZvcm1hdCIpKT09bnVsbD92b2lkIDA6dChhLmRhdGEucGF5bG9hZC5zcWwsYS5kYXRhLnBheWxvYWQuZGlhbGVjdCkpPz8iIn0pLGEuZGF0YS50b3BpYz09PSJpbml0IiYmZy5wb3N0TWVzc2FnZSh7dG9waWM6ImluaXQifSl9fSkuY2F0Y2goY29uc29sZS5lcnJvcik7YXN5bmMgZnVuY3Rpb24gcygpe2cucHlvZGlkZT1hd2FpdCBnLmxvYWRQeW9kaWRlKCksYXdhaXQgZy5weW9kaWRlLmxvYWRQYWNrYWdlKCJtaWNyb3BpcCIpO2NvbnN0IGM9Zy5weW9kaWRlLnB5aW1wb3J0KCJtaWNyb3BpcCIpO2F3YWl0IGMuaW5zdGFsbCgic3FsZ2xvdCIpLGF3YWl0IGMuaW5zdGFsbCgidHlwaW5nLWV4dGVuc2lvbnMiKTtjb25zdCBhPWF3YWl0KGF3YWl0IGZldGNoKG5ldyBVUkwoImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCxhVzF3YjNKMElHcHpiMjRLQ21sdGNHOXlkQ0J6Y1d4bmJHOTBDbVp5YjIwZ2MzRnNaMnh2ZENCcGJYQnZjblFnWlhod0NtWnliMjBnYzNGc1oyeHZkQzVrYVdGc1pXTjBjeTVrYVdGc1pXTjBJR2x0Y0c5eWRDQkVhV0ZzWldOMExDQkVhV0ZzWldOMFZIbHdaUW9LWkdsaGJHVmpkSE1nUFNCcWMyOXVMbVIxYlhCektBb2dJQ0FnV3dvZ0lDQWdJQ0FnSUhzS0lDQWdJQ0FnSUNBZ0lDQWdJbVJwWVd4bFkzUmZkR2wwYkdVaU9pQWlVMUZNUjJ4dmRDSWdhV1lnWkdsaGJHVmpkQ0E5UFNBaUlpQmxiSE5sSUdScFlXeGxZM1JmWTJ4aGMzTXVYMTl1WVcxbFgxOHNDaUFnSUNBZ0lDQWdJQ0FnSUNKa2FXRnNaV04wWDI1aGJXVWlPaUJrYVdGc1pXTjBMQW9nSUNBZ0lDQWdJSDBLSUNBZ0lDQWdJQ0JtYjNJZ1pHbGhiR1ZqZEN3Z1pHbGhiR1ZqZEY5amJHRnpjeUJwYmlCRWFXRnNaV04wTG1Oc1lYTnpaWE11YVhSbGJYTW9LUW9nSUNBZ1hRb3BDZ29LWkdWbUlIQmhjbk5sWDNSdlgycHpiMjRvYzNGc09pQnpkSElzSUhKbFlXUTZJRVJwWVd4bFkzUlVlWEJsSUQwZ1RtOXVaU2tnTFQ0Z2MzUnlPZ29nSUNBZ2NtVjBkWEp1SUdwemIyNHVaSFZ0Y0hNb0NpQWdJQ0FnSUNBZ1cyVjRjQzVrZFcxd0tDa2dhV1lnWlhod0lHVnNjMlVnZTMwZ1ptOXlJR1Y0Y0NCcGJpQnpjV3huYkc5MExuQmhjbk5sS0hOeGJDd2djbVZoWkQxeVpXRmtMQ0JsY25KdmNsOXNaWFpsYkQwaWFXZHViM0psSWlsZENpQWdJQ0FwQ2dvS1pHVm1JR2RsZEY5a2FXRnNaV04wS0c1aGJXVTZJSE4wY2lBOUlDSWlLU0F0UGlCemRISTZDaUFnSUNCa2FXRnNaV04wSUQwZ1JHbGhiR1ZqZEM1amJHRnpjMlZ6TG1kbGRDaHVZVzFsTENCRWFXRnNaV04wS1FvZ0lDQWdhMlY1ZDI5eVpITWdQU0JrYVdGc1pXTjBMblJ2YTJWdWFYcGxjbDlqYkdGemN5NUxSVmxYVDFKRVV3b2dJQ0FnZEhsd1pWOXRZWEJ3YVc1bklEMGdaR2xoYkdWamRDNW5aVzVsY21GMGIzSmZZMnhoYzNNdVZGbFFSVjlOUVZCUVNVNUhDZ29nSUNBZ2NtVjBkWEp1SUdwemIyNHVaSFZ0Y0hNb0NpQWdJQ0FnSUNBZ2V3b2dJQ0FnSUNBZ0lDQWdJQ0FpYTJWNWQyOXlaSE1pT2lBaUlDSXVhbTlwYmloclpYbDNiM0prY3lrc0NpQWdJQ0FnSUNBZ0lDQWdJQ0owZVhCbGN5STZJQ0lnSWk1cWIybHVLSFI1Y0dWZmJXRndjR2x1Wnk1blpYUW9kQ3dnZEM1MllXeDFaU2tnWm05eUlIUWdhVzRnWlhod0xrUmhkR0ZVZVhCbExsUjVjR1VwTEFvZ0lDQWdJQ0FnSUgwS0lDQWdJQ2tLQ2dwa1pXWWdabTl5YldGMEtITnhiRG9nYzNSeUlEMGdJaUlzSUhKbFlXUTZJRVJwWVd4bFkzUlVlWEJsSUQwZ1RtOXVaU2tnTFQ0Z2MzUnlPZ29nSUNBZ2NtVjBkWEp1SUNKY2JpSXVhbTlwYmlnS0lDQWdJQ0FnSUNCemNXeG5iRzkwTG5SeVlXNXpjR2xzWlNoemNXd3NJSEpsWVdROWNtVmhaQ3dnWlhKeWIzSmZiR1YyWld3OWMzRnNaMnh2ZEM1bGNuSnZjbk11UlhKeWIzSk1aWFpsYkM1SlIwNVBVa1VzSUhCeVpYUjBlVDFVY25WbEtRb2dJQ0FnS1FvS0NtUmxaaUIyWVd4cFpHRjBaU2h6Y1d3NklITjBjaUE5SUNJaUxDQnlaV0ZrT2lCRWFXRnNaV04wVkhsd1pTQTlJRTV2Ym1VcElDMCtJSE4wY2pvS0lDQWdJSFJ5ZVRvS0lDQWdJQ0FnSUNCemNXeG5iRzkwTG5SeVlXNXpjR2xzWlNnS0lDQWdJQ0FnSUNBZ0lDQWdjM0ZzTENCeVpXRmtQWEpsWVdRc0lIQnlaWFIwZVQxR1lXeHpaU3dnZFc1emRYQndiM0owWldSZmJHVjJaV3c5YzNGc1oyeHZkQzVsY25KdmNuTXVSWEp5YjNKTVpYWmxiQzVKVFUxRlJFbEJWRVVLSUNBZ0lDQWdJQ0FwQ2lBZ0lDQmxlR05sY0hRZ2MzRnNaMnh2ZEM1bGNuSnZjbk11VUdGeWMyVkZjbkp2Y2pvS0lDQWdJQ0FnSUNCeVpYUjFjbTRnYW5OdmJpNWtkVzF3Y3loR1lXeHpaU2tLQ2lBZ0lDQnlaWFIxY200Z2FuTnZiaTVrZFcxd2N5aFVjblZsS1FvS0Nuc0tJQ0FnSUNKa2FXRnNaV04wY3lJNklHUnBZV3hsWTNSekxBb2dJQ0FnSW1kbGRGOWthV0ZzWldOMElqb2daMlYwWDJScFlXeGxZM1FzQ2lBZ0lDQWljR0Z5YzJWZmRHOWZhbk52YmlJNklIQmhjbk5sWDNSdlgycHpiMjRzQ2lBZ0lDQWlkbUZzYVdSaGRHVWlPaUIyWVd4cFpHRjBaU3dLSUNBZ0lDSm1iM0p0WVhRaU9pQm1iM0p0WVhRc0NuMEsiLHNlbGYubG9jYXRpb24pKSkudGV4dCgpO3JldHVybiBnLnBvc3RNZXNzYWdlKHt0b3BpYzoiaW5pdCJ9KSx7c3FsZ2xvdDpnLnB5b2RpZGUucnVuUHl0aG9uKGEpfX19KSgpOwo=",i=typeof window<"u"&&window.Blob&&new Blob([atob(V)],{type:"text/javascript;charset=utf-8"});function h(){let b;try{if(b=i&&(window.URL||window.webkitURL).createObjectURL(i),!b)throw"";return new Worker(b)}catch{return new Worker("data:application/javascript;base64,"+V)}finally{b&&(window.URL||window.webkitURL).revokeObjectURL(b)}}const r=h(),[J,c]=R("tabs"),{tabs:u=[],id:U}=J()??{},o=N(),Y=S(o),T=new Map([[o,Y]]),z=G((b,n)=>({storedTabs:u,storedTabId:U,tab:Y,tabs:T,engine:r,dialects:[],previewQuery:void 0,previewTable:void 0,previewDiff:void 0,direction:"vertical",inTabs(l){return n().tabs.has(l)},replaceTab(l,d){const a=n(),e=Array.from(a.tabs.entries()),t=e.findIndex(([W])=>W===l.file);e[t]=[d.file,d],b(()=>({tabs:new Map(e)})),a.updateStoredTabsIds()},updateStoredTabsIds(){const l=n();if(Z(l.tab)){c({id:void 0,tabs:[]}),b(()=>({storedTabId:void 0,storedTabs:[]}));return}const d=[];for(const e of l.tabs.values())m(e.file.isChanged)&&e.file.isLocal||d.push({id:e.file.id,content:e.file.content});const a=l.tab.file.isChanged||l.tab.file.isRemote?l.tab.file.id:void 0;c({id:a,tabs:d}),b(()=>({storedTabId:a,storedTabs:d}))},refreshTab(l){Z(l)||n().selectTab({...l})},setDialects(l){b(()=>({dialects:l}))},selectTab(l){const d=n();b(()=>({tab:l})),d.updateStoredTabsIds()},addTabs(l){const d=n();for(const a of l)d.tabs.set(a.file,a);b(()=>({tabs:new Map(d.tabs)}))},addTab(l){const d=n();if(d.tabs.has(l.file))d.tabs.set(l.file,l),b(()=>({tabs:new Map(d.tabs)}));else{const a=Array.from(d.tabs.entries()),e=a.findIndex(([t])=>{var W;return t===((W=d.tab)==null?void 0:W.file)});a.splice(e<0?a.length:e+1,0,[l.file,l]),b(()=>({tabs:new Map(a)}))}d.updateStoredTabsIds()},closeTab(l){var a;const d=n();if(l.removeChanges(),d.tabs.delete(l),d.tabs.size===0)d.selectTab(void 0);else if(d.tabs.size===1){const e=Array.from(d.tabs.values());d.selectTab(e.at(0))}else if(l.id===((a=d.tab)==null?void 0:a.file.id)){const e=Array.from(d.tabs.values()),t=e.findIndex(W=>W.file===l);d.selectTab(e.at(t-1))}b(()=>({tabs:new Map(d.tabs)})),d.updateStoredTabsIds()},createTab:S,setPreviewQuery(l){b(()=>({previewQuery:l}))},setPreviewTable(l){b(()=>({previewTable:l}))},setPreviewDiff(l){b(()=>({previewDiff:l}))},setDirection(l){b(()=>({direction:l}))}}));function S(b=N()){return{id:F(),file:b,isValid:!0}}function N(b){return new Q({id:b,name:"",path:"",content:`-- Create arbitrary SQL queries
-- and execute them against different environments

`})}export{w as W,N as c,r as s,z as u};
