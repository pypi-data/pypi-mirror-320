import{y as C,a6 as P,u as q,j as e,a7 as w,s as B,C as b,B as k,a as N,Y as S,E as D,$ as U,a0 as o,a1 as v,ac as A,ao as V,a2 as _,a4 as I,g as j,t as y,a3 as L}from"./index-Be3uPtkT.js";const M={required:{value:!0,message:I.fieldRequired}};function O({values:i,callback:s,className:a,isDiscardButtonVisible:l=!1}){var u,m,c,p,x,g,f;const{register:n,formState:{errors:t},handleSubmit:F,setError:h}=S({values:i}),d=D({mutationFn:r=>j.put(y("/api/credential_profiles",i.id),r).then(E=>E.data),onSuccess:()=>s&&s(),onError:r=>h(...L(r))});return e.jsxs(U,{className:a,onSubmit:F(r=>d.mutate(r)),children:[e.jsx(o,{...n("name",M),type:"text",title:"Name",error:(u=t.name)==null?void 0:u.message,required:!0}),e.jsx(o,{...n("description"),type:"text",title:"Description",error:(m=t.description)==null?void 0:m.message}),e.jsx(o,{...n("username"),type:"text",title:"Username",error:(c=t.username)==null?void 0:c.message}),e.jsx(o,{...n("password",{setValueAs:r=>r===""?null:r}),type:"password",title:"Password",error:(p=t.password)==null?void 0:p.message}),e.jsx(o,{...n("token",{setValueAs:r=>r===""?null:r}),type:"password",title:"Token",error:(x=t.token)==null?void 0:x.message}),e.jsx(o,{...n("domain"),type:"text",title:"Domain",error:(g=t.domain)==null?void 0:g.message}),e.jsx(v,{children:(f=t.root)==null?void 0:f.message}),e.jsxs(A,{children:[l&&e.jsx(V,{to:"..",children:"Cancel"}),e.jsx(_,{isPending:d.isPending,className:"btn-primary",children:"Save Changes"})]})]})}function T(){const i=C(),{profileId:s}=P(),a=q({queryKey:["credential_profiles",s],queryFn:()=>j.get(y("/api/credential_profiles",s??"")).then(l=>l.data),enabled:s!=null});return s?a.isError?e.jsx(B,{error:a.error}):a.isPending?e.jsx(b,{}):a.data?e.jsxs(k,{children:[e.jsx(N,{children:"Update Credential Profile"}),e.jsx(O,{values:a.data,className:"lg:max-w-3xl",isDiscardButtonVisible:!0,callback:()=>i("..")})]}):null:e.jsx(w,{})}export{T as default};
