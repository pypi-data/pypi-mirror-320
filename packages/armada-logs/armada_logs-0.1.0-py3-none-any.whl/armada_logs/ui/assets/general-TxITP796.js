import{u as p,j as e,B as f,a as h,C as x,s as j,Y as y,E as F,$ as S,af as c,ab as E,a0 as _,a1 as k,ac as q,a2 as C,a4 as b,g as l,F as v,a3 as B}from"./index-Be3uPtkT.js";const T={required:{value:!0,message:b.fieldRequired}};function L({values:s,className:t=""}){var i,u,d;const{register:n,handleSubmit:m,setError:g,formState:{errors:a}}=y({values:s}),o=F({mutationFn:async r=>l.put("/api/settings/general",r),onSuccess:()=>v.success("Settings updated"),onError:r=>g(...B(r))});return e.jsxs(S,{className:t,onSubmit:m(r=>o.mutate(r)),children:[e.jsx(c,{title:"Check for updates",description:"Check for updates automatically",children:e.jsx(E,{...n("check_for_updates"),error:(i=a.check_for_updates)==null?void 0:i.message})}),e.jsx(c,{title:"Stale asset retention period",description:`The retention period (in days) for stale assets before they are purged. \r
        This only applies to dynamic assets and does not affect user-defined or modified assets.`,required:!0,children:e.jsx(_,{...n("stale_asset_retention",T),error:(u=a.stale_asset_retention)==null?void 0:u.message,required:!0})}),e.jsx(k,{children:(d=a.root)==null?void 0:d.message}),e.jsx(q,{children:e.jsx(C,{isPending:o.isPending,className:"btn-primary",children:"Save Changes"})})]})}function G(){const s=p({queryKey:["settings","general"],queryFn:()=>l.get("/api/settings/general").then(t=>t.data)});return e.jsxs(f,{children:[e.jsx(h,{children:"General"}),s.isSuccess&&e.jsx(L,{className:"lg:max-w-4xl",values:s.data}),s.isLoading&&e.jsx(x,{}),s.isError&&e.jsx(j,{error:s.error})]})}export{G as default};
