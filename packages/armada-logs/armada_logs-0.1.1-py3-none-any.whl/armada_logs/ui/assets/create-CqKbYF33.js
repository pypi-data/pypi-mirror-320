import{y as v,j as s,B as D,a as N,Y as V,E as q,$ as A,a0 as l,a1 as S,ac as M,ao as R,a2 as T,a4 as I,g as O,a3 as U}from"./index-Be3uPtkT.js";const Y={required:{value:!0,message:I.fieldRequired}};function _({callback:d,className:u,isDiscardButtonVisible:k=!1,formConfig:e}){var i,p,x,F,j,n,P,m,y,h,b;const{register:r,formState:{errors:t},handleSubmit:w,setError:E}=V({defaultValues:e==null?void 0:e.defaultValues}),c=q({mutationFn:async a=>O.post("/api/credential_profiles",a).then(B=>B.data),onSuccess:a=>d&&d(a),onError:a=>E(...U(a))});return s.jsxs(A,{className:u,children:[s.jsx(l,{...r("name",Y),type:"text",title:"Name",error:(i=t.name)==null?void 0:i.message,required:!0,...e==null?void 0:e.formFieldParams.name}),s.jsx(l,{...r("description"),type:"text",title:"Description",error:(p=t.description)==null?void 0:p.message,...e==null?void 0:e.formFieldParams.description}),(((x=e==null?void 0:e.formFieldParams.username)==null?void 0:x.visible)??!0)&&s.jsx(l,{...r("username"),type:"text",title:"Username",error:(F=t.username)==null?void 0:F.message,...e==null?void 0:e.formFieldParams.username}),(((j=e==null?void 0:e.formFieldParams.password)==null?void 0:j.visible)??!0)&&s.jsx(l,{...r("password",{setValueAs:a=>a===""?null:a}),type:"password",title:"Password",error:(n=t.password)==null?void 0:n.message,...e==null?void 0:e.formFieldParams.password}),(((P=e==null?void 0:e.formFieldParams.token)==null?void 0:P.visible)??!0)&&s.jsx(l,{...r("token",{setValueAs:a=>a===""?null:a}),type:"password",title:"Token",error:(m=t.token)==null?void 0:m.message,...e==null?void 0:e.formFieldParams.token}),(((y=e==null?void 0:e.formFieldParams.domain)==null?void 0:y.visible)??!0)&&s.jsx(l,{...r("domain"),type:"text",title:"Domain",error:(h=t.domain)==null?void 0:h.message,...e==null?void 0:e.formFieldParams.domain}),s.jsx(S,{children:(b=t.root)==null?void 0:b.message}),s.jsxs(M,{children:[k&&s.jsx(R,{to:"..",children:"Discard"}),s.jsx(T,{type:"button",className:"btn-primary",isPending:c.isPending,onClick:w(a=>c.mutate(a)),children:"Create"})]})]})}function z({formConfig:d}){const u=v();return s.jsxs(D,{className:"p-4",children:[s.jsx(N,{children:"Create Credential Profile"}),s.jsx(_,{className:"lg:max-w-3xl",isDiscardButtonVisible:!0,callback:()=>u(".."),formConfig:d})]})}export{_ as CreateCredentialProfileForm,z as default};
