import{u as h,j as e,B as j,a as x,C as S,s as y,Y as F,E as q,$ as E,af as l,a0 as d,a1 as _,ac as k,a2 as v,a4 as w,g as p,F as b,a3 as B}from"./index-Be3uPtkT.js";const m={required:{value:!0,message:w.fieldRequired}};function C({values:s,className:t=""}){var o,u,c;const{register:a,handleSubmit:g,setError:f,formState:{errors:i}}=F({values:s}),n=q({mutationFn:r=>p.put("/api/settings/security",r),onSuccess:()=>b.success("Settings updated"),onError:r=>f(...B(r))});return e.jsxs(E,{className:t,onSubmit:g(r=>n.mutate(r)),children:[e.jsx(l,{title:"Session auth lifespan",description:"JWT session token lifespan (minutes)",required:!0,children:e.jsx(d,{...a("auth_jwt_lifespan",m),error:(o=i.auth_jwt_lifespan)==null?void 0:o.message,required:!0})}),e.jsx(l,{title:"Session refresh lifespan",description:"JWT session refresh token lifespan (minutes). Must be longer than the session token lifespan",required:!0,children:e.jsx(d,{...a("refresh_jwt_lifespan",m),error:(u=i.refresh_jwt_lifespan)==null?void 0:u.message,required:!0})}),e.jsx(_,{children:(c=i.root)==null?void 0:c.message}),e.jsx(k,{children:e.jsx(v,{isPending:n.isPending,className:"btn-primary",children:"Save Changes"})})]})}function M(){const s=h({queryKey:["settings","security"],queryFn:()=>p.get("/api/settings/security").then(t=>t.data)});return e.jsxs(j,{children:[e.jsx(x,{children:"Security & Privacy"}),s.isSuccess&&e.jsx(C,{className:"lg:max-w-4xl",values:s.data}),s.isLoading&&e.jsx(S,{}),s.isError&&e.jsx(y,{error:s.error})]})}export{M as default};
