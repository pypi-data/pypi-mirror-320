"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3114],{6657:function(e,n,r){r.d(n,{CY:function(){return S},N9:function(){return E}});var t=r(73235),o=r(52322),l=r(2784),s=r(7267),i=r(31062),a=r(40847),d=r(84890),p=r(71982),c=r(4760),u=r(69752),h=r(96798),x=r(50791),g=r(9628),m=r(55638),j=r(93781),f=r(12864),v=r(87788),y=r(16450),b=r(32549);function P(){let e=(0,t._)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n        ...GraphExplorerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return P=function(){return e},e}let S=()=>{(0,h.Px)();let e=(0,s.UO)(),n=(0,p.p3)(e["0"]),{pipelineName:r,snapshotId:t}=n,l=(0,s.k6)(),i=(0,f.Q)();return(0,j.j)("Snapshot: ".concat(r).concat(t?"@".concat(t.slice(0,8)):"")),(0,o.jsx)(E,{explorerPath:n,onChangeExplorerPath:(e,n)=>{l[n]("/snapshots/".concat((0,p.gY)(e)))},onNavigateToSourceAssetNode:(e,n)=>{let{assetKey:r}=n,t=(0,m.p)(r);e.metaKey?i(t):l.push((0,m.p)(r))}})},E=e=>{var n;let{explorerPath:r,repoAddress:t,onChangeExplorerPath:s,onNavigateToSourceAssetNode:p,isGraph:u=!1}=e,[h,m]=(0,l.useState)({explodeComposites:null!==(n=r.explodeComposites)&&void 0!==n&&n,preferAssetRendering:!0}),j=r.opNames.slice(0,r.opNames.length-1),f=(0,b._T)(t||null,r.pipelineName),v=(0,c.aM)(I,{variables:{snapshotPipelineSelector:r.snapshotId?void 0:f,snapshotId:r.snapshotId?r.snapshotId:void 0,rootHandleID:j.join("."),requestScopeHandleID:h.explodeComposites?void 0:j.join(".")}});return(0,o.jsx)(y.g,{queryResult:v,children:e=>{let{pipelineSnapshotOrError:n}=e;if("PipelineSnapshot"!==n.__typename)return(0,o.jsx)(d.Q,{isGraph:u,result:n,repoAddress:t});let l=n.solidHandle,c=h.explodeComposites?(0,i.i)(n.solidHandles):n.solidHandles,j=n.solidHandles.some(e=>e.solid.definition.assetNodes.length>0);return h.preferAssetRendering&&j?(0,o.jsx)(x.OK,{options:h,setOptions:m,fetchOptions:{pipelineSelector:f},explorerPath:r,onChangeExplorerPath:s,onNavigateToSourceAssetNode:p,viewType:g._4.JOB}):(0,o.jsx)(a.m0,{options:h,setOptions:m,explorerPath:r,onChangeExplorerPath:s,container:n,repoAddress:t,handles:c,parentHandle:l||void 0,isGraph:u,getInvocations:e=>c.filter(n=>n.solid.definition.name===e).map(e=>({handleID:e.handleID}))})}})},I=(0,c.Ps)(P(),v.i,a.Sm,a.Q,a.bg,u.B)},19067:function(e,n,r){r.d(n,{G:function(){return G}});var t=r(73235),o=r(52322),l=r(57164),s=r(8637),i=r(48177),a=r(15997),d=r(54854),p=r(54123),c=r(1026),u=r(2784),h=r(7267),x=r(71982),g=r(34119),m=r(6023),j=r(32549),f=r(18328);let v=e=>{let{repoAddress:n,anyFilter:r,jobName:t,jobPath:l}=e,s=(0,j.Ux)(n),d=(0,j.Hb)(s,t);return(0,o.jsx)(i.x,{padding:{vertical:64},children:(0,o.jsx)(a.t,{icon:"run",title:"No runs found",description:n?d?(0,o.jsxs)(i.x,{flex:{direction:"column",gap:12},children:[(0,o.jsx)("div",{children:r?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,o.jsx)("div",{children:(0,o.jsx)(m.A,{icon:(0,o.jsx)(g.JO,{name:"materialization"}),to:(0,f.$U)(n,"/jobs/".concat(l)),children:"Materialize an asset"})})]}):(0,o.jsxs)(i.x,{flex:{direction:"column",gap:12},children:[(0,o.jsx)("div",{children:r?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,o.jsx)("div",{children:(0,o.jsx)(m.A,{icon:(0,o.jsx)(g.JO,{name:"add_circle"}),to:(0,f.$U)(n,"/jobs/".concat(l,"/playground")),children:"Launch a run"})})]}):(0,o.jsx)("div",{children:"You have not launched any runs for this job."})})})};var y=r(94315),b=r(98933),P=r(96798),S=r(86224),E=r(41349),I=r(31622),C=r(46156),H=r(92237),_=r(53852),R=r(87890),F=r(27450);let k=["status","tag","id","created_date_before","created_date_after"],N=e=>{(0,P.Px)();let{pipelinePath:n}=(0,h.UO)(),{repoAddress:r=null}=e,t=(0,x.p3)(n),{pipelineName:s,snapshotId:a}=t,c=(0,j.Ux)(r),g=(0,j.E8)(c,s);(0,y.b)(t,g);let[m,f]=(0,_.oD)(k),N=(0,u.useMemo)(()=>[g?{token:"job",value:s}:{token:"pipeline",value:s},a?{token:"snapshotId",value:a}:null].filter(Boolean),[g,s,a]),A=(0,C.fn)(),O=(0,u.useMemo)(()=>{let e=[...m,...N];if(r){let n={token:"tag",value:"".concat(S.H.RepositoryLabelTag,"=").concat((0,F.Wg)(r))};e.push(n)}return{...(0,_.VH)(e),pipelineName:s,snapshotId:a}},[m,N,s,r,a]),$=(0,u.useCallback)(e=>{let n=(0,l.HY)(e);m.some(e=>(0,l.HY)(e)===n)||f([...m,e])},[m,f]),{entries:w,paginationProps:T,queryResult:D}=(0,R.a)(O,"all",A.value),Y=(0,b.C4)(D,b.dT),{button:B,activeFiltersJsx:q}=(0,_.Vv)({enabledFilters:k,tokens:m,onChange:f,loading:D.loading}),U=(0,o.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{width:"100%"},padding:{right:16},children:[B,A.element,(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(b.xi,{refreshState:Y})]}),G=(0,o.jsxs)(i.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[N.map(e=>{let{token:n,value:r}=e;return(0,o.jsx)(d.V,{children:"".concat(n,":").concat(r)},n)}),q,q.length>0&&(0,o.jsx)(p.Z,{onClick:()=>f([]),children:"Clear all"})]});return(0,o.jsx)(E.Lw.Provider,{value:{refetch:Y.refetch},children:D.error?(0,o.jsx)(I.f,{error:D.error}):(0,o.jsx)("div",{style:{minHeight:0},children:(0,o.jsx)(H.F,{entries:w,loading:D.loading,onAddTag:$,refetch:Y.refetch,actionBarComponents:U,belowActionBarComponents:G,paginationProps:T,filter:O,emptyState:()=>(0,o.jsx)(v,{repoAddress:r,anyFilter:m.length>0,jobName:s,jobPath:n})})})})};var A=r(4760),O=r(71498),$=r(69752),w=r(42530),T=r(56065),D=r(68313),Y=r(16450),B=r(36872);function q(){let e=(0,t._)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return q=function(){return e},e}let U=["status","tag","id","created_date_before","created_date_after"],G=e=>{let{flagLegacyRunsPage:n}=(0,O.gV)();return n?(0,o.jsx)(V,{...e}):(0,o.jsx)(N,{...e})},V=e=>{(0,P.Px)();let{pipelinePath:n}=(0,h.UO)(),{repoAddress:r=null}=e,t=(0,x.p3)(n),{pipelineName:g,snapshotId:m}=t,f=(0,j.Ux)(r),I=(0,j.E8)(f,g);(0,y.b)(t,I);let[C,H]=(0,_.oD)(U),R=(0,u.useMemo)(()=>[I?{token:"job",value:g}:{token:"pipeline",value:g},m?{token:"snapshotId",value:m}:null].filter(Boolean),[I,g,m]),k=[...C,...R];if(r){let e={token:"tag",value:"".concat(S.H.RepositoryLabelTag,"=").concat((0,F.Wg)(r))};k.push(e)}let{queryResult:N,paginationProps:A}=(0,D.l)({query:M,pageSize:25,variables:{filter:{...(0,_.VH)(k),pipelineName:g,snapshotId:m}},nextCursorForResult:e=>{var n;if("Runs"===e.pipelineRunsOrError.__typename)return null===(n=e.pipelineRunsOrError.results[24])||void 0===n?void 0:n.id},getResultArray:e=>e&&"Runs"===e.pipelineRunsOrError.__typename?e.pipelineRunsOrError.results:[]}),O=(0,u.useCallback)(e=>{let n=(0,l.HY)(e);C.some(e=>(0,l.HY)(e)===n)||H([...C,e])},[C,H]),$=(0,b.C4)(N,b.dT),{button:T,activeFiltersJsx:q}=(0,_.Vv)({enabledFilters:U,tokens:C,onChange:H,loading:N.loading});return(0,o.jsx)(E.Lw.Provider,{value:{refetch:N.refetch},children:(0,o.jsx)(s.T,{children:(0,o.jsx)(Y.g,{queryResult:N,allowStaleData:!0,children:e=>{let{pipelineRunsOrError:t}=e;if("Runs"!==t.__typename)return(0,o.jsx)(i.x,{padding:{vertical:64},children:(0,o.jsx)(a.t,{icon:"error",title:"Query Error",description:t.message})});let l=t.results.slice(0,25),{hasNextCursor:s,hasPrevCursor:u}=A;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(B.Y,{$top:0,children:(0,o.jsx)(w.A,{runs:l,onAddTag:O,actionBarComponents:(0,o.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between",grow:1,alignItems:"center",gap:4},margin:{right:8},children:[T,(0,o.jsx)(b.xi,{refreshState:$})]}),belowActionBarComponents:(0,o.jsxs)(o.Fragment,{children:[R.map(e=>{let{token:n,value:r}=e;return(0,o.jsx)(d.V,{children:"".concat(n,":").concat(r)},n)}),q.length?(0,o.jsxs)(o.Fragment,{children:[q,(0,o.jsx)(p.Z,{onClick:()=>{H([])},children:"Clear all"})]}):null]}),emptyState:()=>(0,o.jsx)(v,{repoAddress:r,anyFilter:C.length>0,jobName:g,jobPath:n})})}),s||u?(0,o.jsx)("div",{style:{marginTop:"20px"},children:(0,o.jsx)(c.pI,{...A})}):null]})}})})})},M=(0,A.Ps)(q(),T.Z,$.B)}}]);
//# sourceMappingURL=3114.23ec51f85b80be6b.js.map