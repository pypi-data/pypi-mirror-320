[build-system]
requires = ["setuptools >= 61.0"]
build-backend = "setuptools.build_meta"

[project]
name = "pyosis"
description = "Unofficial Python client for parsing OSIS (Open Scriptural Information Standard) files"

dynamic = ["version"]
dependencies = [
    "pydantic>2.0.0,<=2.10.4",
    "pydantic-xml[lxml]==2.14.1",
]
requires-python = ">=3.9"
authors=[{name="Andrew P. Sansom", email="andrew@euleriancircuit.com"}]
readme="README.md"
license={file="LICENSE"}
keywords = [
    "osis",
    "bible",
    "scripture",
    "xml",
    "parser",
    "bible study",
    "digital humanities",
    "text processing",
    "python",
    "open scripture",
    "data parsing",
    "osis parser",
    "xml parsing",
    "scripture parser",
    "religious texts",
    "pypi",
    "bible tools",
    "scripture analysis",
    "text analytics",
    "digital scripture"
]

classifiers = [
    "Development Status :: 2 - Pre-Alpha",
    "Intended Audience :: Developers",
    "Intended Audience :: Religion",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Topic :: Religion",
]


[project.optional-dependencies]
dev = [
  "hypothesis==6.123.14",
  "mypy==1.14.1",
  "ruff==0.8.6",
  "pyright==1.1.391",
  "pytest==8.3.4",
  "pytest-cov==6.0.0",
  "pytest-github-actions-annotate-failures",
"toml-sort==0.24.2",
]
docs = [
  "mkdocs==1.6.1",
  "mkdocstrings[python]==0.27.0",
  "mkdocs-autolinks-plugin==0.7.1",
  "mkdocs-material==9.5.49",
  "mkdocs-snippets==1.3.0",
  "mkdocs-exclude==1.0.2",
]

[project.urls]
Homepage = "https://github.com/open-canon/pyosis"
Documentation = "https://pyosis.readthedocs.io/en/stable/"
Repository = "https://github.com/open-canon/pyosis.git"
Issues = "https://github.com/open-canon/pyosis/issues"

[tool.ruff]
line-length = 120
preview = true

[tool.semantic_release]
major_on_zero = false
version_variables = [
    "pyosis/__init__.py:__version__",
]
build_command = "python -m pip install build && python -m build"

[tool.semantic_release.commit_parser_options]
allowed_tags = [
    "build",
    "chore",
    "ci",
    "docs",
    "feat",
    "fix",
    "perf",
    "style",
    "refactor",
    "test",
]
minor_tags = ["feat"]
patch_tags = ["fix", "perf", "build"]

[tool.setuptools.dynamic]
version = {attr = "pyosis.__version__"}


[tool.ruff.lint]
select = ["ANN", "D", "E", "F", "FURB", "I", "N", "PERF", "PTH", "RUF", "YTT", "UP", "W"]
ignore = ["D205", "F401", "PT009", "S101"]

[tool.ruff.lint.pydocstyle]
convention = "google"

[[tool.mypy.overrides]]
module = ["annotated_types"]
ignore_missing_imports = true

[tool.tomlsort]
in_place = true
sort_inline_arrays = true
sort_table_keys = true
spaces_before_inline_comment = 2
spaces_indent_inline_array = 4
trailing_comma_inline_array = true

[tool.tomlsort.overrides]
"project".table_keys = false