(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[1743,9599,7218],{47477:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var o=n(31529),r=n(93345),l=n(62795),i=n(52842);const s={isLoading:!0};function a(e,t){const n=(0,i.mF)(e);(0,l.useAsyncAbortable)((async e=>{if(!n?.drillthroughColumns[t])return n?.loadDrillthroughColumns(t,{signal:e})}),[n,t]);const{drillthroughColumns:a,isLoading:u,error:d}=(0,r.useSyncExternalStore)((e=>n?.subscribeToDrillthroughColumns(t,e)??o.noop),(()=>n?.drillthroughColumns[t]??s)),c=(0,r.useMemo)((()=>a?.filter((({visible:e})=>e))),[a]);return e?[c,{isLoading:u,error:d}]:void 0}},13552:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var o=n(31529),r=n(93345),l=n(52842);function i({serverKey:e,queryId:t}){const n=(0,l.mF)(e);return(0,r.useSyncExternalStore)(n&&t?e=>n.subscribeToQuery(t,e):()=>o.noop,(()=>n&&t?n.getQuery(t):void 0))}},86425:(e,t,n)=>{"use strict";n.d(t,{j:()=>C,w:()=>y});var o=n(74389),r=n(90923),l=n(90147),i=n(31529),s=n(93345),a=n(95889),u=n(19445),d=n(7496),c=n(80936),m=n(729),f=n(40825),h=n(2088),p=n(67040),g=n(31831);const b=e=>{const{formatMessage:t}=(0,a.useIntl)(),n=(0,m.DP)(),{style:r,...l}=e.conditionalStyle,i=(0,h.u)(l);let s="";switch(i.length){case 1:const e=l[i[0]];s=`${t({id:"aui.if"})} ${g.KT[i[0]]} ${e}`;break;case 2:s=`${t({id:"aui.if"})} ${void 0!==l.gt?g.KT.gt:g.KT.gte} ${l.gt??l.gte} ${t({id:"aui.and"})} ${void 0!==l.lt?g.KT.lt:g.KT.lte} ${l.lt??l.lte}`;break;default:s=t({id:"aui.default"})}const u="background"===e.colorType&&r.backgroundColor?r.backgroundColor:n.backgroundColor;return(0,o.Y)(p.o,{caption:s,sampleStyle:{...r,color:"text"===e.colorType?r.backgroundColor:n.textColor,backgroundColor:e.colorOpacity&&r.backgroundColor?(0,f.j)(r.backgroundColor,e.colorOpacity):u},sampleLabel:"123"})},y=.3,w=(0,s.lazy)((()=>n.e(6228).then(n.bind(n,16228)))),C=({colorOpacity:e=y,colorType:t="background",disabledTooltipMessage:n,isDisabled:m,isLoading:f,onConditionalStylesChanged:h,conditionalStyles:{default:p,conditional:g}={}})=>{const{formatMessage:C}=(0,a.useIntl)(),[v,x]=(0,s.useState)(),I=(0,s.useMemo)((()=>[{style:p||{}},...g||[]]),[g,p]),R=(0,s.useMemo)((()=>{const n="conditionalStyle",l=f?[{caption:(0,o.Y)(r.Skeleton,{active:!0,css:{".ant-skeleton-paragraph":{margin:"5px 0px"}},paragraph:{rows:1,width:"100%"},title:!1})}]:I.map(((r,l)=>{const s=(0,i.omit)(r,"style"),a=0===Object.keys(s).length;return{icons:m?null:(0,o.Y)(u.A,{onClick:()=>{x({sectionName:n,tileIndex:l})}}),caption:(0,o.Y)(b,{colorOpacity:e,conditionalStyle:r,colorType:t}),isDisabled:m,isRemovable:!m,dragItem:!a&&!m&&{type:"CONDITIONAL_MEASURE_STYLE_IN_WIZARD",fromPosition:{sectionName:n,tileIndex:l}}}}));return{[n]:{caption:C({id:"aui.conditionalStyle.title"}),tiles:l,isAddButtonVisible:!m}}}),[I,C,m,f,e,t]),S=v&&"tileIndex"in v?I[v.tileIndex]:void 0;return(0,o.Y)(d.Tooltip,{trigger:m?["hover"]:[],placement:"right",title:n,children:(0,o.Y)(c.s,{css:{paddingTop:4},canDrop:({toPosition:{tileIndex:e}})=>0!==e,dragItemTypes:["CONDITIONAL_MEASURE_STYLE_IN_WIZARD"],sections:R,onTileRemoved:({tileIndex:e})=>{h(0===e?{default:void 0}:{conditional:(0,l.produce)(g,(t=>{const n=e-1;t?.splice(n,1)}))})},popoverProps:{position:v,title:C({id:"aui.conditionalStyle."+(void 0!==S?"edit":"add")}),content:(0,o.Y)(s.Suspense,{fallback:(0,o.Y)("div",{style:{display:"flex",height:330,width:327,justifyContent:"center",alignItems:"center"},children:(0,o.Y)(r.Spin,{})}),children:(0,o.Y)(w,{colorOpacity:e,onCancel:()=>x(void 0),onSubmitDefaultStyle:e=>{h({default:e}),x(void 0)},onSubmit:e=>{h(v&&"tileIndex"in v?{conditional:(0,l.produce)(g,(t=>{t[v.tileIndex-1]=e}))}:{conditional:[...g||[],e]}),x(void 0)},colorType:t,conditionalStyle:S})})},onAddButtonClicked:()=>x({sectionName:"conditionalStyle"}),onTileMoved:({dragItem:e,toPosition:{tileIndex:t}})=>{const n=e.fromPosition.tileIndex-1,o=t-1;h({default:p,conditional:(0,l.produce)(g,(e=>{const[t]=e.splice(n,1);e.splice(o,0,t)}))})}})})}},67040:(e,t,n)=>{"use strict";n.d(t,{o:()=>l});var o=n(74389),r=n(729);const l=e=>{const t=(0,r.DP)(),n={border:`solid 1px ${t.grayScale[4]}`,borderRadius:3,paddingLeft:5,paddingRight:5,marginRight:5,width:32,lineHeight:"14px",height:16,color:t.textColor,...e.sampleStyle};return(0,o.FD)("div",{style:{display:"flex",alignItems:"center"},children:[(0,o.Y)("div",{style:n,children:e.sampleLabel}),(0,o.Y)("div",{children:e.caption})]})}},31831:(e,t,n)=>{"use strict";n.d(t,{KT:()=>r,Z_:()=>a,dg:()=>s,nd:()=>l});var o=n(31529);const r={eq:"=",neq:"â‰ ",lt:"<",gt:">",lte:"<=",gte:">="},l={eq:"=",neq:"<>",lt:"<",gt:">",lte:"<=",gte:">="},i=(0,o.invert)(l),s=e=>e in i,a=e=>e in l},61526:(e,t,n)=>{"use strict";n.d(t,{H:()=>l});var o=n(90147),r=n(1482);function l(e,t){return(0,o.produce)(e,(n=>{const o=t.key||(0,r.z)(e.pagesOrder);n.pagesOrder.splice(t.index??n.pagesOrder.length,0,o),n.pages[o]=t.page}))}},1482:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var o=n(31529);const r=e=>parseInt(e.substring(2));function l(e){const t=(0,o.maxBy)(e,r);return`p-${t?r(t)+1:0}`}},18417:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var o=n(85662);function r(e,{pageKey:t,leafKey:n},r){return(0,o.y)(e,["pages",t,"content",n],r)}},99993:(e,t,n)=>{"use strict";function o(e){return"dimension"===e.type}n.d(t,{t:()=>o})},7502:(e,t,n)=>{"use strict";function o(e){return"hierarchy"===e.type}n.d(t,{y:()=>o})},99171:(e,t,n)=>{"use strict";function o(e){return"level"===e.type}n.d(t,{r:()=>o})},56277:(e,t,n)=>{"use strict";function o({dimension:e,hierarchy:t,level:n}){if(n&&t)return{dimensionName:e.name,hierarchyName:t.name,levelName:n.name};if(t){const n=t.slicing?0:1;return o({dimension:e,hierarchy:t,level:Object.values(t.levels)[n]})}const r=e.defaultHierarchy;return o({dimension:e,hierarchy:e.hierarchies[r]})}n.d(t,{a:()=>o})},95554:(e,t,n)=>{"use strict";n.d(t,{z:()=>x});var o=n(74389),r=n(90923),l=n(95889),i=n(57418),s=n(70070),a=n(93345),u=n.n(a);const d=s.A.default??s.A,c=i.A.default??i.A,m=u().forwardRef(((e,t)=>(0,o.Y)(d,{...e,ref:t,icon:c})));var f=n(76194);const h=s.A.default??s.A,p=f.A.default??f.A,g=u().forwardRef(((e,t)=>(0,o.Y)(h,{...e,ref:t,icon:p})));var b=n(50493);const y=s.A.default??s.A,w=b.A.default??b.A,C=u().forwardRef(((e,t)=>(0,o.Y)(y,{...e,ref:t,icon:w})));var v=n(7496);const x=e=>{const{formatMessage:t}=(0,l.useIntl)(),n=e.fieldStyle?.justifyContent;return(0,o.FD)("div",{css:{display:"grid"},children:[(0,o.Y)(v.Text,{small:!0,strong:!0,css:{paddingTop:5,paddingBottom:5},children:t({id:"aui.dataVisualization.attribute.align"})}),(0,o.FD)(r.Radio.Group,{value:n,onChange:t=>{e.onFieldStyleChanged({justifyContent:t.target.value})},children:[(0,o.Y)(r.Radio.Button,{value:"left",children:(0,o.Y)(m,{})}),(0,o.Y)(r.Radio.Button,{value:"center",children:(0,o.Y)(g,{})}),(0,o.Y)(r.Radio.Button,{value:"right",children:(0,o.Y)(C,{})})]})]})}},8761:(e,t,n)=>{"use strict";n.d(t,{M:()=>H});var o=n(74389),r=n(40570),l=n(90923),i=n(93345),s=n(95889),a=n(14919),u=n(74706),d=n(57287),c=n(13552),m=n(18417),f=n(87998),h=n(34547),p=n(33870),g=n(29821),b=n(21788),y=n(60485),w=n(70223),C=n(36756),v=n(50603),x=n(7496),I=n(9569);class R extends Error{constructor(){super("Attempted to switch from a SELECT to a DRILLTHROUGH query. This is not supported.")}}const S="drillthrough-table";function O(e,{type:t,payload:{mdxString:n,dashboardState:o,pageKey:r,leafKey:l,widgetState:i,widgetPlugin:s,dataModels:a,lastUsedCube:u,hasDrillthroughTableWidgetPlugin:d}}){if("updateMdxString"===t)try{const e=(0,y.parse)(n),t=!i.query.mdx,c=i.query.mdx&&(0,y.isMdxSelect)(i.query.mdx),f=(0,y.isMdxDrillthrough)(e);if(c&&f)throw new R;const h=t&&f&&d;let{widgetStateDerivedFromMdx:p,dashboardStateDerivedFromMdx:g}=(0,I.deriveStateFromMdx)({mdx:e,dashboardState:o,pageKey:r,leafKey:l,dataModels:a,widgetState:i,widgetPlugin:s,lastUsedCube:u,shouldRemoveFiltersFromQuery:!1});return h&&(p={query:p.query,widgetKey:S,serverKey:p.serverKey,filters:p.filters,areFiltersDrivenByMdx:!0},g&&r&&l&&(g=(0,m.W)(g,{pageKey:r,leafKey:l},(()=>p)))),{mdxString:n,widgetStateDerivedFromMdx:p,dashboardStateDerivedFromMdx:g}}catch(e){return{mdxString:n,error:(0,v.$)(e)}}}const H=(0,C.n)((e=>{const{widgetState:t,queryId:n,onWidgetChange:m}=e,C=(0,u.A)(),{dashboardState:v,leafKey:H,pageKey:z,onDashboardChange:F}=(0,a.M)(e)?e:{},M=(0,I.useSwitchedWidgetState)(t,n),[Y]=(0,w.useWidgetPlugins)([M.widgetKey]),D=(0,w.useWidgetPluginKeys)(),T=(0,i.useMemo)((()=>D.includes(S)),[D]),N=(0,d.W)(),{formatMessage:W}=(0,s.useIntl)(),P=M.serverKey,E=(0,c.I)({serverKey:P,queryId:n}),[A,k]=(0,i.useReducer)(O,{mdxString:E?.mdx}),{cube:V,dataModel:K}=(0,i.useMemo)((()=>{const e=A.widgetStateDerivedFromMdx??M,t=e.query.mdx?(0,y.getCubeName)(e.query.mdx):void 0;return(0,I.getTargetCube)({serverKey:e.serverKey,dataModels:N,cubeName:t,lastUsedCube:C})}),[A.widgetStateDerivedFromMdx,M,N,C]),L=E?.context?.["mdx.casesensitive"]??V.contextValues["mdx.casesensitive"]?.value,$=void 0===L||"true"===L,_=(0,i.useCallback)((e=>{k({type:"updateMdxString",payload:{mdxString:e,dashboardState:v,pageKey:z,leafKey:H,widgetState:M,widgetPlugin:Y,dataModels:N,lastUsedCube:C,hasDrillthroughTableWidgetPlugin:T}})}),[v,z,H,M,Y,N,C,T]),j=E?.mdx??"";(0,i.useEffect)((()=>{_(j)}),[j,_]);const B=(0,i.useCallback)((()=>{A.error||(F&&A.dashboardStateDerivedFromMdx?F(A.dashboardStateDerivedFromMdx):A.widgetStateDerivedFromMdx&&m(A.widgetStateDerivedFromMdx))}),[A.widgetStateDerivedFromMdx,A.dashboardStateDerivedFromMdx,m,F,A.error]),q=(0,i.useCallback)((()=>{_(j)}),[j,_]),U=(0,i.useMemo)((()=>A.mdxString!==j),[A.mdxString,j]),[Q,G]=(0,i.useMemo)((()=>{if(!U)return[!1,W({id:"aui.mdxEditor.hover.noChanges"})];if(A.error){let e;if(A.error instanceof I.InvalidMdxTypeError)e=W({id:"aui.mdxEditor.hover.invalidMdxType"});else if(A.error instanceof f.N){const{cubeName:t,availableCubeNames:n}=A.error;e=`${W({id:"aui.error.cubeNotFound"})}: "${t}". ${W({id:"aui.mdxEditor.hover.availableCubesAre"})}: ${JSON.stringify(n)}`}else if(A.error instanceof h.O){const{dimensionName:t,cubeName:n}=A.error;e=`${W({id:"aui.mdxEditor.hover.dimensionNotFound"})} ${W({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${n}": "${t}".`}else if(A.error instanceof p.h){const{hierarchyCoordinates:t,cubeName:n}=A.error;e=`${W({id:"aui.mdxEditor.hover.hierarchyNotFound"})} ${W({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${n}": "${(0,y.quote)(t.dimensionName,t.hierarchyName)}".`}else if(A.error instanceof g.W){const{levelCoordinates:t,cubeName:n}=A.error;e=`${W({id:"aui.mdxEditor.hover.levelNotFound"})} ${W({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${n}": "${(0,y.quote)(t.dimensionName,t.hierarchyName,t.levelName)}".`}else A.error instanceof I.MdxInconsistentWithDashboardOrPageFiltersError?e=W({id:"aui.mdxEditor.hover.filtersChanged"},{bold:x.bold}):A.error instanceof R?e=W({id:"aui.mdxEditor.hover.cannotSwitchToDrillthrough"}):(e=W({id:"aui.mdxEditor.hover.invalidMdxQuery"}),console.error(A.error));return[!1,e]}return[!0,void 0]}),[U,A.error,W]);return(0,o.FD)("div",{css:r.css`
        height: 100%;
        display: flex;
        margin-right: 4px;
        flex-direction: column;
      `,children:[(0,o.Y)("div",{style:{height:"calc(100% - 28px)"},children:(0,o.Y)(b.K,{type:"mdx",value:A.mdxString,onChange:_,dataModel:K,cube:V,isCaseSensitive:$})}),(0,o.FD)("div",{css:r.css`
          text-align: right;
          margin-right: 14px;
          height: ${28}px;
        `,children:[(0,o.Y)(l.Button,{disabled:!U,onClick:q,children:W({id:"aui.mdxEditor.reset"})}),"Â ",(0,o.Y)(x.Tooltip,{title:G,children:(0,o.Y)(l.Button,{type:"primary",disabled:!Q,onClick:B,children:W({id:"aui.mdxEditor.submit"})})})]})]})}))},86756:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var o=n(74389);const r=({content:e})=>(0,o.Y)("div",{css:{display:"table"},children:e.map((({left:e,right:t},n)=>(0,o.FD)("div",{css:{display:"table-row"},children:[(0,o.Y)("div",{css:{display:"table-cell",textAlign:"right",paddingRight:8,color:"#c0c0c0"},children:e}),(0,o.Y)("div",{css:{display:"table-cell",textAlign:"left",fontWeight:600,overflowWrap:"anywhere"},children:t})]},n)))})},3431:(e,t,n)=>{"use strict";n.d(t,{l:()=>m});var o=n(74389),r=n(90923),l=n(24870),i=n.n(l),s=n(95889),a=n(7496);const u=i()("2022-02-18"),d=["YYYY-MM-DD","YYYY/MM/DD","M/D","M/D/YY","MM/DD/YY","MM/DD/YYYY","DD-MMMM-YY","DD-MMMM-YYYY","dddd, MMM DD, YYYY","MMM DD, YYYY"].map((e=>({value:e,label:u.format(e)}))),c=d[0].value,m=({selectedField:e,fieldStyle:t,onFieldStyleChanged:n})=>{const{formatMessage:l}=(0,s.useIntl)(),i=("level"===(u=e).type||"drillthroughHeader"===u.type)&&u.isTime;var u;const m=!i,f=e.value,h=i?t?.dateFormat??c:c;return(0,o.FD)("div",{style:{display:"flex",flexDirection:"column",marginBlock:12},children:[(0,o.Y)(a.Text,{small:!0,strong:!0,children:l({id:"aui.dataVisualization.dateFormat"})}),(0,o.Y)(a.Tooltip,{placement:"right",trigger:m?["hover"]:[],title:f&&l({id:"aui.formatting.dateFormattingOnlyApplyToTimeFields"},{fieldName:f}),children:(0,o.Y)(r.Select,{"aria-label":"Date format select",disabled:m,style:{marginTop:6},value:h,options:d,onChange:e=>n({dateFormat:e})})})]})}},32747:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var o=n(74389),r=n(95889),l=n(86425);const i=({fieldStyle:e,onFieldStyleChanged:t,selectedField:n,...i})=>{const{formatMessage:s}=(0,r.useIntl)(),a=s({id:"aui.formatting.conditionalStylesOnlyApplyToNumericFields"},{fieldName:n.value}),u=!n.isNumeric;return(0,o.Y)(l.j,{conditionalStyles:e,disabledTooltipMessage:a,isDisabled:u,onConditionalStylesChanged:t,...i})}},41214:(e,t,n)=>{"use strict";n.d(t,{G:()=>b});var o=n(74389),r=n(90923),l=n(90147),i=n(31529),s=n(93345),a=n(95889),u=n(73805),d=n(70223),c=n(729),m=n(7496),f=n(9569),h=n(85995),p=n(68258),g=n(12832);const b=e=>{const{formatMessage:t}=(0,a.useIntl)(),{fieldOptions:n}=e,[b]=(0,d.useWidgetPlugins)([e.widgetState.widgetKey]),y=(0,f.useWidgetName)(e.widgetState),w=(0,c.DP)(),{cube:C}=(0,f.useCube)(e.widgetState),v=!b?.attributes||Object.values(b?.attributes??{}).some((({role:e})=>"numeric"===(0,f.getAttributeType)(e))),[x,I]=(0,s.useState)(n[0]??{}),R=e.widgetState.style??{},S=R.measures?.[x.value];if((0,s.useMemo)((()=>(0,g.K)(y,R.measures)),[y,R.measures]),!v)return null;const O={selectedField:x,fieldStyle:S,onFieldStyleChanged:t=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{(0,i.set)(e,["style","measures",x.value],{...R.measures?.[x.value],...t}),function(e){const t=e.style?.measures;void 0!==t&&(Object.entries(t).forEach((([t,n])=>{void 0!==n&&((0,p.W)(n).forEach((([e,t])=>{(null==t||(0,i.isObject)(t)&&(0,i.isEmpty)(t))&&delete n[e]})),(0,i.isEmpty)(n)&&delete e.style.measures[t])})),(0,i.isEmpty)(t)&&delete e.style.measures),void 0!==e.style&&(0,i.isEmpty)(e.style)&&delete e.style}(e)})))},cube:C};return(0,o.FD)("div",{style:{borderBottom:`1px solid ${w.grayScale[4]}`,marginBottom:5,paddingTop:4},children:[(0,o.Y)(m.Text,{small:!0,strong:!0,children:t({id:"aui.dataVisualization.fields"})}),(0,o.Y)(r.Select,{"aria-label":"Field select",style:{width:"100%",marginTop:6},value:x,options:n,onChange:(e,t)=>{I((0,i.isArray)(t)?t[0]:t)},dropdownRender:e=>n.length>0?e:(0,o.FD)("div",{css:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:20},children:[(0,o.Y)(u.A,{}),(0,o.Y)("div",{children:t({id:"aui.formatting.noFieldInMapping"},{bold:m.bold})})]}),showSearch:!0}),e.fieldStyleEditors.map(((e,t)=>(0,o.Y)(e,{...O},t))),(0,o.Y)(h.F,{isDisabled:(0,i.isEmpty)(R.measures),onResetStyle:()=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{delete e.style?.measures,(0,i.isEmpty)(e.style)&&delete e.style})))},caption:t({id:"aui.formatting.resetFieldsStyle"})})]})}},27860:(e,t,n)=>{"use strict";n.d(t,{i:()=>c});var o=n(74389),r=n(90923),l=n(93345),i=n(95889),s=n(3602),a=n(50163),u=n(7496);const d=["number","percentage","thousands","millions","billions"],c=({selectedField:e,fieldStyle:t,onFieldStyleChanged:n,cube:c})=>{const{formatMessage:m}=(0,i.useIntl)(),f=t?.numberOfDecimals??((e,t)=>{if("measure"!==e.type||!e.isNumeric)return 2;const n=(0,s.D)(e.value,t);return void 0===n||"double"===n.type?2:0})(e,c),h=e.value,p=!e.isNumeric,g=t?.numberFormat??"number";return(0,o.Y)(l.Fragment,{children:(0,o.FD)("div",{style:{display:"flex",width:"100%",marginTop:6,marginBottom:6},children:[(0,o.Y)(u.Tooltip,{placement:"right",trigger:p?["hover"]:[],title:m({id:"aui.formatting.numberFormattingOnlyApplyToNumericFields"},{fieldName:h}),children:(0,o.Y)(r.Select,{style:{flexGrow:1,marginRight:3},value:g,onChange:e=>{n({numberFormat:e})},disabled:p,"aria-label":"Number format select",children:d.map((e=>(0,o.Y)(r.Select.Option,{value:e,children:m({id:`aui.formatting.numberFormat.${e}`})},e)))})}),(0,o.Y)(r.Button,{disabled:p||0===f,icon:(0,o.Y)(a.IconRemoveDecimal,{}),onClick:()=>{n({numberOfDecimals:Math.max(0,f-1)})},"aria-label":"Remove decimal button",style:{marginRight:3}}),(0,o.Y)(r.Button,{icon:(0,o.Y)(a.IconAddDecimal,{}),onClick:()=>{n({numberOfDecimals:Math.max(0,f+1)})},"aria-label":"Add decimal button",disabled:p})]})})}},85995:(e,t,n)=>{"use strict";n.d(t,{F:()=>a});var o=n(74389),r=n(90923),l=n(95889),i=n(729),s=n(7496);const a=({caption:e,isDisabled:t,onResetStyle:n})=>{const{formatMessage:a}=(0,l.useIntl)(),u=(0,i.DP)();return(0,o.Y)(s.Tooltip,{placement:"right",trigger:t?["hover"]:[],title:a({id:"aui.style.noStyleConfigured"}),children:(0,o.Y)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,o.Y)(r.Button,{style:{padding:0},type:"link",onClick:n,disabled:t,children:(0,o.Y)("span",{css:t?{}:{textDecoration:"underline",color:u.textColor,transition:"color 0.3s ease",":hover":{color:u.primaryColor}},children:e})})})})}},99106:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});var o=n(74389),r=n(90147),l=n(31529),i=n(7496);const s=({checkedByDefault:e,disabled:t,label:n,propertyName:s,tooltipText:a,onWidgetChange:u,widgetState:d})=>{const c=(0,l.get)(d.style,s)??e;return(0,o.Y)(i.Switch,{label:n,checked:c,tooltipText:a,disabled:t,onChange:()=>{const e=(0,r.produce)(d,(e=>{(0,l.set)(e,`style.${s}`,!c)}));u(e)}})}},12832:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var o=n(31529),r=n(20163);const l=["eq","neq","lt","lte","gt","gte"];function i(e,t){t&&Object.values(t).forEach((t=>{(function(e){return"conditional"in e})(t)&&t.conditional&&t.conditional.forEach((t=>{!function(e,t){const n=(0,o.omit)(t,"style"),i=Object.keys(n);if(i.length>2||0===i.length)throw new r.f(e,"invalidNumberOfKeys",t);if(2===i.length&&(i.includes("eq")||i.includes("neq")))throw new r.f(e,"invalidPairOfKeys",t);i.forEach((o=>{if(!l.includes(o))throw new r.f(e,"invalidComparisonOperator",t);if(void 0===n[o])throw new r.f(e,"undefinedComparisonOperand",t)}))}(e,t)}))}))}},20163:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});class o extends Error{invalidStyle;widgetName;constructor(e,t,n){let o;switch(t){case"invalidNumberOfKeys":o="A measure conditional style can only contain 1 or 2 comparison operators.";break;case"invalidPairOfKeys":o="A pair of comparison operators can only be lt(e)/gt(e).";break;case"invalidComparisonOperator":o="A measure conditional style can only use the following comparison operators: eq, neq, lt, lte, gt, gte.";break;case"undefinedComparisonOperand":o="A comparison operand cannot be undefined."}super(`The widget contains an invalid measure conditional style. ${o}`),this.invalidStyle=n,this.widgetName=e}}},40034:(e,t,n)=>{"use strict";function o({numericFieldStyle:e,valueFormattedByAtotiServer:t,value:n,locale:o}){const{numberOfDecimals:r,numberFormat:l}=e??{};if(void 0===r&&void 0===l)return t;let i,s=n;switch(l){case"percentage":s=100*n,i="%";break;case"thousands":s=n/1e3,i="K";break;case"millions":s=n/1e6,i="M";break;case"billions":s=n/1e9,i="B"}const a=s.toLocaleString(o,void 0!==r?{minimumFractionDigits:r,maximumFractionDigits:r}:void 0);return i?`${a} ${i}`:a}n.d(t,{m:()=>o})},54966:(e,t,n)=>{"use strict";n.d(t,{m:()=>f});var o=n(74389),r=n(40570),l=n(90923),i=n(93345),s=n(95889),a=n(87216),u=n(71682),d=n(8573),c=n(729),m=n(9569);function f(e){const t=t=>{const{dashboardState:n,pageKey:f,widgetState:h}=t,{formatMessage:p}=(0,s.useIntl)(),{cube:g,serverKey:b}=(0,m.useCube)(t.widgetState),y=(0,c.DP)(),[w,C]=(0,a.i)("filters.hideMissingHierarchiesAlert"),[v,x]=(0,i.useState)(!1),I=(0,m.useFilters)({dashboardState:n,pageKey:f,widgetState:h}),R=[...I.user,...I.dashboard,...I.page,...I.widget].reduce(((e,{filter:t,applicableCubes:n})=>((0,u.T)(g,b,{applicableCubes:n})||e.push(`[${t.dimensionName}].[${t.hierarchyName}]`),e)),[]),S=R.length>0&&!v&&!w;return(0,o.FD)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[S&&(0,o.Y)(r.ClassNames,{children:({css:e})=>(0,o.Y)(l.Alert,{rootClassName:e({alignItems:"start",paddingInline:16,".ant-alert-icon, .ant-alert-close-icon":{marginTop:"5px"}}),onClose:e=>{x(!0),e.stopPropagation()},type:"warning",banner:!0,closable:!0,showIcon:!0,icon:(0,o.Y)(d.A,{}),message:(0,o.FD)(o.FK,{children:[p({id:"aui.filters.missingHierarchies"},{numberOfMissingHiearchies:R.length,hierarchyNames:R.join(", "),cubeName:g.name}),(0,o.Y)("div",{onClick:e=>{C(!0),e.stopPropagation()},style:{color:y.primaryColor,textDecoration:"underline",cursor:"pointer",width:"fit-content"},children:p({id:"aui.dismissAlert"})})]})})}),(0,o.Y)("div",{css:{overflow:"hidden",height:"100%"},children:(0,o.Y)(e,{...t})})]})};return t.displayName=`withMissingFilterHierarchiesAlert(${e.displayName})`,t}},21788:(e,t,n)=>{"use strict";n.d(t,{K:()=>d});var o=n(74389),r=n(40570),l=n(93345),i=n(97220),s=n(75114);const a={sql:(0,l.lazy)((()=>Promise.all([n.e(3849),n.e(4211),n.e(6290)]).then(n.bind(n,77289)))),mdx:(0,l.lazy)((()=>Promise.all([n.e(3849),n.e(4211),n.e(7469)]).then(n.bind(n,95350)))),json:(0,l.lazy)((()=>Promise.all([n.e(3849),n.e(4211),n.e(608)]).then(n.bind(n,6047)))),markdown:(0,l.lazy)((()=>Promise.all([n.e(3849),n.e(4211),n.e(5008)]).then(n.bind(n,62751)))),base:(0,l.lazy)((()=>Promise.all([n.e(3849),n.e(4211),n.e(5274)]).then(n.bind(n,64211))))},u={tabSize:2},d=(0,l.forwardRef)(((e,t)=>{const{type:n,options:d=u,...c}=e,m=(0,l.useMemo)((()=>a[n||"base"]),[n]);return(0,o.Y)(l.Suspense,{fallback:(0,o.Y)(i.W,{}),children:(0,o.Y)(r.ClassNames,{children:({css:e})=>(0,o.Y)(m,{ref:t,options:d,classNames:{line_error:e(s.e.line_error),line_warning:e(s.e.line_warning)},...c})})})}))},97220:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var o=n(74389),r=n(40570),l=n(90923);const i=()=>(0,o.Y)("div",{css:r.css`
      display: flex;
      width: 100%;
      height: 100%;
      justify-content: center;
      align-items: center;
    `,children:(0,o.Y)(l.Spin,{})})},75114:(e,t,n)=>{"use strict";n.d(t,{d:()=>r,e:()=>l});const o=e=>`background-image:\nlinear-gradient(45deg, transparent 65%, ${e} 80%, transparent 90%),\nlinear-gradient(135deg, transparent 5%, ${e} 15%, transparent 25%),\nlinear-gradient(135deg, transparent 45%, ${e} 55%, transparent 65%),\nlinear-gradient(45deg, transparent 25%, ${e} 35%, transparent 50%);\nbackground-repeat:repeat-x;\nbackground-size: 8px 2px;\nbackground-position:0 95%;`,r={error:"red",warning:"#faad14"},l={line_error:o(r.error),line_warning:o(r.warning)}},62002:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var o=n(74389),r=n(3981),l=n(70070),i=n(93345),s=n.n(i);const a=l.A.default??l.A,u=r.A.default??r.A,d=s().forwardRef(((e,t)=>(0,o.Y)(a,{...e,ref:t,icon:u})))},87898:(e,t,n)=>{"use strict";n.d(t,{NB:()=>i,n6:()=>s});var o=n(93345),r=n(75132);const l=(0,o.createContext)({}),i=l.Provider;function s(e){const t=(0,o.useContext)(l);return(0,o.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell-style",e,t)))),[t,e])}},8878:(e,t,n)=>{"use strict";n.d(t,{W0:()=>s,Y6:()=>i});var o=n(93345),r=n(75132);const l=(0,o.createContext)({}),i=l.Provider;function s(e){const t=(0,o.useContext)(l);return(0,o.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell",e,t)))),[t,e])}},54696:(e,t,n)=>{"use strict";n.d(t,{$:()=>k});var o=n(74389);var r=n(90147),l=n(31529),i=n(93345),s=n(95889),a=n(77752),u=n(87216),d=n(47477),c=n(60485),m=n(8878),f=n(87898),h=n(70223),p=n(71504),g=n(37470),b=n(36419),y=n(92170),w=n(7496),C=n(9569),v=n(85400),x=n(50163),I=n(56489);const R=(0,i.forwardRef)(((e,t)=>{const n=e.sort?.orderMode,r=e.sort?.drillthroughColumnUniqueName,l=(0,i.useRef)(null),s=(0,w.useHasOverflow)(l),a=e.value===r&&n,u=a&&"ASC"===n?x.IconNumericAscendingOrder:a&&"DESC"===n?x.IconNumericDescendingOrder:void 0;return(0,o.Y)(w.Tooltip,{placement:"right",trigger:s?["hover"]:[],title:e.caption,children:(0,o.FD)("div",{ref:t,style:{display:"flex",alignItems:"center",...e.style},children:[(0,o.Y)("span",{ref:l,style:{textOverflow:"ellipsis",overflow:"hidden",maxWidth:`calc(100% - ${a?"18px":"0px"})`,...!e.wrapText&&{whiteSpace:"nowrap"}},children:e.caption}),u?(0,o.Y)(u,{onClick:e.onSortChanged,style:{cursor:"pointer",marginLeft:"auto",height:"100%"}}):(0,o.Y)("div",{style:{height:"100%",marginLeft:6}})]})})}));R.displayName="DefaultDrillthroughHeaderCell";const S=(0,I.R)(R),O=(0,i.forwardRef)(((e,t)=>{const{caption:n,columnIndex:r,headerValues:l,isRowFrozen:s,widgetState:a}=e,d=s,c=l?.[r]?.name,m=c&&a.style?.measures?.[c]?.justifyContent,f=(0,i.useMemo)((()=>m?{...e.style,justifyContent:m}:e.style),[e.style,m]),[h]=(0,u.i)("table.tooltips");if(d)return(0,o.Y)(S,{ref:t,...e});{const r=(a.style?.areTooltipsVisible??h)&&c&&n?[{left:c,right:n}]:void 0;return(0,o.Y)(v.Y,{ref:t,...e,style:f,tooltipContent:r})}}));O.displayName="DefaultDrillthroughCell";const H=(0,i.memo)(O);var z=n(40570),F=n(729);const M=({style:e})=>{const t=(0,F.DP)();return(0,o.Y)("div",{style:e,children:(0,o.Y)("div",{css:{display:"flex",overflow:"hidden"},children:(0,l.range)(4).map((e=>(0,o.FD)("div",{children:[(0,o.Y)("div",{css:z.css`
                height: 28px;
                overflow: hidden;
                position: relative;
                width: 120px;
                border-right: 1px solid ${t.cellBorderColor};
              `,children:(0,o.Y)("div",{css:z.css`
                  padding: 4px 4px 3px;
                `})}),(0,o.Y)("div",{css:z.css`
                height: 196px;
                position: relative;
                border-top: 1px solid ${t.cellBorderColor};
                border-right: 1px solid ${t.cellBorderColor};
              `,children:(0,l.range)(7).map((e=>(0,o.Y)("div",{css:z.css`
                    font-size: 12px;
                    height: 28px;
                    left: 0px;
                    padding: 4px 4px 3px;
                    position: absolute;
                    top: ${28*e}px;
                    width: 120px;
                    overflow: hidden;
                    background-color: ${e%2==1?t.alternateCellBackgroundColor:"transparent"};
                    border-right: 1px solid ${t.cellBorderColor};
                  `},e)))})]},e)))})})};var Y=n(34841),D=n(46246);function T(e,t){const{headers:n,rows:o}=t,r=new Map,l={},i=n.length,{numberOfRows:s,numberOfColumns:a}=(0,D.Q)(o);e.forEach((({columnHeader:e,body:t})=>{if(t)for(let e=t.rows.from;e<=Math.min(t.rows.to,s-1);e++)for(let l=t.columns.from;l<=Math.min(t.columns.to,a-1);l++){let t=r.get(n[l]);t||(t={},r.set(n[l],t)),t[e]=o[e][l]}e&&n.slice(e.columns.from,Math.min(e.columns.to,i-1)+1).forEach(((t,n)=>{l[e.columns.from+n]=t}))}));const u=[];for(const e of r.entries()){const[t,n]=e;u.push({header:t,cells:Object.keys(n).map((e=>parseInt(e))).sort().map((e=>n[e]))})}return{headers:Object.keys(l).map((e=>parseInt(e))).sort().map((e=>l[e])),columns:u}}var N=n(24870),W=n.n(N),P=n(40034),E=n(40224);const A=e=>e,k=(0,C.withLoadingOverlay)((0,C.withoutIrrelevantRenders)((e=>{const{queryResult:t,widgetState:n,style:v,onChange:x,onSelectionChange:I}=e,{widgetKey:R,columnWidths:S,sort:O}=n,z=n.style?.measures,[F]=(0,u.i)("table.headers.wrap"),[D]=(0,u.i)("table.defaultSize"),[N]=(0,u.i)("table.rowNumbers"),k=n.style?.wrapHeaders??F,V=n.style?.areRowNumbersVisible??N;(0,w.useCallOnLoadedAfterFirstProperRender)(e);const{locale:K}=(0,s.useIntl)(),{cube:L,serverKey:$}=(0,C.useCube)(n),[_]=(0,d.N)($,L.name),{mdx:j}=(0,E.t)(n),[B]=(0,h.useWidgetPlugins)([R]),[q]=(0,f.n6)([B.cellStyle]),[U]=(0,m.W0)([B?.cell]),Q=(0,i.useCallback)((q?.withCellStyle??A)(U??H),[q]);Q.displayName="DrillthroughCell";const G=t.data,{cells:X,headers:Z}=(0,i.useMemo)((()=>G&&j&&_?(0,Y.Q)(j,G?.result,_):{cells:void 0,headers:void 0}),[j,G,_]),J=Z&&Z.length>0?1:0,ee=(0,i.useMemo)((()=>(Z||[]).map((({caption:e})=>({value:e,caption:e})))),[Z]),te=(0,i.useMemo)((()=>{if(X&&O){const e=ee.findIndex((e=>e?.caption===O.drillthroughColumnUniqueName));if(e>-1)return(0,l.orderBy)(X,[t=>t[e].value],["ASC"===O.orderMode?"asc":"desc"])}}),[X,O,ee])??X,ne=(0,i.useMemo)((()=>{const e=z&&te?(({bodyCells:e,columnsStyle:t,headerCells:n,locale:o})=>{const l=n.map(((e,t)=>({styledColumnIndex:t,value:e?.value}))).filter((({value:e})=>t[String(e)]));return(0,r.produce)(e,(e=>{e?.forEach((e=>{Object.values(l).forEach((({styledColumnIndex:n,value:r})=>{if(!r)return;const l=e[n],i=t[r],s=i.dateFormat?W()(l.value,{locale:o}).format(i.dateFormat):(0,P.m)({locale:o,numericFieldStyle:i,value:Number(l.value),valueFormattedByAtotiServer:l.caption});e[n]={caption:s,value:l.value}}))}))}))})({bodyCells:te,columnsStyle:z,headerCells:ee,locale:K}):te;return[ee,...e??[]]}),[ee,z,te,K]),oe=(0,i.useMemo)((()=>S&&Z?Object.entries(S).reduce(((e,[t,n])=>{const o=Z.findIndex((e=>e?.caption===t));return-1!==o?{...e,[o]:n}:e}),{}):void 0),[Z,S]);if(!t.isLoading&&t.error){if((0,a.isErrorInQueryResultOfType)(t.error,"QueryTimeoutException"))throw new a.QueryTimeoutError(t.error);throw new a.QueryError(t.error)}const re=(0,i.useCallback)((()=>{x({...n,sort:{...O,orderMode:"ASC"===O.orderMode?"DESC":"ASC"}})}),[n,O,x]),le=(0,i.useMemo)((()=>({headerValues:Z||[],onSortChanged:re,sort:O,widgetState:n})),[re,Z,O,n]),ie=(0,i.useRef)([]),se=(0,i.useRef)(void 0);(0,i.useEffect)((()=>{if(Z&&te&&I){const e=se.current,t=T(ie.current,{headers:Z,rows:te.map((e=>e.map((e=>e.value))))});(0,l.isEqual)(t,e)||(se.current=t,I(t))}}),[Z,I,te]);const ae=(0,i.useMemo)((()=>Z?e=>{x({...n,columnWidths:{...S,...Object.entries(e).reduce(((e,[t,n])=>({...e,[Z[parseInt(t)].caption]:n})),{})}})}:void 0),[S,Z,x,n]),ue=(0,i.useMemo)((()=>Z&&te?e=>{if(I){ie.current=e;const t=T(e,{headers:Z,rows:te.map((e=>e.map((e=>e.value))))});se.current=t,I(t)}}:void 0),[te,Z,I]),de=(0,i.useMemo)((()=>Z?(e,t)=>{void 0!==j&&x((0,r.produce)(n,(n=>{const o=(0,c.getDrillthroughColumns)(j);(function(e,t,n){const o=t<0?e.length+t:t;if(o>=0&&o<e.length){const o=n<0?e.length+n:n,[r]=e.splice(t,1);e.splice(o,0,r)}})(o,e,t),n.query.mdx=(0,c.setDrillthroughColumns)(j,{drillthroughColumnUniqueNames:o}),delete n.shouldUseDefaultColumns})))}:void 0),[Z,j,x,n]),ce=(0,i.useRef)(null);return(0,i.useEffect)((()=>{async function e(e){if(!te||document.activeElement!==ce.current)return;e.preventDefault();const t=(0,p.O)(ie.current,{numberOfColumnsInBody:Z?.length??0,numberOfFrozenColumns:0,numberOfFrozenRows:J,numberOfRowsInBody:te.length});if(t.length>0){const n=t[0],o=(0,g.M)(n.columnHeader,(e=>`${ee[e]?.value}`)),r=(0,g.M)(n.body,((e,t)=>`${te[t][e].value}`)),l=(0,b.R)({header:o,body:r});e.clipboardData?.setData("text/plain",l["text/plain"]),e.clipboardData?.setData("text/html",l["text/html"])}}return document.addEventListener("copy",e),()=>{document.removeEventListener("copy",e)}}),[te,ee,Z?.length,J]),J>0?(0,o.Y)(y.XI,{cells:ne,additionalCellProps:le,style:v,numberOfFrozenRows:J,Cell:Q,columnWidths:oe,onColumnsResized:ae,onSelectionChanged:ue,size:n.style?.size??D,wrapHeaders:k,areRowNumbersVisible:V,canReorderColumns:!0,onColumnsReordered:de,containerRef:ce,shouldRenderExtraRows:!0}):(0,o.Y)(M,{style:e.style})})))},34841:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var o=n(31529),r=n(60485);const l=(e,t,n)=>{const l=((e,t,n)=>{const o={};return(e.columns??[]).forEach(((e,l)=>{const i=(0,r.isMdxFunction)(e)?e.arguments[0]:e;if(!(0,r.isMdxCompoundIdentifier)(i)||void 0===t.find((e=>e.name===i.identifiers[0].value)))return;const s=i.identifiers[0].value;if(!n.some((({name:e})=>e===s)))return;o[s]||(o[s]={valueIndex:-1});const a=(0,r.isMdxFunction)(e)&&e.name.toLowerCase();"membervalue"!==a&&a?"caption"===a&&(o[s].captionIndex=l):o[s].valueIndex=l})),o})(e,t.headers,n);if((0,o.isEqual)(l,{}))return{cells:void 0,headers:void 0};const i=[];return Object.values(l).forEach((({captionIndex:e,valueIndex:n})=>{const o=t.headers[n];if(o){const n=void 0!==e?t.headers[e].caption:o.caption;i.push({...o,caption:n})}})),{cells:t.rows.map((e=>Object.values(l).map((({captionIndex:t,valueIndex:n})=>{const o=e[n];return{caption:void 0!==t?`${e[t]}`:"object"==typeof o?JSON.stringify(o):`${o}`,value:"number"==typeof o?o:JSON.stringify(o)}})))),headers:i}}},17396:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var o=n(31529);const r={int:"numeric",double:"numeric",long:"numeric",String:"regular",Object:"regular",LocalDate:"date",LocalDateTime:"date"};function l(e){return(0,o.mapValues)((0,o.groupBy)(e,(({type:e})=>r[e]??"regular")),(e=>(0,o.sortBy)(e,(e=>e.name.toLowerCase()))))}},95085:(e,t,n)=>{"use strict";n.d(t,{_:()=>se});var o=n(74389),r=n(8761),l=n(50163),i=n(9569),s=n(90147),a=n(93345),u=n(95889),d=n(14919),c=n(47477),m=n(1274),f=n(56277),h=n(6067),p=n(47424),g=n(7657),b=n(99993),y=n(7502),w=n(99171),C=n(98371),v=n(24825),x=n(39988),I=n(60485),R=n(36756),S=n(7496),O=n(71804);const H=(e,t,n)=>{!e.children&&"drillthroughColumn"===e.type&&t.includes(e.uniqueName)?n.push(e.path):void 0!==e.children&&"drillthroughColumn"!==e.type&&(e.children.forEach((e=>{H(e,t,n)})),e.children.every((e=>n.includes(e.path)))&&n.push(e.path))};var z=n(74120),F=n(58398),M=n(82327),Y=n(17396);const D=["numeric","regular","date"],T=()=>!0,N=e=>{const{formatMessage:t}=(0,u.useIntl)(),{selectedColumnUniqueNames:n,onSelectedColumnUniqueNamesChange:r,drillthroughColumns:l}=e,i=function(e){const{formatMessage:t}=(0,u.useIntl)(),n=(0,Y.h)(e),o=(0,a.useMemo)((()=>D.map(((e,o)=>({type:e,caption:t({id:`aui.drillthrough.columnCategory.${e}`}),isFolder:!0,path:[0,o],children:n[e]?.map(((e,t)=>({caption:e.caption,type:"drillthroughColumn",uniqueName:e.name,isFolder:!1,path:[0,o,t]})))})))),[n,t]);return[{caption:t({id:"aui.selectAll"}),children:o,isFolder:!0,path:[0],type:"root"}]}(l),s=(0,a.useMemo)((()=>((e,t)=>{const n=[];return e.forEach((e=>{H(e,t,n)})),n})(i,n)),[i,n]),d=(0,a.useCallback)((e=>{const t=((e,t)=>{const n=(0,z.f)(e,t),o=[];return(0,F.z)(e,(e=>{"drillthroughColumn"===e.type&&(0,M.Q)(e.path,n)&&o.push(e.uniqueName)})),o})(i,e);r(t)}),[i,r]);return(0,o.Y)(O.P,{style:{minHeight:0},value:i,isSearchVisible:!0,isSelectable:!0,searchPlaceholder:t({id:"aui.drillthrough.columnSearchPlaceholder"}),onSelectedPathsChange:d,hasCheckbox:T,selectedPaths:s})};var W=n(31529),P=n(40224);const E=["widget"],A=(0,R.n)((e=>{const{cube:t,serverKey:n}=(0,i.useCube)(e.widgetState),{onWidgetChange:r,widgetState:l}=e,R=(0,d.M)(e)?e.dashboardState:void 0,O=(0,d.M)(e)?e.pageKey:void 0,[H,{error:z}]=(0,c.N)(n,t.name),F=(0,i.useFilters)({widgetState:l}),M=(0,i.useQueryContexts)({widgetState:l,dashboardState:R,pageKey:O}),Y=(0,i.useMdxInViews)({widgetState:l}),{mdx:D,isLoading:T}=(0,P.t)(l),A=(0,a.useMemo)((()=>D?(0,I.getDrillthroughColumns)(D):[]),[D]),k=(0,a.useCallback)((e=>{if(!D)return;const t=function({currentColumnNames:e,newColumnNames:t}){return[...(0,W.intersection)(e,t),...(0,W.difference)(t,e)]}({currentColumnNames:A,newColumnNames:e}),o=(0,s.produce)(l,(e=>{e.query.mdx=(0,I.setDrillthroughColumns)(D,{drillthroughColumnUniqueNames:t}),e.serverKey=n,delete e.shouldUseDefaultColumns}));r(o)}),[D,A,l,r,n]),[V,K]=(0,a.useState)(),L=(0,a.useCallback)((e=>{const t=(0,s.produce)(l,(t=>{t.filters=e.widget.map((({filter:e})=>e)),(0,i.driveFiltersFromState)(t)}));r(t)}),[r,l]),$=({dragItem:e})=>(0,v.a)(e)||(0,h.x)(e)||(0,p.G)(e)||(0,g.f)(e),_=({dragItem:e,toPosition:o})=>{const{dimensionName:r,hierarchyName:l,levelName:i}=e.field,s=(0,m.Z)({dimensionName:r,hierarchyName:l,levelName:i,cube:t});K({serverKey:n,cubeName:t.name,hierarchyCoordinates:{dimensionName:r,hierarchyName:l},position:o,levelIndex:s,type:"create-filter"})};(0,C.z4)(((e,t)=>{if((0,b.t)(e)||(0,y.y)(e)||(0,w.r)(e)){const{dimensionName:n,hierarchyName:o,levelName:r}=(0,f.a)(e),l={fieldType:e.type,type:"DATA_TREE_FIELD",field:{dimensionName:n,hierarchyName:o,levelName:r}};$({dragItem:l})&&(_({dragItem:l,toPosition:{sectionName:"widget",tileIndex:F.widget.length}}),t.preventDefault())}}));const{formatMessage:j}=(0,u.useIntl)(),B=(0,a.useMemo)((()=>({widget:j({id:"aui.filters.section.widgetFilters"})})),[j]);return z?(0,o.Y)(S.CenteredTitle,{level:2,children:z.message}):T?(0,o.Y)(S.CenteredTitle,{level:2,children:j({id:"aui.dataVisualization.loadingDrillthroughColumns"})}):H?(0,o.FD)("div",{style:{height:"100%",display:"flex",flexDirection:"column",flexGrow:1,minHeight:0},children:[(0,o.Y)("div",{style:{flexGrow:1,minHeight:0},children:(0,o.Y)(N,{drillthroughColumns:H,onSelectedColumnUniqueNamesChange:k,selectedColumnUniqueNames:A})}),(0,o.Y)("div",{style:{flexShrink:0,justifySelf:"flex-end"},children:(0,o.Y)(x.l,{canDrop:$,dragItemTypes:["DATA_TREE_FIELD","FIELD_IN_WIZARD","FILTER_IN_WIZARD"],serverKey:n,cubeName:t.name,filters:F,queryContextBySection:M,onFiltersChange:L,sectionCaptions:B,popoverConfiguration:V,onPopoverConfigurationChanged:K,mdxInViews:Y,visibleSectionNames:E,onTileMoved:_})})]}):(0,o.Y)(S.CenteredTitle,{level:2,children:j({id:"aui.dataVisualization.missingDrillthroughColumns"})})}),{awaitAllDataModels:!0});var k=n(54696),V=n(40570),K=n(24870),L=n.n(K),$=n(28501),_=n(27860),j=n(95554),B=n(3431),q=n(32747),U=n(41214),Q=n(81295),G=n(18736),X=n(69247),Z=n(49116),J=n(729),ee=n(34841);const te=[_.i,j.z,B.l,q.F],ne=(0,R.n)((e=>{const{queryId:t,widgetState:n}=e,{query:{mdx:r}}=n,{cube:l,serverKey:s}=(0,i.useCube)(n),{data:d}=(0,$.J)({serverKey:s,queryId:t}),{locale:m}=(0,u.useIntl)(),f=(0,J.DP)(),[h]=(0,c.N)(s,l.name),p=(0,a.useMemo)((()=>{if(!d||!r||!h)return[];const{cells:e,headers:t}=(0,ee.Q)(r,d.result,h);return(t??[]).map((({name:t,caption:n},o)=>{const r=(e??[]).every((e=>!isNaN(e[o].value)));return{value:t,label:n,type:"drillthroughHeader",isNumeric:r,isTime:!r&&(e??[]).every((e=>L()(e[o].value,{locale:m}).isValid()))}}))}),[d,h,r,m]);return(0,o.FD)(a.Fragment,{children:[(0,o.FD)("div",{css:V.css`
          border-bottom: 1px solid ${f.grayScale[4]};
          padding-bottom: 4px;
        `,children:[(0,o.Y)(Q.j,{...e}),(0,o.Y)(G.S,{...e}),(0,o.Y)(X.X,{...e}),(0,o.Y)(Z.Y,{...e})]}),(0,o.Y)(U.G,{...e,fieldOptions:p,fieldStyleEditors:te})]})}));var oe=n(54966);const re=()=>{},le="drillthrough-table",ie={query:{updateMode:"once"},widgetKey:le},se={key:le,category:"misc",Component:function(e){const t=(0,a.memo)((t=>{const{serverKey:n,cube:r}=(0,i.useCube)(t.widgetState),{widgetState:l,queryId:u,isDeferred:d}=t,{dashboardState:c,pageKey:m}=(0,i.isWidgetInDashboard)(t)?t:{},{mdx:f,isLoading:h}=(0,P.t)(l),p=(0,a.useMemo)((()=>(0,s.produce)(l,(e=>{e.query.mdx=f}))),[l,f]),g=(0,i.useWidgetQueryResult)({serverKey:n,queryId:u,widgetState:p,dashboardState:c,pageKey:m,cube:r,isDeferred:d}),b=(0,a.useMemo)((()=>({...g,isLoading:g.isLoading||h})),[g,h]);return(0,o.Y)(e,{...t,queryResult:b,onQueryRangesChanged:re})}));return t.displayName=`withDrillthroughQueryResult(${e.displayName})`,(0,oe.m)(t)}((0,i.withWidgetQueryErrorBoundary)(k.$)),contentEditor:A,filtersEditor:e=>(0,o.Y)(i.FiltersEditor,{...e,queryType:"drillthrough"}),queryEditor:r.M,styleEditor:ne,Icon:l.IconBusinessDrillthrough,initialState:ie,translations:{"en-US":{key:"Drillthrough",defaultName:"New drillthrough"},"fr-FR":{key:"Drillthrough",defaultName:"Nouveau drillthrough"}}}},40224:(e,t,n)=>{"use strict";n.d(t,{t:()=>d});var o=n(31529),r=n(93345),l=n(47477),i=n(87216),s=n(60485),a=n(9569),u=n(17396);function d(e){const{serverKey:t,cube:n}=(0,a.useCube)(e),d=n.name,[c,{isLoading:m}]=(0,l.N)(t,d),[f,,{isLoading:h}]=(0,i.i)("drillthrough.defaultSelectedColumns"),p=m||h,g=(0,r.useMemo)((()=>e.query.mdx??(0,s.getDefaultMdxDrillthrough)(d)),[e.query.mdx,d]),b=(0,r.useMemo)((()=>{const e=(0,u.h)(c??[]),t=(0,o.flatten)(["numeric","regular","date"].map((t=>e[t]??[])));return(0,o.map)(t,"name")}),[c]),y=f[d],w=(0,r.useMemo)((()=>y?(0,o.intersection)(y,b):b),[b,y]);return(0,r.useMemo)((()=>e.shouldUseDefaultColumns?p?{isLoading:!0}:{mdx:(0,s.setDrillthroughColumns)(g,{drillthroughColumnUniqueNames:w}),isLoading:!1}:{mdx:g,isLoading:p}),[g,e.shouldUseDefaultColumns,p,w])}},85400:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u});var o=n(74389),r=n(93345),l=n(86756),i=n(7496),s=n(56489);const a=(0,r.forwardRef)((({caption:e,className:t,style:n,tooltipContent:r},s)=>{const a=(0,o.Y)("div",{className:t,style:n,ref:s,"data-testid":"aui-cell",children:e});return r?(0,o.Y)(i.Tooltip,{title:(0,o.Y)(l.U,{content:r}),mouseEnterDelay:.3,placement:"right",overlayStyle:{maxWidth:350},children:a}):a}));a.displayName="DefaultTableCell";const u=(0,r.memo)((0,s.R)(a))},49116:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var o=n(74389),r=n(95889),l=n(87216),i=n(99106);const s=e=>{const[t]=(0,l.i)("table.rowNumbers"),{formatMessage:n}=(0,r.useIntl)();return(0,o.Y)(i.u,{propertyName:"areRowNumbersVisible",checkedByDefault:t,label:n({id:"aui.dataVisualization.rowNumbers"}),...e})}},92170:(e,t,n)=>{"use strict";n.d(t,{XI:()=>it,GR:()=>rt,aK:()=>ot});var o=n(74389),r=n(31529),l=n(93345),i=n.n(l),s=n(87216),a=n(729),u=n(7088),d=n(7496),c=n(85400);const m=(0,l.createContext)(void 0),f=m.Provider;function h({isRowFrozen:e,isColumnFrozen:t}){return(0,l.memo)((0,l.forwardRef)(((n,r)=>{const i=(0,l.useContext)(m)||c.Y;return(0,o.Y)(i,{ref:r,...n,isRowFrozen:e,isColumnFrozen:t})})))}const p=h({isRowFrozen:!1,isColumnFrozen:!1});p.displayName="BodyCell";var g=n(56155);function b({x:e,y:t},n){return void 0!==n&&e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}function y(e,t,n){return(e-t)/(n-t)}const w=({left:e,width:t})=>{const{hoverColor:n}=(0,a.DP)(),r=(0,l.useMemo)((()=>`2px solid ${n}`),[n]);return(0,o.Y)("div",{"data-testid":"column-drag-highlight",style:{position:"absolute",top:0,left:e,width:t,height:"100%",border:r,borderBottom:"none"}})};var C=n(40825);const v=({left:e,width:t})=>{const{hoverColor:n}=(0,a.DP)(),{backgroundColor:r,border:i}=(0,l.useMemo)((()=>({backgroundColor:(0,C.j)(n,.07),border:`2px solid ${(0,C.j)(n,.27)}`})),[n]);return(0,o.Y)("div",{"data-testid":"column-drag-preview",style:{position:"absolute",top:0,left:e,width:t,height:"100%",backgroundColor:r,border:i,borderBottom:"none"}})},x=({tableId:e,columnWidth:t,left:n,columnIndex:r,onDrop:l})=>{const[{isOver:i,item:s},u]=(0,g.useDrop)((()=>({accept:rt,collect:e=>({isOver:e.isOver(),item:e.getItem()}),canDrop:t=>t.tableId===e,drop:e=>{l?.(e.columnIndex,r)}})),[r,l,e]),{hoverColor:d}=(0,a.DP)();let c={};return s&&i&&(c=r<s.columnIndex?{borderLeft:`2px solid ${d}`}:{borderRight:`2px solid ${d}`}),(0,o.Y)("div",{ref:u,"data-testid":"column-drop-area",style:{position:"absolute",left:n,width:t,height:"100%",pointerEvents:"auto",...c}})},I=(0,l.createContext)(void 0),R=I.Provider;function S(){const e=(0,l.useContext)(I);if(!e)throw"Missing <TableIdProvider />";return e}const O=({dragBounds:e,scrollLeft:t,defaultColumnWidth:n,columnWidths:i,firstVisibleColumnIndex:s,lastVisibleColumnIndex:a,cumulatedWidthOfColumnsScrolledPast:u,onColumnReorder:d,onScroll:c})=>{const m=S(),{itemType:f,isDragging:h,item:p,mousePosition:C,initialMousePosition:I,initialSourceClientOffset:R}=(0,g.useDragLayer)((e=>({isDragging:e.isDragging(),itemType:e.getItemType(),mousePosition:e.getClientOffset(),initialMousePosition:e.getInitialClientOffset(),initialSourceClientOffset:e.getInitialSourceClientOffset(),item:e.getItem()}))),O=(0,l.useCallback)((({firstVisibleColumnIndex:e,lastVisibleColumnIndex:t,scrollLeft:r,cumulatedWidthOfColumnsScrolledPast:l})=>{if(!p)return[];let s=l;const a=[];for(let l=e;l<=t;l++){const e=i[l]??n;l!==p.columnIndex&&a.push((0,o.Y)(x,{tableId:m,columnWidth:e,left:s-r,columnIndex:l,onDrop:d})),s+=e}return a}),[i,n,p,d,m]),H=(0,l.useRef)(t);if(h||(H.current=t),f!==rt||!h||!p)return null;if(p.tableId!==m)return null;if(!C||!I||!R)return null;const z=e.right-e.left,F=R.x-e.left,M=C.x-I.x,Y=F+H.current-t,D=(0,r.clamp)(F+M,0,z-p.columnWidth),T=b(C,e);if(C.x<e.left+40){const t=1-y(C.x,e.left,e.left+40);c?.("left",(0,r.clamp)(t,0,1))}if(C.x>e.right-40){const t=y(C.x,e.right-40,e.right);c?.("right",(0,r.clamp)(t,0,1))}const N=O({firstVisibleColumnIndex:s,lastVisibleColumnIndex:a,cumulatedWidthOfColumnsScrolledPast:u,scrollLeft:t});return(0,o.FD)(o.FK,{children:[...N,(0,o.Y)(w,{left:Y,width:p.columnWidth}),T&&(0,o.Y)(v,{left:D,width:p.columnWidth})]})};var H=n(5140);const z=h({isRowFrozen:!0,isColumnFrozen:!1});z.displayName="TopCell";const F=(0,l.createContext)([[],()=>!1]),M=(0,l.createContext)([!1,r.noop]),Y=F.Provider,D=M.Provider;function T(){return(0,l.useContext)(F)}function N(){return(0,l.useContext)(M)}const W=(0,l.memo)((0,l.forwardRef)(((e,t)=>{const[n]=T(),[r]=N(),i=S(),{columnIndex:s,width:a}=e,[,u,d]=(0,g.useDrag)((()=>({type:rt,item:{tableId:i,columnIndex:s,columnWidth:a},canDrag:!r})),[s,r,i,a]),c=(0,l.useMemo)((()=>function({selection:e,columnIndex:t}){if(1!==e.length)return!1;const n=e[0];return void 0===n.body&&void 0===n.rowHeader&&void 0===n.staticHeader&&void 0!==n.columnHeader&&n.columnHeader.columns.from===n.columnHeader.columns.to&&n.columnHeader.columns.from===t}({selection:n,columnIndex:s})),[s,n]),m=(0,l.useMemo)((()=>({...c&&{cursor:"grab"},...e.style})),[e.style,c]);d((0,H.getEmptyImage)());const f=(0,l.useCallback)((e=>{t&&("function"==typeof t?t(e):t.current=e),u(e)}),[u,t]);return(0,o.Y)(z,{ref:f,...e,style:m})})));W.displayName="DraggableTopCell";const P=e=>{const t=(0,a.DP)(),[n,r]=(0,l.useState)(!1),[i,s]=(0,l.useState)(e.position),u=(0,l.useRef)(i);return(0,l.useEffect)((()=>{s(e.position)}),[e.position]),(0,l.useEffect)((()=>{u.current=i}),[i]),(0,o.Y)("div",{className:"handle",onMouseDown:t=>{t.stopPropagation(),document.body.style.userSelect="none";const n=t.clientX;r(!0);const o=t=>{s(function(t){const o=t-n;return Math.max(i+o,e.minPosition)}(t.clientX))},l=()=>{document.body.style.userSelect="auto",document.body.removeEventListener("mousemove",o),document.body.removeEventListener("mouseup",l),r(!1),e.onResizeEnded(u.current)};document.body.addEventListener("mousemove",o),document.body.addEventListener("mouseup",l)},onDoubleClick:e.onDoubleClicked,css:{position:"absolute",cursor:"col-resize",height:"100%",width:4,background:n?t.primaryColor:"transparent",top:0,left:i-3,zIndex:1,":hover":{background:t.primaryColor}}})};var E=n(95889),A=n(74860),k=n(70070);const V=k.A.default??k.A,K=A.A.default??A.A,L=i().forwardRef(((e,t)=>(0,o.Y)(V,{...e,ref:t,icon:K})));var $=n(63698);const _=({left:e,onClick:t,numberOfHiddenColumns:n})=>{const r=(0,a.DP)(),{formatMessage:l}=(0,E.useIntl)();return(0,o.Y)("div",{css:{cursor:"pointer",position:"absolute",top:0,left:e-15,height:14,width:26,zIndex:1,":hover":{border:`1px solid ${r.primaryColor}`,borderRadius:5,backgroundColor:r.white},display:"flex",justifyContent:"center",alignItems:"center"},onClick:t,onMouseDown:e=>{e.stopPropagation()},children:(0,o.Y)(d.Tooltip,{title:l({id:"aui.hiddenColumnsTooltip"},{numberOfHiddenColumns:n}),placement:"top",trigger:"hover",children:(0,o.FD)("span",{css:{width:24,height:12,display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,o.Y)(L,{}),(0,o.Y)($.A,{})]})})})};var j=n(40570);function B({columnIndex:e,columnWidths:t,defaultColumnWidth:n,hiddenColumns:o}){return o&&o.has(e)?0:t?.[e]??n}const q=e=>{const t=(0,a.DP)(),{range:n}=e;if(!n)return null;const{left:r,width:i,top:s,height:u}=(({columnWidths:e={},defaultColumnWidth:t,defaultRowHeight:n,hiddenColumns:o,range:r,rowHeights:l,numberOfRowsInGrid:i,numberOfColumnsInGrid:s})=>{const{columns:a,rows:u}=r,d=Math.min(u.to,i-1)+1;let c=0,m=0;for(let n=0;n<Math.min(a.to,s-1)+1;n++){const r=B({columnIndex:n,columnWidths:e,defaultColumnWidth:t,hiddenColumns:o});n<a.from?c+=r:m+=r}let f=0,h=0;if(l)for(let e=0;e<d;e++){const t=l[e]??n;e<u.from?f+=t:h+=t}else f=u.from*n,h=(d-u.from)*n;return{left:c,width:m,top:f,height:h}})({...e,range:n});return(0,o.Y)(l.Fragment,{children:(0,o.Y)("div",{css:j.css`
          background: ${t.selectionOverlayColor};
          position: absolute;
          top: ${s}px;
          left: ${r}px;
          height: ${u}px;
          width: ${i}px;
          pointer-events: none;
        `})})};var U=n(1285);function Q({range:e,builderFunction:t}){const n=(0,l.useRef)({range:e,value:{}}),o=(0,d.useHasChanged)(t),i=!(0,r.isEqual)(n.current.range,e);return o&&(n.current.value={}),i&&function(){for(let t=n.current.range.from;t<=n.current.range.to;t++)(t<e.from||t>e.to)&&delete n.current.value[t]}(),(o||i)&&function(){for(let o=e.from;o<=e.to;o++)n.current.value[o]||(n.current.value[o]=t(o))}(),n.current.range=e,n.current.value}const G={},X=()=>[],Z=()=>{},J=e=>{const{Cell:t,cells:n,cellRefs:i,areColumnsResizable:s,areHiddenColumnGroupCaretsVisible:a,numberOfRows:u,numberOfColumns:c,defaultColumnWidth:m,defaultRowHeight:f,columnWidths:h=G,rowHeights:p,hiddenColumns:g,selection:b,style:y,isTotal:w,onColumnsShown:C,onColumnsWidthChanged:v,onColumnResizeHandleDoubleClicked:x,rowsRef:I,isVirtualized:R,contentWidth:S}=e,O=0===c||0===u,H=!R&&e.wrapText,z=e.getRowStyle??Z,F=e.isVirtualized?e.firstVisibleRowIndex:0,M=e.isVirtualized?e.lastVisibleRowIndex:u-1,Y=e.isVirtualized?e.firstVisibleColumnIndex:0,D=e.isVirtualized?e.lastVisibleColumnIndex:c-1,T=R?e.cumulatedWidthOfColumnsScrolledPast:0,N=(0,l.useCallback)(((e,t)=>{if(i)return void 0===i[e]&&(i[e]=[]),n=>{i[e][t]=n}}),[i]),W=function({range:e,builderFunction:t}){const n=(0,l.useRef)({range:e,value:{}}),o=(0,d.useHasChanged)(t),i=!(0,r.isEqual)(n.current.range,e);return o&&(n.current.value={}),i&&function(){for(let t=n.current.range.rows.from;t<=n.current.range.rows.to;t++)if(t<e.rows.from||t>e.rows.to)delete n.current.value[t];else for(let o=n.current.range.columns.from;o<=n.current.range.columns.to;o++)(o<e.columns.from||o>e.columns.to)&&delete n.current.value[t][o]}(),(o||i)&&function(){for(let o=e.rows.from;o<=e.rows.to;o++)for(let r=e.columns.from;r<=e.columns.to;r++)n.current.value[o]||(n.current.value[o]={}),n.current.value[o][r]||(n.current.value[o][r]=t(o,r))}(),n.current.range=e,n.current.value}({range:{rows:{from:F,to:M},columns:{from:Y,to:D}},builderFunction:N}),E=(0,l.useCallback)(((r,{left:l,rowIndex:i,columnIndex:s,rowProps:a,rowStyle:u,columnProps:d,parentTotalRowIndex:c})=>{const p=n[i][s],g=h[s]??m,b={...p,className:"aui-table-cell",rowIndex:i,columnIndex:s,height:f,isVirtualized:R,left:l,parentTotalRowIndex:c,style:u,top:i*f,width:g,wrapText:H};return r.push((0,o.Y)(t,{ref:W[i][s],...b,...a[s],...d[i],...e.additionalCellProps},`cell-${i}-${s}`)),l+g}),[n,h,m,f,R,H,t,W,e.additionalCellProps]),A=(0,l.useCallback)((e=>({...z(e),userSelect:"none"})),[z]),k=Q({range:{from:F,to:M},builderFunction:A}),V=Q({range:{from:Y,to:D},builderFunction:e.getColumnProps??X}),K=Q({range:{from:F,to:M},builderFunction:e.getRowProps??X}),{cellElements:L,rowElements:$,resizeHintPositions:j,hiddenColumnGroups:B}=(0,l.useMemo)((()=>{const e=[],t=[],n=[],o=[];let r=0;for(let l=F;l<=Math.min(u-1,M);l++){R||t.push([]);let i=T;w?.(l)&&(r=l);for(let a=Y;a<=Math.min(c-1,D);a++){if(g&&g.has(a)){if(0===l){const e=o.at(-1);e?.to===a-1?e.to=a:o.push({from:a,to:a,left:i})}}else i=E(R?e:t[l],{rowIndex:l,columnIndex:a,left:i,rowProps:K[l],columnProps:V[a],parentTotalRowIndex:r,rowStyle:k[l]});s&&0===l&&n.push(i)}}return{rowElements:t,resizeHintPositions:n,cellElements:e,hiddenColumnGroups:o}}),[s,V,T,Y,F,g,w,R,D,M,c,u,E,K,k]);return(0,o.FD)("div",{style:{cursor:"cell",position:"relative",width:S,...!0===R&&{height:e.contentHeight},...!O&&y},children:[R?L:$.map(((e,t)=>(0,o.Y)("div",{css:{display:"flex",flexDirection:"row",...!H&&{height:f}},ref:e=>{I?.(e,t)},children:e},`row-${t}`))),(b||[]).map(((e,t)=>(0,o.Y)(q,{range:e,defaultRowHeight:f,defaultColumnWidth:m,columnWidths:h,hiddenColumns:g,rowHeights:p,numberOfRowsInGrid:u,numberOfColumnsInGrid:c},t))),a&&B.map((({left:e,from:t,to:n},l)=>(0,o.Y)(_,{left:e,numberOfHiddenColumns:n-t+1,onClick:()=>((e,t)=>{C?.((0,r.range)(e,t+1))})(t,n)},l))),s&&j.map(((e,t)=>{const n=0===t?0:j[t-1],r=e-n;return(0,o.Y)(P,{position:e,minPosition:n+U.X,onDoubleClicked:()=>x?.(t),onResizeEnded:n=>{v?.({...h,[t]:n-e+r})}},t)}))]})},ee=h({isRowFrozen:!1,isColumnFrozen:!0});ee.displayName="LeftCell";const te=(0,l.memo)((e=>{const t="small"===e.size?1:4,n=5-e.borderSize-1,r=e.height-(t+3);return(0,o.Y)("div",{style:{display:"flex",alignItems:"center",justifyContent:"end",fontSize:12,boxSizing:"content-box",lineHeight:`${r}px`,width:e.width,position:"absolute",left:e.left,top:e.top,borderRight:`1px solid ${e.borderColor}`,backgroundColor:e.backgroundColor,userSelect:"none"},children:(0,o.Y)("div",{style:{padding:`${t}px ${n}px 3px 0px`,borderRight:`${e.borderSize-1}px solid ${e.borderColor}`},children:e.caption})})}));function ne(e){const{staticHeader:t,columnHeader:n,rowHeader:o,body:r}=e;return[t,n,o,r].every((e=>{if(!e)return!1;const{rows:t,columns:n}=e;return[t,n].every((({from:e,to:t})=>0===e&&t===1/0))}))}function oe(e){return e.some(ne)}function re(e,t){const{rows:n,columns:o}=e;return 0===o.from&&o.to===1/0&&n.from<=t&&n.to>=t}function le(e,{rowIndex:t}){return!!oe(e)||e.some((e=>e.body&&re(e.body,t)))&&e.some((e=>e.rowHeader&&re(e.rowHeader,t)))}te.displayName="RowNumberCell";const ie=({numberOfRows:e,defaultRowHeight:t,contentWidth:n,contentHeight:i,firstVisibleRowIndex:s,lastVisibleRowIndex:u})=>{const d=(0,a.DP)(),[c]=T(),m=oe(c),f=(0,l.useMemo)((()=>(0,r.range)(1,e+1).map((e=>[{caption:`${e}`,value:e}]))),[e]),h=(0,l.useCallback)((e=>{const t=le(c,{rowIndex:e}),n=function(e,{rowIndex:t}){return!!le(e,{rowIndex:t})||e.some((e=>{const n=e.rowHeader;if(void 0!==n&&n.rows.from<=t&&n.rows.to>=t)return!0;const o=e.body;return void 0!==o&&o.rows.from<=t&&o.rows.to>=t}))}(c,{rowIndex:e}),o=n&&!m;return[{borderSize:o?2:1,borderColor:o?d.hoverColor:d.cellBorderColor,backgroundColor:t?d.selectionOverlayColor:n?d.activeMenuItemBackgroundColor:"transparent"}]}),[m,c,d.activeMenuItemBackgroundColor,d.cellBorderColor,d.hoverColor,d.selectionOverlayColor]);return(0,o.Y)(J,{Cell:te,cells:f,isVirtualized:!0,contentWidth:n,numberOfColumns:1,numberOfRows:e,getRowProps:h,defaultColumnWidth:n,defaultRowHeight:t,contentHeight:i,firstVisibleRowIndex:s,lastVisibleRowIndex:u,firstVisibleColumnIndex:0,lastVisibleColumnIndex:0,cumulatedWidthOfColumnsScrolledPast:0})};var se=n(50163);const ae=({style:e,height:t,width:n})=>{const r=(0,a.DP)(),[l]=T(),i=oe(l);return(0,o.Y)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"flex-end",...e},children:(0,o.Y)("div",{style:{width:n,height:t,padding:"3px",display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"flex-end",color:i?r.hoverColor:r.cellBorderColor},children:(0,o.Y)(se.IconCornerArrow,{})})})};let ue=n(71177);ue=ue.default??ue;const{ScrollSync:de,ScrollSyncPane:ce}=ue;function me(e,{rowIndex:t,columnIndex:n}){return(0,l.useCallback)((o=>{void 0===e[t]&&(e[t]=[]),e[t][n]=o}),[t,n,e])}const fe=e=>{const{TopCell:t,TopLeftCell:n,LeftCell:r,BodyCell:i,numberOfFrozenColumns:s,numberOfFrozenRows:a,numberOfScrollableColumns:u,numberOfScrollableRows:d,columnWidths:c,defaultColumnWidth:m,defaultRowHeight:f,getRowProps:h,cellRefs:p}=e,[g]=T(),b=(0,l.useCallback)((e=>h(e+a)),[h,a]),y=(0,l.useCallback)((e=>{const{columnIndex:r,rowIndex:l}=e;if(r<=s-1){const t=me(p.staticHeader,{rowIndex:l,columnIndex:r});return(0,o.Y)(n,{ref:t,...e})}{const n=me(p.columnHeader,{rowIndex:l,columnIndex:r});return(0,o.Y)(t,{ref:n,...e,columnIndex:r-s})}}),[t,n,p.columnHeader,p.staticHeader,s]),w=(0,l.useCallback)((e=>{const{columnIndex:t,rowIndex:n}=e;if(t<=s-1){const l=me(p.rowHeader,{rowIndex:n,columnIndex:t});return(0,o.Y)(r,{ref:l,...e})}{const r=me(p.body,{rowIndex:n,columnIndex:t});return(0,o.Y)(i,{ref:r,...e,columnIndex:t-s})}}),[i,r,p.body,p.rowHeader,s]);return y.displayName="TopCellWhenNotEnoughWidth",w.displayName="BodyCellWhenNotEnoughWidth",(0,o.FD)(o.FK,{children:[(0,o.Y)(ce,{group:"horizontal",children:(0,o.Y)("div",{ref:e.columnHeaderRef,className:"aui-invisible-scrollbars",style:{gridArea:"columnHeader",overflowX:"auto"},children:(0,o.Y)(J,{additionalCellProps:e.additionalCellProps,areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:e.columnHeaderCells,Cell:y,columnWidths:c,contentWidth:e.contentWidth,defaultColumnWidth:m,defaultRowHeight:f,wrapText:e.wrapHeaders,style:e.horizontalSeperator,hiddenColumns:e.hiddenColumns,isVirtualized:!1,getRowProps:h,getColumnProps:e.getColumnProps,numberOfRows:a,numberOfColumns:s+u,onColumnsShown:e.onColumnsShown,selection:g.map((e=>e.columnHeader)),onColumnsWidthChanged:e.onColumnsWidthChanged,onColumnResizeHandleDoubleClicked:e.onColumnResizeHandleDoubleClicked})})}),(0,o.Y)(ce,{group:ot,children:(0,o.Y)("div",{ref:e.bodyRef,className:"aui-invisible-scrollbars",onScroll:e.handleScrolled,style:{gridArea:"body",overflow:"auto"},children:(0,o.Y)(J,{additionalCellProps:e.additionalCellProps,isVirtualized:!0,cumulatedWidthOfColumnsScrolledPast:e.cumulatedWidthOfColumnsScrolledPast,contentWidth:e.contentWidth,contentHeight:e.contentHeight,firstVisibleRowIndex:e.firstVisibleRowIndex,lastVisibleRowIndex:e.lastVisibleRowIndex,firstVisibleColumnIndex:e.firstVisibleColumnIndex,lastVisibleColumnIndex:e.lastVisibleColumnIndex,cells:e.bodyCells,Cell:w,columnWidths:c,defaultColumnWidth:m,defaultRowHeight:f,hiddenColumns:e.hiddenColumns,getRowStyle:e.getRowStyle,getRowProps:b,getColumnProps:e.getColumnProps,numberOfRows:d,numberOfColumns:s+u,selection:g.map((e=>e.body)),onColumnsShown:t=>e.onColumnsShown?.(t.map((e=>s+e))),isTotal:e.isTotal})})})]})};var he=n(90923),pe=n(62795),ge=n(79285),be=n(62002),ye=n(2088),we=n(46246);function Ce({rows:e,columns:t}){return(e.to+1-e.from)*(t.to+1-t.from)}const{Option:ve}=he.Select,xe=new Intl.NumberFormat,Ie=({cells:e,hiddenFrozenColumns:t,hiddenScrollableColumns:i,isSelectionLoaded:s})=>{const{formatMessage:a}=(0,E.useIntl)(),[u]=T(),c=s??!0,m=(f=u,(0,r.sumBy)((0,r.flatMap)(f.map((({body:e,columnHeader:t,rowHeader:n,staticHeader:o})=>[e,t,n,o].filter((e=>void 0!==e))))),Ce)>1e5);var f;const{result:h,loading:p}=(0,pe.useAsyncAbortable)((async o=>{if(c&&!o.aborted)return m?new Promise(((r,l)=>{const s=new Worker(new URL(n.p+n.u(3880),n.b));o.addEventListener("abort",(()=>{s.terminate(),l()})),s.onmessage=({data:e})=>{s.terminate(),r(e)},s.postMessage({cells:e,selection:u,hiddenFrozenColumns:t,hiddenScrollableColumns:i})})):function({selection:e,cells:{bodyCells:t,staticHeaderCells:n,columnHeaderCells:o,rowHeaderCells:r},hiddenFrozenColumns:l,hiddenScrollableColumns:i}){const s={},a=new Set;return e.forEach((e=>{[[e.body,t,i],[e.columnHeader,o,i],[e.staticHeader,n,l],[e.rowHeader,r,l]].forEach((([e,t,n])=>{const{numberOfRows:o,numberOfColumns:r}=void 0!==t&&t.length>0?(0,we.Q)(t):{numberOfRows:0,numberOfColumns:0};if(e&&t)for(let l=e.rows.from;l<=Math.min(e.rows.to,o-1);l++)for(let o=e.columns.from;o<=Math.min(e.columns.to,r-1);o++){const e=`${l}:${o}`;if(!a.has(e)&&!n.has(o)){a.add(e);const n=t[l]?.[o];if(n){const e=Number(n.value);isNaN(e)||(s.sum=(s.sum??0)+e,s.min=Math.min(s.min??e,e),s.max=Math.max(s.max??e,e),s.countNumbers=(s.countNumbers??0)+1),s.count=(s.count??0)+1}}}}))})),{...s,...s.sum&&s.countNumbers?{avg:s.sum/s.countNumbers}:{}}}({cells:e,selection:u,hiddenFrozenColumns:t,hiddenScrollableColumns:i})}),[m,e,u,t,i,c],{setLoading:e=>({...e,loading:!0})}),[g,b]=(0,l.useState)("sum"),y=(0,l.useMemo)((()=>h?(0,ye.u)(h):[]),[h]);return h&&0!==y.length||!c?(0,o.Y)(he.Select,{bordered:!1,value:g,onChange:e=>b(e),popupMatchSelectWidth:175,loading:m&&p,suffixIcon:c&&(0,o.Y)(ge.A,{style:{pointerEvents:"none"}}),children:["sum","min","max","avg","count","countNumbers"].map((e=>{const t=a({id:"aui.dataVisualization.statistics.lazyLoadingWarning"}),n=a({id:`aui.dataVisualization.statistics.${e}`});return(0,o.Y)(ve,{value:e,children:(0,o.Y)("div",{css:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:c?(0,o.FD)("div",{css:{display:"flex",alignItems:"center",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:[(0,o.FD)("span",{children:[n,"Â "]}),(0,o.Y)("span",{children:h?.[e]?xe.format(h[e]):""})]}):(0,o.Y)(d.Tooltip,{title:t,children:(0,o.FD)("div",{css:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,o.Y)(be.A,{style:{color:"#FAAD14",fontSize:"12px",marginRight:"4px",position:"relative",top:"1px"}}),(0,o.Y)("div",{css:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:n})]})})})},e)}))}):null},Re=h({isRowFrozen:!0,isColumnFrozen:!0});function Se({columnWidths:e={},containerWidth:t,defaultColumnWidth:n,hiddenColumns:o,numberOfColumns:r,scrollLeft:l}){function i(t){return B({columnIndex:t,columnWidths:e,defaultColumnWidth:n,hiddenColumns:o})}const[s,a,u]=function(){if(0===l||0===r)return[0,i(0),0];let e=0;for(let t=0;t<r;t++){const n=e+i(t);if(n>l)return[t,n-l,e];e=n}return[r-1,0,e]}();return{firstVisibleColumnIndex:s,lastVisibleColumnIndex:function(e,n){if(e===r-1||n>t)return e;let o=n;for(let n=e+1;n<r;n++)if(o+=i(n),o>t)return n;return r-1}(s,a),cumulatedWidthOfColumnsScrolledPast:u}}function Oe({containerHeight:e,defaultRowHeight:t,numberOfRows:n,scrollTop:o,shouldReturnExtraRows:r}){const l=Math.floor(o/t),i=l+Math.ceil(e/t),s=r?Math.ceil(250/t):0;return{firstVisibleRowIndex:Math.max(l-s,0),lastVisibleRowIndex:Math.min(i+s,n-1)}}Re.displayName="TopLeftCell";const He=e=>{const t=document.createElement("div");t.innerHTML=e,t.style.fontSize="12px",t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto",t.style.whiteSpace="nowrap",document.body.appendChild(t);const n=t.clientWidth+1;return document.body.removeChild(t),n},ze=["margin-left","margin-right","padding-left","padding-right"],Fe=e=>{let t=0;if("style"in e&&"none"===e.style.display)return 0;if(ze.forEach((n=>{t+=parseFloat(window.getComputedStyle(e).getPropertyValue(n))})),"svg"===e.tagName)t+=e.getBoundingClientRect().width;else for(let n=0;n<e.children.length;n++)t+=Fe(e.children[n]);return t},Me=e=>"style"in e&&"none"===e.style.display;var Ye=n(90147);var De=n(66789);function Te({from:e,to:t,anchor:n}){const o=n??{gridKey:"rowHeader",rowIndex:e,columnIndex:0},r=Math.min(e,t),l=Math.max(e,t);return{anchor:o,body:{columns:{from:0,to:1/0},rows:{from:r,to:l}},rowHeader:{columns:{from:0,to:1/0},rows:{from:r,to:l}}}}function Ne(){return[{...Te({from:0,to:1/0}),staticHeader:{columns:{from:0,to:1/0},rows:{from:0,to:1/0}},columnHeader:{columns:{from:0,to:1/0},rows:{from:0,to:1/0}},anchor:{columnIndex:0,rowIndex:0,gridKey:"body"}}]}function We(e){const{rowHeader:t,body:n}=e;return!(!t||!n)&&[t,n].every((e=>0===e.columns.from&&e.columns.to===1/0))&&(0,r.isEqual)(t.rows,n.rows)}const Pe=["staticHeader","columnHeader","rowHeader","body"];function Ee({rowIndex:e,columnIndex:t},{numberOfFrozenColumns:n,numberOfFrozenRows:o}){return e<o&&t<n?{gridKey:"staticHeader",rowIndex:e,columnIndex:t}:e<o?{gridKey:"columnHeader",rowIndex:e,columnIndex:t-n}:t<n?{gridKey:"rowHeader",rowIndex:e-o,columnIndex:t}:{gridKey:"body",rowIndex:e-o,columnIndex:t-n}}function Ae({gridKey:e,columnIndex:t,rowIndex:n},{numberOfFrozenColumns:o,numberOfFrozenRows:r}){return{columnIndex:t+(["body","columnHeader"].includes(e)?o:0),rowIndex:n+(["body","rowHeader"].includes(e)?r:0)}}function ke({anchor:e,to:t},{numberOfFrozenColumns:n,numberOfFrozenRows:o,numberOfScrollableColumns:l,numberOfScrollableRows:i}){const s=Math.min(e.rowIndex,t.rowIndex),a=Math.max(e.rowIndex,t.rowIndex),u=Math.min(e.columnIndex,t.columnIndex),d=Math.max(e.columnIndex,t.columnIndex),c={staticHeader:{rows:{from:0,to:o-1},columns:{from:0,to:n-1}},columnHeader:{rows:{from:0,to:o-1},columns:{from:n,to:l-1}},rowHeader:{rows:{from:o,to:i-1},columns:{from:0,to:n-1}},body:{rows:{from:o,to:i-1},columns:{from:n,to:l-1}}},m={anchor:Ee(e,{numberOfFrozenColumns:n,numberOfFrozenRows:o})};return Pe.forEach((e=>{const t=c[e];if(a<t.rows.from||s>t.rows.from+t.rows.to||d<t.columns.from||u>t.columns.from+t.columns.to)return;(0,r.clamp)(u-t.columns.from,0,t.columns.to);const n={columns:{from:(0,r.clamp)(u-t.columns.from,0,t.columns.to),to:(0,r.clamp)(d-t.columns.from,0,t.columns.to)},rows:{from:(0,r.clamp)(s-t.rows.from,0,t.rows.to),to:(0,r.clamp)(a-t.rows.from,0,t.rows.to)}};m[e]=n})),m}function Ve(e,{lastRange:t}){return e.length<=1?[t]:[...e.slice(0,-1),t]}function Ke(e,{key:t,shiftKey:n,ctrlKey:o,metaKey:l,numberOfScrollableColumns:i,numberOfScrollableRows:s,numberOfFrozenColumns:a,numberOfFrozenRows:u,numberOfVisibleRows:d}){const c={numberOfScrollableColumns:i,numberOfFrozenColumns:a,numberOfFrozenRows:u,numberOfScrollableRows:s},m={ArrowLeft:{columnOffset:-1},ArrowRight:{columnOffset:1},ArrowUp:{rowOffset:-1},ArrowDown:{rowOffset:1},PageUp:{rowOffset:-d},PageDown:{rowOffset:d},Home:{rowOffset:-1/0},End:{rowOffset:1/0}},f=e.at(-1);if(f&&We(f))switch(t){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":case"Home":case"End":{const o=n,{range:l,targetCellPosition:i}=function(e,{isExtending:t=!1,rowOffset:n=0,numberOfScrollableRows:o,numberOfFrozenRows:l,numberOfFrozenColumns:i}){const{anchor:s,body:a}=e;if(!We(e)||void 0===a)return{range:e};if(!t){const e=(0,r.clamp)(s.rowIndex+n,0,o-1);return{range:Te({from:e,to:e}),targetCellPosition:{columnIndex:i,rowIndex:e+l}}}const u=s.rowIndex===a.rows.from?"to":"from",d=(0,r.clamp)(a.rows[u]+n,0,o-1);return{range:Te({anchor:s,...a.rows,[u]:d}),targetCellPosition:{rowIndex:d+l,columnIndex:i}}}(f,{...m[t],isExtending:o,...c});return{selection:o?Ve(e,{lastRange:l}):[l],targetCellPosition:i}}}switch(t){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":case"Home":case"End":return function(e,{isExtending:t=!1,rowOffset:n=0,columnOffset:o=0,numberOfScrollableColumns:l,numberOfScrollableRows:i,numberOfFrozenColumns:s,numberOfFrozenRows:a}){const u=function(e,t){if(!e)return{anchor:{columnIndex:0,rowIndex:0},to:{columnIndex:0,rowIndex:0}};const{anchor:n}=e,o=Ae(n,t),l=[];return Pe.forEach((n=>{const o=e[n];o&&["from","to"].forEach((e=>{["from","to"].forEach((r=>{const i=Ae({gridKey:n,rowIndex:o.rows[e],columnIndex:o.columns[r]},t);l.push(i)}))}))})),{anchor:o,to:(0,r.maxBy)(l,(e=>{return t=e,n=o,Math.abs(n.columnIndex-t.columnIndex)+Math.abs(n.rowIndex-t.rowIndex);var t,n}))}}(e.at(-1),{numberOfFrozenColumns:s,numberOfFrozenRows:a}),d=a+i,c=s+l,{rowIndex:m,columnIndex:f}=t?u.to:u.anchor,h={rowIndex:(0,r.clamp)(m+n,0,d-1),columnIndex:(0,r.clamp)(f+o,0,c-1)},p=t?{anchor:u.anchor,to:h}:{anchor:h,to:h};return{selection:[ke(p,{numberOfFrozenColumns:s,numberOfFrozenRows:a,numberOfScrollableColumns:l,numberOfScrollableRows:i})],targetCellPosition:p.to}}(e,{...m[t],isExtending:n,...c});case"a":if(De.P?l:o)return{selection:Ne()}}return{selection:e}}function Le({gridKey:e,rowIndex:t,columnIndex:n}){return{anchor:{gridKey:e,rowIndex:t,columnIndex:n},[e]:{rows:{from:t,to:t},columns:{from:n,to:n}}}}const $e={staticHeader:{horizontal:"left",vertical:"top"},rowHeader:{horizontal:"left",vertical:"bottom"},columnHeader:{horizontal:"right",vertical:"top"},body:{horizontal:"right",vertical:"bottom"}},_e=e=>$e?.[e],je=(e,t)=>{const n=_e(e),o=_e(t.gridKey),r={rowIndex:t.rowIndex,columnIndex:t.columnIndex};return o.horizontal!==n.horizontal&&(r.columnIndex="left"===n.horizontal?1/0:-1/0),o.vertical!==n.vertical&&(r.rowIndex="top"===n.vertical?1/0:-1/0),r};function Be({anchorFrom:e,anchorTo:t,grids:n,defaultColumnWidth:o,defaultRowHeight:r,frozenColumnWidths:l,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfFrozenColumns:u,numberOfFrozenRows:d,numberOfScrollableRows:c,numberOfScrollableColumns:m}){const f=Pe.map((f=>{const h=n[f].current;if(!h)return;const p=["staticHeader","rowHeader"].includes(f),g=["staticHeader","columnHeader"].includes(f),b=(({anchorFrom:e,anchorTo:t,columnWidths:n,defaultColumnWidth:o,defaultRowHeight:r,hiddenColumns:l,grid:i,gridKey:s,numberOfColumns:a,numberOfRows:u})=>{const d=je(s,e),c=je(s,t),m={rows:{from:Math.min(d.rowIndex,c.rowIndex),to:Math.max(d.rowIndex,c.rowIndex)},columns:{from:Math.min(d.columnIndex,c.columnIndex),to:Math.max(d.columnIndex,c.columnIndex)}},{height:f,width:h}=i.getBoundingClientRect(),{firstVisibleRowIndex:p,lastVisibleRowIndex:g}=Oe({containerHeight:f,defaultRowHeight:r,numberOfRows:u,scrollTop:i.scrollTop,shouldReturnExtraRows:!1}),{firstVisibleColumnIndex:b,lastVisibleColumnIndex:y}=Se({columnWidths:n,containerWidth:h,defaultColumnWidth:o,hiddenColumns:l,numberOfColumns:a,scrollLeft:i.scrollLeft}),w={rows:{from:p,to:g},columns:{from:b,to:y}},C=["rows","columns"];for(let e=0;e<C.length;e++){const t=C[e],n=m[t],{from:o,to:r}=n;if(!isFinite(o)&&!isFinite(r))return;isFinite(o)?isFinite(r)||(n.to=w[t].to):n.from=w[t].from}return m})({anchorFrom:e,anchorTo:t,gridKey:f,grid:h,defaultColumnWidth:o,defaultRowHeight:r,columnWidths:p?l:i,hiddenColumns:p?s:a,numberOfColumns:p?u:m,numberOfRows:g?d:c});return void 0!==b?[f,b]:void 0})).filter((e=>void 0!==e));return{anchor:e,...Object.fromEntries(f)}}function qe(e,{gridKey:t,rowIndex:n,columnIndex:o}){return!!le(e,{rowIndex:n})||e.some((e=>void 0!==e[t]&&e[t].columns.from<=o&&e[t].columns.to>=o&&e[t].rows.from<=n&&e[t].rows.to>=n))}function Ue({gridKey:e,rowIndex:t,columnIndex:n}){return"selectAllCell"===e?{gridKey:"staticHeader",rowIndex:0,columnIndex:0}:"rowNumbers"===e?{gridKey:"rowHeader",rowIndex:t,columnIndex:0}:{gridKey:e,columnIndex:n,rowIndex:t}}function Qe(e,t){return e.columnIndex<t?{...e,gridKey:"body"===e.gridKey?"rowHeader":"staticHeader"}:{...e,columnIndex:e.columnIndex-t}}function Ge(e,t){return{rows:e.rows,columns:{from:e.columns.from-t,to:e.columns.to-t}}}function Xe(e,t){return e?e.columns.to<t?[e,void 0]:e.columns.from>=t?[void 0,Ge(e,t)]:function(e,t){return[{rows:e.rows,columns:{from:e.columns.from,to:t-1}},{rows:e.rows,columns:{from:0,to:e.columns.to-t}}]}(e,t):[void 0,void 0]}function Ze(e,t){return!e||e.from>=t.from&&e.to<=t.to}const Je=()=>{},et={},tt=new Set,nt=()=>!1,ot=["horizontal","vertical"],rt="TABLE_COLUMN",lt=e=>{const[t]=(0,s.i)("table.defaultSize"),n=(0,a.DP)(),{columnWidth:i,rowHeight:u}=U.L[e.size??t],c=e.shouldRenderExtraRows??!1,m=e.wrapHeaders??!1,f=e.hiddenColumns??tt,h=Boolean(e.areFrozenColumnsIgnored),g=Boolean(e.areRowNumbersVisible),y=Boolean(e.canReorderColumns),w=e.columnWidths??et,C=e.isTotal??nt,v=e.onColumnsResized??Je,x=e.onKeyDown??Je,I=e.onKeyUp??Je,R=e.onScrolled??Je,S=e.onVisibleRangeChanged??Je,H=e.onFrozenColumnsIgnored??Je,F=e.onColumnsReordered??Je,M=e.onColumnsShown??Je,[Y,D]=(0,l.useState)(0),[P,E]=(0,l.useState)(0),[A,k]=T(),V=(0,l.useRef)(),K=(0,l.useRef)(null),L=e.containerRef??K,$=(0,l.useRef)(null),_=(0,l.useRef)(null),j=(0,l.useRef)(null),q=(0,l.useRef)(null),Q=(0,l.useRef)(null),G=(0,l.useRef)(null),{width:X,height:Z}=(0,d.useDebouncedComponentSize)(q),{numberOfRows:te,numberOfColumns:re}=(0,we.Q)(e.cells),se=e.numberOfFrozenColumns??0,ue=e.numberOfFrozenRows??0,me=re-se,he=te-ue,pe=(0,l.useRef)({body:[],columnHeader:[],rowHeader:[],staticHeader:[]}),ge=(0,l.useMemo)((()=>({borderRight:`1px solid ${n.cellBorderColor}`})),[n.cellBorderColor]),be=(0,l.useMemo)((()=>{const e={borderBottom:`2px solid ${n.cellBorderColor}`},t={borderRight:`2px solid ${n.cellBorderColor}`};return{horizontal:e,vertical:t,horizontalAndVertical:{...e,...t}}}),[n.cellBorderColor]),Ce=(0,l.useMemo)((()=>({staticHeader:$,rowHeader:_,columnHeader:j,body:q,rowNumbers:Q,selectAllCell:G})),[$,_,j,q,Q,G]),[ve,xe]=(0,l.useMemo)((()=>{const e=new Set,t=new Set;return f.forEach((n=>{n<se?e.add(n):t.add(n-se)})),[e,t]}),[se,f]),{rowNumbersColumnWidth:ze,frozenColumnWidths:De,frozenColumnsTotalWidth:Pe,scrollableColumnsTotalWidth:Ee,scrollableColumnWidths:Ae,scrollableRowsTotalHeight:ke}=function({numberOfFrozenColumns:e,numberOfScrollableRows:t,numberOfScrollableColumns:n,columnWidths:o,defaultRowHeight:r,defaultColumnWidth:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a}){const{frozenColumnWidths:u,scrollableColumnWidths:d}=(0,l.useMemo)((()=>{const t={},n={};for(const r in o){const l=Number.parseInt(r,10),i=o[l];l<e?t[r]=i:n[l-e]=i}return{frozenColumnWidths:t,scrollableColumnWidths:n}}),[o,e]),c=(0,l.useMemo)((()=>{let t=0;for(let n=0;n<e;n++)t+=B({columnIndex:n,columnWidths:u,defaultColumnWidth:i,hiddenColumns:s});return t}),[i,u,s,e]),m=(0,l.useMemo)((()=>{let e=0;for(let t=0;t<n;t++)e+=B({columnIndex:t,columnWidths:d,defaultColumnWidth:i,hiddenColumns:a});return e}),[i,a,n,d]),f=(0,l.useMemo)((()=>Math.max(He(t.toString())+10,19)),[t]),h=(0,l.useMemo)((()=>t*r),[r,t]);return{rowNumbersColumnWidth:f,frozenColumnWidths:u,scrollableColumnWidths:d,scrollableRowsTotalHeight:h,frozenColumnsTotalWidth:c,scrollableColumnsTotalWidth:m}}({numberOfFrozenColumns:se,numberOfScrollableRows:he,numberOfScrollableColumns:me,columnWidths:w,defaultRowHeight:u,defaultColumnWidth:i,hiddenFrozenColumns:ve,hiddenScrollableColumns:xe}),$e=(0,l.useMemo)((()=>{const e=j.current?.getBoundingClientRect(),t=e?.left??0,n=e?.top??0;return{left:t,right:Math.min(t+X,t+Ee),top:e?.top??0,bottom:n+Z}}),[Ee,X,Z]),_e=h?Pe+Ee:Ee;(0,l.useEffect)((()=>{if(0===X&&0===Z)return;const e=h?X:Pe+X;if(0===e)return;const t=Pe/e>.9;t!==h&&H(t)}),[H,h,X,Pe,Z]);const{staticHeader:je,rowHeader:Ge,columnHeader:rt,body:lt}=(0,l.useMemo)((()=>function(e,{numberOfFrozenRows:t,numberOfFrozenColumns:n,areFrozenColumnsIgnored:o}){const r=o?0:n,l={body:[],columnHeader:[],rowHeader:[],staticHeader:[]};return e.forEach(((e,n)=>{e.forEach(((e,o)=>{const i=function({rowIndex:e,columnIndex:t,numberOfFrozenRows:n,effectiveNumberOfFrozenColumns:o}){const r=e<n,l=t<o;return r&&l?"staticHeader":l?"rowHeader":r?"columnHeader":"body"}({rowIndex:n,columnIndex:o,numberOfFrozenRows:t,effectiveNumberOfFrozenColumns:r}),s=l[i];s.length===(n<t?n:n-t)&&s.push([]),s.at(-1).push(e)}))})),l}(e.cells,{areFrozenColumnsIgnored:h,numberOfFrozenRows:ue,numberOfFrozenColumns:se})),[e.cells,h,ue,se]),[it,st,at]=function(){const e=(0,l.useRef)([]),t=(0,l.useRef)([]),n=(0,l.useRef)([]),o=(0,l.useRef)([]),r=(0,l.useCallback)((()=>{const[r,l]=[e.current,t.current].map((e=>e.filter((e=>null!==e))));function i(){for(let e=0;e<r.length;e++){const[t,n]=[r,l].map((t=>t[e])),[o,i]=[t,n].map((e=>e.clientHeight));o!==i&&(t.style.minHeight&&t.style.minHeight===`${o}px`||n.style.minHeight&&n.style.minHeight===`${i}px`)?(t.style.minHeight="",n.style.minHeight=""):o<i?t.style.minHeight=`${i}px`:i<o&&(n.style.minHeight=`${o}px`)}}const s=n.current,a=o.current;if(r.length===l.length&&r.length===s.length&&l.length===a.length||([...s,...a].forEach((e=>{e.disconnect()})),s.splice(0,s.length),a.splice(0,a.length)),0===s.length&&0===a.length&&r.length>0&&r.length===l.length)for(let e=0;e<r.length;e++){const t=new ResizeObserver(i);t.observe(r[e]),s.push(t);const n=new ResizeObserver(i);n.observe(l[e]),a.push(n)}}),[]);return[e,t,r]}(),[ut,dt,ct,mt]=function({container:e,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:o,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,grids:u,numberOfScrollableColumns:d,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f,numberOfVisibleRows:h,columnHeaderRows:p,rowNumbersColumnWidth:g,canReorderColumns:y}){const[w,C]=T(),[,v]=N(),x=(0,l.useRef)(w);(0,l.useEffect)((()=>{x.current=w}),[w]);const I=(0,l.useCallback)(((l,c)=>{if(!e.current||!u.body.current)return null;const m=[u.selectAllCell,u.staticHeader,u.columnHeader],h=[u.columnHeader,u.body],y=(0,r.mapValues)(u,(e=>{const t=e.current;if(null===t)return;const n=m.includes(e),o=h.includes(e),r=t.getBoundingClientRect();return{left:r.left,right:o?1/0:r.right,top:n?0:r.top,bottom:n?r.bottom:1/0}})),w=y.selectAllCell??y.staticHeader??y.columnHeader,C=y.rowNumbers??y.rowHeader??y.body;w&&C&&(w.left=0,C.left=0);const v={selectAllCell:b({x:l,y:c},y.selectAllCell),rowNumbers:b({x:l,y:c},y.rowNumbers),staticHeader:b({x:l,y:c},y.staticHeader),rowHeader:b({x:l,y:c},y.rowHeader),columnHeader:b({x:l,y:c},y.columnHeader),body:b({x:l,y:c},y.body)},x=(0,ye.u)(u).find((e=>!0===v[e]));if(void 0===x||!u[x]||!u[x].current)return null;const I=["staticHeader","rowHeader"].includes(x),R=["staticHeader","columnHeader"].includes(x),S=["rowNumbers","selectAllCell"].includes(x),{rowIndex:O,columnIndex:H}=(({gridElement:e,defaultRowHeight:t,defaultColumnWidth:n,columnWidths:o,hiddenColumns:r,rowHeights:l,x:i,y:s})=>{const a=e.getBoundingClientRect(),u=e.scrollTop+Math.max(0,Math.min(a.height,s-a.top));let d=0;if(l){let e=0;for(;d<l.length&&(e+=l[d]??t,e<u);)d+=1}else d=Math.floor(u/t);const c=function({distanceFromLeft:e,hiddenColumns:t,columnWidths:n,defaultColumnWidth:o}){let r=-1,l=0;for(;l<=e;)r++,l+=B({columnIndex:r,columnWidths:n,defaultColumnWidth:o,hiddenColumns:t});return r}({distanceFromLeft:e.scrollLeft+Math.max(0,Math.min(a.width,i-a.left)),columnWidths:o,defaultColumnWidth:n,hiddenColumns:r});return{rowIndex:d,columnIndex:c}})({gridElement:u[x].current,defaultColumnWidth:S?g:t,columnWidths:S?{}:I?o:i,hiddenColumns:S?void 0:I?s:a,defaultRowHeight:n,rowHeights:R?p.map((e=>e?.clientHeight)):void 0,x:l,y:c}),z=["rowNumbers","rowHeader","body"].includes(x)&&f-1<O,F=["columnHeader","body"].includes(x)&&d-1<H;return{gridKey:x,rowIndex:z?f-1:O,columnIndex:F?d-1:H,isOutOfBounds:z||F}}),[p,e,t,n,o,u,s,a,g,i,f,d]);return[(0,l.useCallback)((l=>{if(e.current?.focus(),0!==l.button||!((e,t)=>{const n=t.selectAllCell.current||t.staticHeader.current||t.columnHeader.current||t.body.current,o=t.body.current;if(!o||!n)return!1;const{top:r,left:l}=n.getBoundingClientRect(),{bottom:i,right:s}=o.getBoundingClientRect();return e.clientX>=l&&e.clientX<=s&&e.clientY>=r&&e.clientY<=i})(l,u))return;const h=x.current;let p=l.clientX,g=l.clientY;const b=I(p,g);let w=b,R=!1,S=!1,O=performance.now();const H=e=>{p=e.clientX,g=e.clientY};if(b){const{gridKey:z,rowIndex:F,columnIndex:M,isOutOfBounds:Y}=b,D=x.current.at(-1);if(Y)return;if(v(!0),"selectAllCell"===z)C(Ne()),v(!1);else if(!l.shiftKey||l.ctrlKey||l.metaKey||!D||ne(D)){let e;if("rowNumbers"===z?e=Te({from:F,to:F}):(e=Le({gridKey:z,rowIndex:F,columnIndex:M}),"columnHeader"===z&&(S=!0)),(l.ctrlKey||l.metaKey)&&D)C([...x.current,e]);else{const t=C([e]);R=y&&!t&&S}}else C(Ve(x.current,"rowNumbers"===z?{lastRange:Te({from:D.anchor.rowIndex,to:F,anchor:D.anchor})}:{lastRange:Be({anchorFrom:D.anchor,anchorTo:{gridKey:z,rowIndex:F,columnIndex:M},grids:u,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:o,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfScrollableColumns:d,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f})}));if(R)return void v(!1);const T=()=>{const l=performance.now(),h=(l-O)/1e3;O=l,e.current?.focus(),((e,t,{x:n,y:o,deltaTime:r})=>{const l=e.getBoundingClientRect(),i=1e3*r;n<l.left?t.scrollLeft-=i:n>l.right&&(t.scrollLeft+=i),o<l.top?t.scrollTop-=i:o>l.bottom&&(t.scrollTop+=i)})(e.current,u.body.current,{x:p,y:g,deltaTime:h});const b=I(p,g);if(b&&!(0,r.isEqual)(b,w)){w=b;const{rowIndex:e,gridKey:r}=b,l=x.current.at(-1);if(l&&!ne(l))if(We(l)){const t=["rowNumbers","rowHeader","body"].includes(r)?e:0;C(Ve(x.current,{lastRange:Te({from:l.anchor.rowIndex,to:t})}))}else{const e=Ue(b);C(Ve(x.current,{lastRange:Be({anchorFrom:l.anchor,anchorTo:e,grids:u,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:o,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfScrollableColumns:d,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f})}))}}},N=setInterval(T,1e3/60),W=()=>!(!l.ctrlKey&&!l.metaKey)&&("selectAllCell"===z&&oe(h)||"rowNumbers"===z&&le(h,{rowIndex:F})||"selectAllCell"!==z&&"rowNumbers"!==z&&qe(h,{gridKey:z,columnIndex:M,rowIndex:F})),P=()=>{if("selectAllCell"===z)return void C([]);const e=I(p,g);if(!e)return;let l;if("rowNumbers"===z)l=Te({from:F,to:e.rowIndex});else{const r=Ue(e);l=Be({anchorFrom:{rowIndex:F,columnIndex:M,gridKey:z},anchorTo:r,grids:u,defaultColumnWidth:t,defaultRowHeight:n,frozenColumnWidths:o,scrollableColumnWidths:i,hiddenFrozenColumns:s,hiddenScrollableColumns:a,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f,numberOfScrollableColumns:d})}C(function(e,t){return e.flatMap((e=>{const{anchor:n,...o}=e,l=(0,r.mapValues)(o,((e,n)=>e&&t[n]?function(e,t){return t.rows.to<e.rows.from||t.columns.to<e.columns.from||e.rows.to<t.rows.from||e.columns.to<t.columns.from?[e]:[(0,Ye.produce)(e,(e=>{e.rows.to=t.rows.from-1})),(0,Ye.produce)(t,(n=>{n.columns={from:e.columns.from,to:t.columns.from-1}})),(0,Ye.produce)(t,(n=>{n.columns={from:t.columns.to+1,to:e.columns.to}})),(0,Ye.produce)(e,(e=>{e.rows.from=t.rows.to+1}))].map((t=>({rows:{from:Math.max(t.rows.from,e.rows.from),to:Math.min(t.rows.to,e.rows.to)},columns:{from:Math.max(t.columns.from,e.columns.from),to:Math.min(t.columns.to,e.columns.to)}}))).filter((e=>e.columns.from<=e.columns.to&&e.rows.from<=e.rows.to&&e.columns.from!==1/0&&e.rows.from!==1/0))}(e,t[n]):[e]));if((0,r.every)(l,(e=>1===e?.length))){const{staticHeader:e,columnHeader:t,rowHeader:o,body:r}=l;return e||t||o||r?[{staticHeader:e?.[0],columnHeader:t?.[0],rowHeader:o?.[0],body:r?.[0],anchor:n}]:[]}const i=(0,r.flatMap)(l,((e,t)=>e?e.map((e=>({[t]:e,anchor:n}))):[]));return i}))}(h,l))},E=()=>{W()&&P(),v(!1),document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",E),clearInterval(N)};document.addEventListener("mousemove",H),document.addEventListener("mouseup",E)}}),[e,u,I,v,f,d,C,t,n,o,i,s,a,c,m,y]),(0,l.useCallback)((e=>{const t=e.pageX,n=e.pageY,o=I(t,n);if(!o||o.isOutOfBounds)return w;const{columnIndex:r,gridKey:l,rowIndex:i}=o;if("selectAllCell"===l){if(!oe(x.current)){const e=Ne();return C(e),e}return w}if("rowNumbers"===l){if(!le(x.current,{rowIndex:i})){const e=[Te({from:i,to:i})];return C(e),e}return w}if(!qe(w,{gridKey:l,columnIndex:r,rowIndex:i})){const e=[Le({gridKey:l,rowIndex:i,columnIndex:r})];return C(e),e}return w}),[I,w,C]),(r,l)=>{const{selection:p,targetCellPosition:g}=Ke(w,{...r,numberOfScrollableColumns:d,numberOfFrozenColumns:c,numberOfFrozenRows:m,numberOfScrollableRows:f,numberOfVisibleRows:h});if(p!==w){C(p),l(p),r.preventDefault();const d=u.body.current;if(!g||!d||!e.current)return;const m=e.current.scrollHeight,f=e.current.scrollWidth,{rowIndex:h,columnIndex:b}=g,y=Math.max(0,n*(h-2)),w=y+3*n;y<d.scrollTop?d.scrollTop=y:w>d.scrollTop+m&&(d.scrollTop=w-m);let v=0;for(let e=0;e<b;e++)v+=B({columnIndex:e,columnWidths:e<c?o:i,defaultColumnWidth:t,hiddenColumns:e<c?s:a});v<d.scrollLeft?d.scrollLeft=v:v>d.scrollLeft+f&&(d.scrollLeft=v-f)}},(e,t)=>{"Escape"===e.key&&(C([]),t([]))}]}({container:L,rowNumbersColumnWidth:ze,defaultColumnWidth:i,defaultRowHeight:u,grids:Ce,hiddenFrozenColumns:ve,hiddenScrollableColumns:xe,numberOfFrozenRows:ue,numberOfScrollableRows:he,numberOfVisibleRows:L.current?Math.floor(L.current.scrollHeight/u-ue):0,...h?{frozenColumnWidths:{},numberOfScrollableColumns:se+me,numberOfFrozenColumns:0,scrollableColumnWidths:w}:{frozenColumnWidths:De,numberOfScrollableColumns:me,numberOfFrozenColumns:se,scrollableColumnWidths:Ae},columnHeaderRows:st.current,canReorderColumns:y}),ft=(0,l.useRef)(A);(0,l.useEffect)((()=>{ft.current=A}),[A]);const{firstVisibleRowIndex:ht,lastVisibleRowIndex:pt}=(0,l.useMemo)((()=>Oe({containerHeight:Z,numberOfRows:he,defaultRowHeight:u,scrollTop:Y,shouldReturnExtraRows:c})),[Z,u,he,Y,c]),{firstVisibleColumnIndex:gt,lastVisibleColumnIndex:bt,cumulatedWidthOfColumnsScrolledPast:yt}=(0,l.useMemo)((()=>Se({columnWidths:h?w:Ae,containerWidth:X,defaultColumnWidth:i,hiddenColumns:h?f:xe,numberOfColumns:h?se+me:me,scrollLeft:P})),[h,X,w,i,f,xe,se,me,P,Ae]);(0,l.useEffect)((()=>{if(0===ht&&0===pt&&0===gt&&0===bt)return;const e={rows:{from:ht,to:pt},columns:{from:gt,to:bt}};(0,r.isEqual)(e,V.current)||(S(e),V.current=e)}),[gt,ht,bt,pt,S]);const wt=t=>{if(e.onSelectionChanged){const n=h?function({selection:e,numberOfFrozenColumns:t}){return e.map((e=>{const[n,o]=Xe(e.body,t),[r,l]=Xe(e.columnHeader,t);return{anchor:Qe(e.anchor,t),staticHeader:r,columnHeader:l,rowHeader:n,body:o}}))}({selection:t,numberOfFrozenColumns:se}):t;e.onSelectionChanged(n)}},{handleColumnsShown:Ct,offsetHandleColumnsShown:vt}=function({onColumnsShown:e,numberOfFrozenColumns:t}){return{handleColumnsShown:e,offsetHandleColumnsShown:(0,l.useCallback)((n=>e(n.map((e=>t+e)))),[t,e])}}({onColumnsShown:M,numberOfFrozenColumns:se}),{handleColumnResizeHandleDoubleClicked:xt,offsetHandleColumnResizeHandleDoubleClicked:It}=function({cells:e,cellRefs:t,selectionRef:n,areFrozenColumnsIgnored:o,numberOfFrozenColumns:i,numberOfScrollableColumns:s,numberOfFrozenRows:a,numberOfScrollableRows:u,onColumnsResized:d}){const c=(0,l.useCallback)((l=>{const c=function(e,{numberOfFrozenColumns:t,numberOfScrollableColumns:n}){const o=e[0],l=[];if(o?.staticHeader){const{from:e,to:n}=o.staticHeader.columns,i=Math.min(n,t-1);l.push(...(0,r.range)(e,i+1))}if(o?.columnHeader){const{from:e,to:i}=o.columnHeader.columns,s=Math.min(i,n-1);l.push(...(0,r.range)(e+t,s+t+1))}return l}(n.current,{numberOfFrozenColumns:o?0:i,numberOfScrollableColumns:o?i+s:s}),m=c.includes(l)?c:[l],f={};m.forEach((n=>{const o=(({cells:e,columnIndex:t,cellRefs:{body:n,columnHeader:o,rowHeader:r,staticHeader:l},numberOfFrozenColumns:i,numberOfFrozenRows:s,numberOfScrollableRows:a})=>{const u=s+a,d=t<i,c=d?t:t-i,[[m,f],[h,p]]=[{from:0,to:s,grid:d?l:o},{from:s,to:u,grid:d?r:n}].map((({from:n,to:o,grid:r})=>{let l="",i=0;const{numberOfColumns:a}=(0,we.Q)(r);for(let u=n;u<o;u++){let n=null;if(r){const e=u<s?u:u-s,t=Math.min(c,a-1);if(n=r[e]?.[t],n){const e=Fe(n);e>i&&(i=e)}}if(!n||!n?.children?.[0]||!Me(n)&&!Me(n.children[0])){const n=e[u][t]?.caption??"";n.length>l.length&&(l=n)}}return[l,i]})),g=He(m)+f+6,b=He(h)+p;return Math.max(g,b)+10})({cells:e,cellRefs:t.current,columnIndex:n,numberOfFrozenColumns:i,numberOfFrozenRows:a,numberOfScrollableRows:u});f[n]=o})),d(f)}),[n,o,i,s,d,e,t,a,u]);return{handleColumnResizeHandleDoubleClicked:c,offsetHandleColumnResizeHandleDoubleClicked:(0,l.useCallback)((e=>c(e+i)),[c,i])}}({cells:e.cells,cellRefs:pe,selectionRef:ft,areFrozenColumnsIgnored:h,numberOfFrozenColumns:se,numberOfScrollableColumns:me,numberOfFrozenRows:ue,numberOfScrollableRows:he,onColumnsResized:v}),{handleColumnsWidthChanged:Rt,offsetHandleColumnsWidthChanged:St}=function({numberOfFrozenColumns:e,numberOfScrollableColumns:t,columnWidths:n,onColumnsResized:o}){return{handleColumnsWidthChanged:(0,l.useCallback)((e=>{o({...n,...e})}),[n,o]),offsetHandleColumnsWidthChanged:(0,l.useCallback)((r=>{const l=(0,Ye.produce)(n??{},(n=>{for(let o=0;o<e+t;o++)r[o]&&(n[e+o]=r[o])}));o({...n,...l})}),[n,e,t,o])}}({numberOfFrozenColumns:se,numberOfScrollableColumns:me,columnWidths:w,onColumnsResized:v}),Ot=(0,l.useCallback)((()=>{const e=q.current?.scrollTop??0,t=q.current?.scrollLeft??0;Y!==e&&D(e),P!==t&&E(t),!R||Y===e&&P===t||R({scrollTop:e,scrollLeft:t})}),[R,P,Y]),{getRowProps:Ht,getColumnProps:zt,getRowStyle:Ft}=e,Mt=(0,l.useMemo)((()=>(0,r.memoize)(Ht??(()=>[]))),[Ht]),Yt=(0,l.useMemo)((()=>(0,r.memoize)(zt??(()=>[]))),[zt]),Dt=(0,l.useMemo)((()=>(0,r.memoize)(Ft??(()=>{}))),[Ft]),Tt=(0,l.useCallback)((e=>Mt(e+ue)),[Mt,ue]),Nt=(0,l.useCallback)((e=>Yt(e+se)),[Yt,se]),Wt=(0,l.useCallback)((e=>Dt(e+ue)),[Dt,ue]),Pt=e.loadedRange,Et=(0,l.useMemo)((()=>function(e,t){return!t||e.every((({body:e,rowHeader:n,columnHeader:o})=>Ze(e?.rows,t.rows)&&Ze(e?.columns,t.columns)&&Ze(n?.rows,t.rows)&&Ze(o?.columns,t.columns)))}(A,Pt)),[A,Pt]);return Ot(),(0,o.FD)("div",{style:{...e.style,paddingBottom:2,paddingRight:2,height:"100%",display:"flex",flexDirection:"column",outline:"none"},css:{"@media print .aui-table-cell":{padding:"4px 0px 3px !important"}},children:[(0,o.Y)(de,{children:(0,o.FD)("div",{css:{outline:"none",position:"relative",overflow:"hidden",flexGrow:1,display:"grid",gridTemplateAreas:'\n              "selectAllCell  staticHeader  columnHeader          ."\n              "rowNumbers       rowHeader     body                verticalScrollbar"\n              ".                .             horizontalScrollbar ."\n            ',gridTemplateRows:"min-content auto min-content",gridTemplateColumns:"min-content min-content auto min-content"},onKeyDown:e=>{ct(e,wt),x(e)},onKeyUp:e=>{mt(e,wt),I(e)},onMouseDown:e=>{ut(e);const t=e=>{document.removeEventListener("mouseup",t),0===e.button&&wt(ft.current)};document.addEventListener("mouseup",t)},onContextMenu:e=>{const t=dt(e);t!==A&&wt(t)},ref:L,tabIndex:0,children:[(0,o.Y)("div",{"data-testid":"reorder-columns-wrapper",style:{position:"relative",gridRowStart:"columnHeader-start",gridRowEnd:"body-end",gridColumn:"body",overflow:"hidden",zIndex:100,pointerEvents:"none"},children:y&&(0,o.Y)(O,{dragBounds:$e,scrollLeft:j.current?.scrollLeft??0,defaultColumnWidth:i,columnWidths:Ae,firstVisibleColumnIndex:gt,lastVisibleColumnIndex:bt,cumulatedWidthOfColumnsScrolledPast:yt,onColumnReorder:(e,t)=>{F(e,t),k([Le({gridKey:"columnHeader",columnIndex:t,rowIndex:0})])},onScroll:(e,t)=>{const n="left"===e?-1:1;j.current?.scrollBy({left:n*t*14})}})}),g&&(0,o.FD)(o.FK,{children:[(0,o.Y)("div",{ref:G,style:{gridArea:"selectAllCell"},children:(0,o.Y)(ae,{width:ze,height:u,style:{...ge,...be.horizontal}})}),(0,o.Y)(ce,{group:"vertical",children:(0,o.Y)("div",{ref:Q,className:"aui-invisible-scrollbars",style:{gridArea:"rowNumbers",overflowY:"auto"},children:(0,o.Y)(ie,{numberOfRows:he,defaultRowHeight:u,contentWidth:ze,contentHeight:ke,firstVisibleRowIndex:ht,lastVisibleRowIndex:pt})})})]}),h?(0,o.Y)(fe,{additionalCellProps:e.additionalCellProps,cellRefs:pe.current,columnHeaderRef:j,LeftCell:ee,TopCell:z,BodyCell:p,TopLeftCell:Re,numberOfFrozenColumns:se,numberOfFrozenRows:ue,numberOfScrollableColumns:me,numberOfScrollableRows:he,horizontalSeperator:be.horizontal,wrapHeaders:m,columnHeaderCells:rt,bodyCells:lt,defaultColumnWidth:i,defaultRowHeight:u,bodyRef:q,hiddenColumns:f,columnWidths:w,onColumnsShown:Ct,getRowStyle:Wt,style:e.style,onColumnsWidthChanged:Rt,getColumnProps:Yt,getRowProps:Mt,firstVisibleRowIndex:ht,lastVisibleRowIndex:pt,firstVisibleColumnIndex:gt,lastVisibleColumnIndex:bt,contentWidth:Pe+Ee,contentHeight:ke,handleScrolled:Ot,cumulatedWidthOfColumnsScrolledPast:yt,onColumnResizeHandleDoubleClicked:xt,isTotal:C}):(0,o.FD)(o.FK,{children:[(0,o.Y)("div",{ref:$,className:"aui-invisible-scrollbars",style:{gridArea:"staticHeader"},children:(0,o.Y)(J,{cellRefs:pe.current.staticHeader,areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:je,Cell:Re,additionalCellProps:e.additionalCellProps,columnWidths:De,defaultColumnWidth:i,defaultRowHeight:u,wrapText:m,hiddenColumns:ve,isVirtualized:!1,style:be.horizontalAndVertical,numberOfRows:ue,numberOfColumns:se,onColumnsShown:Ct,onColumnsWidthChanged:Rt,onColumnResizeHandleDoubleClicked:xt,selection:A.map((e=>e.staticHeader)),getRowProps:Mt,getColumnProps:Yt,rowsRef:(e,t)=>{it.current[t]=e,at()},rowHeights:it.current.map((e=>e?.clientHeight)),contentWidth:Pe})}),(0,o.Y)(ce,{group:"horizontal",children:(0,o.Y)("div",{ref:j,className:"aui-invisible-scrollbars",style:{gridArea:"columnHeader",overflowX:"auto"},children:(0,o.Y)(J,{cellRefs:pe.current.columnHeader,areColumnsResizable:!0,areHiddenColumnGroupCaretsVisible:!0,cells:rt,Cell:y?W:z,additionalCellProps:e.additionalCellProps,columnWidths:Ae,style:be.horizontal,defaultColumnWidth:i,wrapText:m,hiddenColumns:xe,isVirtualized:!1,defaultRowHeight:u,numberOfColumns:me,numberOfRows:ue,onColumnsShown:vt,onColumnsWidthChanged:St,onColumnResizeHandleDoubleClicked:It,selection:A.map((e=>e.columnHeader)),getRowProps:Mt,getColumnProps:Nt,rowsRef:(e,t)=>{st.current[t]=e,at()},rowHeights:st.current.map((e=>e?.clientHeight)),contentWidth:Ee})})}),(0,o.Y)(ce,{group:"vertical",children:(0,o.Y)("div",{ref:_,className:"aui-invisible-scrollbars",style:{gridArea:"rowHeader",overflowY:"auto"},children:(0,o.Y)(J,{cellRefs:pe.current.rowHeader,cells:Ge,Cell:ee,additionalCellProps:e.additionalCellProps,cumulatedWidthOfColumnsScrolledPast:0,columnWidths:De,defaultColumnWidth:i,hiddenColumns:ve,isTotal:C,style:be.vertical,defaultRowHeight:u,numberOfColumns:se,numberOfRows:he,selection:A.map((e=>e.rowHeader)),getRowProps:Tt,getRowStyle:Wt,getColumnProps:Yt,contentWidth:Pe,isVirtualized:!0,contentHeight:ke,firstVisibleRowIndex:ht,lastVisibleRowIndex:pt,firstVisibleColumnIndex:0,lastVisibleColumnIndex:se-1})})}),(0,o.Y)(ce,{group:ot,children:(0,o.Y)("div",{ref:q,className:"aui-invisible-scrollbars",onScroll:Ot,style:{gridArea:"body",overflow:"auto"},children:(0,o.Y)(J,{cellRefs:pe.current.body,Cell:p,additionalCellProps:e.additionalCellProps,cells:lt,isVirtualized:!0,columnWidths:Ae,defaultColumnWidth:i,hiddenColumns:xe,isTotal:C,defaultRowHeight:u,numberOfColumns:me,numberOfRows:he,selection:A.map((e=>e.body)),getRowStyle:Wt,getRowProps:Tt,getColumnProps:Nt,contentWidth:Ee,contentHeight:ke,firstVisibleRowIndex:ht,lastVisibleRowIndex:pt,firstVisibleColumnIndex:gt,lastVisibleColumnIndex:bt,cumulatedWidthOfColumnsScrolledPast:yt})})})]}),(0,o.Y)(ce,{group:"vertical",children:(0,o.Y)("div",{style:{gridArea:"verticalScrollbar",overflowY:"auto"},children:(0,o.Y)("div",{style:{height:ke,width:1}})})}),(0,o.Y)(ce,{group:"horizontal",children:(0,o.Y)("div",{style:{gridArea:"horizontalScrollbar",overflowX:"auto"},children:(0,o.Y)("div",{style:{width:_e,height:1}})})})]})}),(0,o.Y)("div",{css:{textAlign:"right",paddingRight:25,flexShrink:0},children:(0,o.Y)(Ie,{cells:{bodyCells:lt,staticHeaderCells:je,rowHeaderCells:Ge,columnHeaderCells:rt},hiddenFrozenColumns:ve,hiddenScrollableColumns:xe,isSelectionLoaded:Et})})]})},it=e=>{const t=(0,l.useMemo)((()=>(0,u.Y)()),[]),[n,i]=(0,l.useState)([]),[s,a]=(0,l.useState)(!1),d=(0,l.useCallback)((e=>!(0,r.isEqual)(e,n)&&(i(e),!0)),[n]),c=(0,l.useMemo)((()=>[n,d]),[n,d]),m=(0,l.useMemo)((()=>[s,a]),[s]);return(0,o.Y)(R,{value:t,children:(0,o.Y)(f,{value:e.Cell,children:(0,o.Y)(Y,{value:c,children:(0,o.Y)(D,{value:m,children:(0,o.Y)(lt,{...e})})})})})}},81295:(e,t,n)=>{"use strict";n.d(t,{j:()=>d});var o=n(74389),r=n(90923),l=n(90147),i=n(95889),s=n(87216),a=n(7496);const u=["large","medium","small"],d=e=>{const{formatMessage:t}=(0,i.useIntl)(),[n]=(0,s.i)("table.defaultSize");return(0,o.FD)("div",{css:{paddingTop:4,width:"100%",alignItems:"center",display:"grid"},children:[(0,o.Y)(a.Text,{small:!0,strong:!0,children:t({id:"aui.dataVisualization.tableSize"})}),(0,o.Y)(r.Select,{style:{width:125,marginTop:8},value:e.widgetState.style?.size??n,options:u.map((e=>({value:e,label:(0,o.FD)(o.FK,{children:[t({id:`aui.dataVisualization.tableSizeOptions.${e}`}),n===e&&(0,o.FD)(a.Text,{small:!0,type:"secondary",children:["Â (",t({id:"aui.default"}).toLowerCase(),")"]})]})}))),onChange:t=>{e.onWidgetChange((0,l.produce)(e.widgetState,(e=>{e.style={...e.style,size:t}})))}})]})}},69247:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var o=n(74389),r=n(95889),l=n(87216),i=n(99106);const s=e=>{const{formatMessage:t}=(0,r.useIntl)(),[n]=(0,l.i)("table.tooltips");return(0,o.Y)(i.u,{propertyName:"areTooltipsVisible",label:t({id:"aui.tooltips"}),checkedByDefault:n,...e})}},18736:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var o=n(74389),r=n(95889),l=n(87216),i=n(99106);const s=e=>{const{formatMessage:t}=(0,r.useIntl)(),[n]=(0,l.i)("table.headers.wrap");return(0,o.Y)(i.u,{propertyName:"wrapHeaders",label:t({id:"aui.dataVisualization.wrapHeaders"}),checkedByDefault:n,...e})}},71504:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var o=n(31529);function r(e,{numberOfFrozenColumns:t,numberOfFrozenRows:n,numberOfColumnsInBody:r,numberOfRowsInBody:l}){const i={body:{columns:r,rows:l},columnHeader:{columns:r,rows:n},rowHeader:{columns:t,rows:l},staticHeader:{columns:t,rows:n}};return e.map((e=>{const{anchor:t,...n}=e;return{anchor:t,...(0,o.mapValues)(n,((e,t)=>{const n=i[t];return e?{columns:{from:Math.max(0,e.columns.from),to:Math.min(n.columns-1,e.columns.to)},rows:{from:Math.max(0,e.rows.from),to:Math.min(n.rows-1,e.rows.to)}}:void 0}))}}))}},37470:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});const o=(e,t)=>{const n=[];if(e)for(let o=e.rows.from;o<=e.rows.to;o++){n.push([]);for(let r=e.columns.from;r<=e.columns.to;r++){const l=t(r,o);n[o-e.rows.from].push(l)}}return n}},46246:(e,t,n)=>{"use strict";function o(e){return 0===e.length?{numberOfRows:0,numberOfColumns:0}:{numberOfRows:e.length,numberOfColumns:e[0].length}}n.d(t,{Q:()=>o})},36419:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var o=n(82477);function r(e,t){let n="";for(const o of e){n+="<tr>\n";for(const e of o)n+=`<${t}>${e}</${t}>`;n+="</tr>\n"}return n}function l({header:e,body:t}){let n="<table>\n";return e.length>0&&(n+="<thead>\n",n+=r(e,"th"),n+="</thead>\n"),t.length>0&&(n+="<tbody>\n",n+=r(t,"td"),n+="</tbody>\n"),n+="</table>",n}function i({header:e,body:t}){return[...e,...t].map((e=>e.map((e=>(0,o.$)(e,{token:","}))))).join("\n")}function s({header:e,body:t}){return{"text/html":l({header:e,body:t}),"text/plain":i({header:e,body:t})}}},1285:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,X:()=>o});const o=10,r={small:{columnWidth:90,rowHeight:15},medium:{columnWidth:100,rowHeight:20},large:{columnWidth:120,rowHeight:25}}},56489:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var o=n(74389),r=n(93345);function l(e){const t=(0,r.forwardRef)(((t,n)=>{const l=(0,r.useMemo)((()=>{const e="small"===t.size?1:4;return{display:"flex",alignItems:"center",justifyContent:t.isColumnFrozen||t.isRowFrozen?"start":"end",fontSize:12,textOverflow:"ellipsis",boxSizing:"border-box",padding:`${e}px 4px 3px`,lineHeight:`${t.height}px`,width:t.width,...!t.wrapText&&{overflow:"hidden",height:t.height,whiteSpace:"nowrap"},...!1!==t.isVirtualized&&{position:"absolute",left:t.left,top:t.top},...t.style}}),[t.height,t.isColumnFrozen,t.isRowFrozen,t.left,t.size,t.style,t.top,t.width,t.isVirtualized,t.wrapText]);return(0,o.Y)(e,{ref:n,...t,style:l})}));return t.displayName="WithDefaultCellStyle",t}},82477:(e,t,n)=>{"use strict";function o(e,{token:t}){return e.includes(t)||e.includes('"')?`"${e.replace(/"/g,'""')}"`:e}n.d(t,{$:()=>o})},66789:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});const o=globalThis.window?.navigator.platform.startsWith("Mac")??!1},68258:(e,t,n)=>{"use strict";function o(e){return Object.entries(e)}n.d(t,{W:()=>o})},2088:(e,t,n)=>{"use strict";function o(e){return Object.keys(e)}n.d(t,{u:()=>o})},85662:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var o=n(90147),r=n(31529);const l=function(e,t,n){return(0,o.produce)(e,(e=>{(0,r.update)(e,t,n)}))}},76194:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M264 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm496 424c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496zm144 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-center",theme:"outlined"}},57418:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-left",theme:"outlined"}},50493:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 158H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 424H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 212H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-right",theme:"outlined"}},74860:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M689 165.1L308.2 493.5c-10.9 9.4-10.9 27.5 0 37L689 858.9c14.2 12.2 35 1.2 35-18.5V183.6c0-19.7-20.8-30.7-35-18.5z"}}]},name:"caret-left",theme:"outlined"}},3981:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"}},90459:(e,t,n)=>{"use strict";n.d(t,{d4:()=>d,ld:()=>s});var o=n(93345),r=n(3599),l=n(67388);let i=n(58510).w;const s=e=>{i=e},a=(e,t)=>e===t;function u(e=l.t){const t=e===l.t?r.n:()=>(0,o.useContext)(e);return function(e,n=a){const{store:r,subscription:l,getServerState:s}=t(),u=i(l.addNestedSub,r.getState,s||r.getState,e,n);return(0,o.useDebugValue)(u),u}}const d=u()},71177:function(e,t,n){var o;o=function(e,t){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t){var n,o,r=e.exports={};function l(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===l||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:l}catch(e){n=l}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(e){o=i}}();var a,u=[],d=!1,c=-1;function m(){d&&a&&(d=!1,a.length?u=a.concat(u):c=-1,u.length&&f())}function f(){if(!d){var e=s(m);d=!0;for(var t=u.length;t;){for(a=u,u=[];++c<t;)a&&a[c].run();c=-1,t=u.length}a=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||d||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";(function(t){var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,o,r,l,i,s,a){if(n(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[o,r,l,i,s,a],c=0;(u=new Error(t.replace(/%s/g,(function(){return d[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}}).call(t,n(0))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=((o=n(4))&&o.__esModule?o:{default:o}).default.createContext({registerPane:function(){},unregisterPane:function(){}});t.default=r,e.exports=t.default},function(e,t,n){"use strict";(function(t){var o,r=n(1);"production"!==t.env.NODE_ENV&&(o=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=0,l="Warning: "+e.replace(/%s/g,(function(){return n[r++]}));"undefined"!=typeof console&&console.error(l);try{throw new Error(l)}catch(e){}},r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),l=2;l<n;l++)r[l-2]=arguments[l];o.apply(void 0,[t].concat(r))}}),e.exports=r}).call(t,n(0))},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n(13)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}),!0)}else e.exports=n(12)()}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(4),l=a(r),i=a(n(7)),s=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.panes={},o.registerPane=function(e,t){t.forEach((function(t){o.panes[t]||(o.panes[t]=[]),o.findPane(e,t)||(o.panes[t].length>0&&o.syncScrollPosition(o.panes[t][0],e),o.panes[t].push(e))})),o.addEvents(e,t)},o.unregisterPane=function(e,t){t.forEach((function(t){o.findPane(e,t)&&(o.removeEvents(e),o.panes[t].splice(o.panes[t].indexOf(e),1))}))},o.addEvents=function(e,t){e.onscroll=o.handlePaneScroll.bind(o,e,t)},o.removeEvents=function(e){e.onscroll=null},o.findPane=function(e,t){return!!o.panes[t]&&o.panes[t].find((function(t){return t===e}))},o.handlePaneScroll=function(e,t){o.props.enabled&&window.requestAnimationFrame((function(){o.syncScrollPositions(e,t)}))},o.syncScrollPositions=function(e,t){t.forEach((function(n){o.panes[n].forEach((function(r){e!==r&&(o.removeEvents(r,n),o.syncScrollPosition(e,r),window.requestAnimationFrame((function(){o.addEvents(r,t)})))}))})),o.props.onSync&&o.props.onSync(e)},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"getContextValue",value:function(){return{registerPane:this.registerPane,unregisterPane:this.unregisterPane}}},{key:"syncScrollPosition",value:function(e,t){var n=e.scrollTop,o=e.scrollHeight,r=e.clientHeight,l=e.scrollLeft,i=e.scrollWidth,s=e.clientWidth,a=o-r,u=i-s,d=this.props,c=d.proportional,m=d.vertical,f=d.horizontal,h=t.scrollHeight-r,p=t.scrollWidth-s;m&&a>0&&(t.scrollTop=c?h*n/a:n),f&&u>0&&(t.scrollLeft=c?p*l/u:l)}},{key:"render",value:function(){return l.default.createElement(s.default.Provider,{value:this.getContextValue()},l.default.Children.only(this.props.children))}}]),t}(r.Component);d.propTypes={onSync:i.default.func,children:i.default.element.isRequired,proportional:i.default.bool,vertical:i.default.bool,horizontal:i.default.bool,enabled:i.default.bool},d.defaultProps={proportional:!0,vertical:!0,horizontal:!0,enabled:!0},t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(4),l=a(n(14)),i=a(n(7)),s=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.toArray=function(e){return[].concat(e)},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.enabled&&(this.node=this.props.attachTo||l.default.findDOMNode(this),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentDidUpdate",value:function(e){this.props.enabled&&this.props.group!==e.group&&(this.context.unregisterPane(this.node,this.toArray(e.group)),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentWillUnmount",value:function(){this.props.enabled&&this.context.unregisterPane(this.node,this.toArray(this.props.group))}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component);d.contextType=s.default,d.propTypes={children:i.default.node.isRequired,attachTo:i.default.object,group:i.default.oneOfType([i.default.string,i.default.arrayOf(i.default.string)]),enabled:i.default.bool},d.defaultProps={group:"default",enabled:!0},d.contextTypes={registerPane:i.default.func,unregisterPane:i.default.func},t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8);Object.defineProperty(t,"ScrollSync",{enumerable:!0,get:function(){return l(o).default}});var r=n(9);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"ScrollSyncPane",{enumerable:!0,get:function(){return l(r).default}})},function(e,t,n){"use strict";(function(t){if("production"!==t.env.NODE_ENV)var o=n(2),r=n(6),l=n(3),i={};e.exports=function(e,n,s,a,u){if("production"!==t.env.NODE_ENV)for(var d in e)if(e.hasOwnProperty(d)){var c;try{o("function"==typeof e[d],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a||"React class",s,d),c=e[d](n,d,a,s,null,l)}catch(e){c=e}if(r(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",a||"React class",s,d,typeof c),c instanceof Error&&!(c.message in i)){i[c.message]=!0;var m=u?u():"";r(!1,"Failed %s type: %s%s",s,c.message,null!=m?m:"")}}}}).call(t,n(0))},function(e,t,n){"use strict";var o=n(1),r=n(2),l=n(3);e.exports=function(){function e(e,t,n,o,i,s){s!==l&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";(function(t){var o=n(1),r=n(2),l=n(6),i=n(3),s=n(11);e.exports=function(e,n){var a="function"==typeof Symbol&&Symbol.iterator,u="<<anonymous>>",d={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:m(o.thatReturnsNull),arrayOf:function(e){return m((function(t,n,o,r,l){if("function"!=typeof e)return new c("Property `"+l+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new c("Invalid "+r+" `"+l+"` of type `"+p(s)+"` supplied to `"+o+"`, expected an array.");for(var a=0;a<s.length;a++){var u=e(s,a,o,r,l+"["+a+"]",i);if(u instanceof Error)return u}return null}))},element:m((function(t,n,o,r,l){var i=t[n];return e(i)?null:new c("Invalid "+r+" `"+l+"` of type `"+p(i)+"` supplied to `"+o+"`, expected a single ReactElement.")})),instanceOf:function(e){return m((function(t,n,o,r,l){if(!(t[n]instanceof e)){var i=e.name||u;return new c("Invalid "+r+" `"+l+"` of type `"+((s=t[n]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `"+o+"`, expected instance of `"+i+"`.")}var s;return null}))},node:m((function(e,t,n,o,r){return h(e[t])?null:new c("Invalid "+o+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return m((function(t,n,o,r,l){if("function"!=typeof e)return new c("Property `"+l+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var s=t[n],a=p(s);if("object"!==a)return new c("Invalid "+r+" `"+l+"` of type `"+a+"` supplied to `"+o+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var d=e(s,u,o,r,l+"."+u,i);if(d instanceof Error)return d}return null}))},oneOf:function(e){return Array.isArray(e)?m((function(t,n,o,r,l){for(var i=t[n],s=0;s<e.length;s++)if(a=i,u=e[s],a===u?0!==a||1/a==1/u:a!=a&&u!=u)return null;var a,u;return new c("Invalid "+r+" `"+l+"` of value `"+i+"` supplied to `"+o+"`, expected one of "+JSON.stringify(e)+".")})):("production"!==t.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var n=0;n<e.length;n++){var r=e[n];if("function"!=typeof r)return l(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",b(r),n),o.thatReturnsNull}return m((function(t,n,o,r,l){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,o,r,l,i))return null;return new c("Invalid "+r+" `"+l+"` supplied to `"+o+"`.")}))},shape:function(e){return m((function(t,n,o,r,l){var s=t[n],a=p(s);if("object"!==a)return new c("Invalid "+r+" `"+l+"` of type `"+a+"` supplied to `"+o+"`, expected `object`.");for(var u in e){var d=e[u];if(d){var m=d(s,u,o,r,l+"."+u,i);if(m)return m}}return null}))}};function c(e){this.message=e,this.stack=""}function m(e){if("production"!==t.env.NODE_ENV)var o={},s=0;function a(a,d,m,f,h,p,g){if(f=f||u,p=p||m,g!==i)if(n)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var b=f+":"+m;!o[b]&&s<3&&(l(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,f),o[b]=!0,s++)}return null==d[m]?a?null===d[m]?new c("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `null`."):new c("The "+h+" `"+p+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(d,m,f,h,p)}var d=a.bind(null,!1);return d.isRequired=a.bind(null,!0),d}function f(e){return m((function(t,n,o,r,l,i){var s=t[n];return p(s)!==e?new c("Invalid "+r+" `"+l+"` of type `"+g(s)+"` supplied to `"+o+"`, expected `"+e+"`."):null}))}function h(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(h);if(null===t||e(t))return!0;var n=function(e){var t=e&&(a&&e[a]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!n)return!1;var o,r=n.call(t);if(n!==t.entries){for(;!(o=r.next()).done;)if(!h(o.value))return!1}else for(;!(o=r.next()).done;){var l=o.value;if(l&&!h(l[1]))return!1}return!0;default:return!1}}function p(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function g(e){if(null==e)return""+e;var t=p(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){var t=g(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return c.prototype=Error.prototype,d.checkPropTypes=s,d.PropTypes=d,d}}).call(t,n(0))},function(e,n){e.exports=t}])},e.exports=o(n(93345),n(7628))},98870:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!1}),t.default=function(e,t){if(e===t)return 0;var n=e.length,o=t.length;if(!n)return o;if(!o)return n;if(n>o){var r=[t,e];e=r[0],t=r[1];var l=[o,n];n=l[0],o=l[1]}for(;n>0&&e[n-1]===t[o-1];)n--,o--;var i=0;if(e[0]===t[0]||!n){for(;i<n&&e[i]===t[i];)i++;if(o-=i,!(n-=i))return o;t=t.slice(i,i+o)}for(var s=new Array(o),a=new Array(o),u=0;u<o;u++)s[u]=u+1;for(var d=e[0],c=0,m=0;m<n;m++){var f=d,h=0,p=t[0],g=m;c=m+1,d=e[i+m];for(var b=0;b<o;b++){var y=c,w=p,C=h;p=t[b],h=a[b],a[b]=c=g,g=s[b],d!==p&&(g<c&&(c=g),y<c&&(c=y),c++,0!==m&&0!==b&&d===w&&p===f&&++C<c&&(c=C)),s[b]=c}}return c},t.limited=function(e,t,n){if(t===n)return 0;var o=t.length,r=n.length;if(!o)return r>e?1/0:r;if(!r)return o>e?1/0:o;if(o>r){var l=[n,t];t=l[0],n=l[1];var i=[r,o];o=i[0],r=i[1]}for(;o>0&&t[o-1]===n[r-1];)o--,r--;var s=0;if(t[0]===n[0]||!o){for(;s<o&&t[s]===n[s];)s++;if(r-=s,!(o-=s))return r>e?1/0:r;n=n.slice(s,s+r)}var a=r-o;if(e>r)e=r;else if(a>e)return 1/0;var u=new Array(r),d=new Array(r),c=void 0;for(c=0;c<e;c++)u[c]=c+1;for(;c<r;c++)u[c]=e+1;var m=e-a,f=e<r,h=0,p=e,g=t[0],b=0;for(c=0;c<o;c++){var y=g,w=0,C=n[0],v=c;b=c+1,g=t[s+c],p+=p<r?1:0;for(var x=h+=c>m?1:0;x<p;x++){var I=b,R=C,S=w;C=n[x],w=d[x],d[x]=b=v,v=u[x],g!==C&&(v<b&&(b=v),I<b&&(b=I),b++,0!==c&&0!==x&&g===R&&C===y&&++S<b&&(b=S)),u[x]=b}if(f&&u[c+a]>e)return 1/0}return b<=e?b:1/0},e.exports=t.default,t.default.limited=t.limited}}]);