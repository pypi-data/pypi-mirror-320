"use strict";(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[7468],{57468:(e,t,i)=>{i.d(t,{FiltersBarDateRangePicker:()=>D});var a=i(74389),n=i(90923),l=i(24870),o=i.n(l),r=i(93345),d=i(22431),s=i(1274),c=i(87268),m=i(88625),p=i(65762),y=i(50163),u=i(7496),g=i(67048);const{useToken:h}=n.theme,D=({filter:e,onFilterChanged:t,serverKey:i,cube:n,mdxInView:l,filtersAbove:D,queryContext:f,style:v})=>{const{dimensionName:x,hierarchyName:P,levelName:b}=e,{token:k}=h(),[N,C]=(0,r.useState)(!1),R=(0,r.useRef)(null),F=(0,r.useRef)(null);(0,d.A)(F,(e=>{e.target&&e.target instanceof Node&&(R.current?.contains(e.target)||C(!1))}));const{startDate:w,endDate:T}="timePeriodToDate"===e.type?{...(0,c.P)(e.timePeriod)}:e,_=w&&T?[o()(w),o()(T)]:null,I="timePeriodToDate"===e.type?e.timePeriod:void 0,S=(0,m.n)({dimensionName:x,hierarchyName:P,levelIndex:(0,s.Z)({cube:n,dimensionName:x,hierarchyName:P,levelName:b}),serverKey:i,cube:n,mdxInView:l,filters:D,queryContext:f});return(0,a.FD)(g.o,{ref:R,style:{...v,width:e.isExclusionFilter?194:174},label:e.levelName,isActive:N,children:[e.isExclusionFilter&&(0,a.Y)(y.IconExclude,{style:{flexShrink:0,marginLeft:k.marginSM,opacity:w?"initial":"0.4"}}),(0,a.Y)(u.DateRangePicker,{open:N,onClick:()=>C(!0),value:_,style:{paddingInline:k.paddingXS},onChange:i=>{const[a,n]=i||[],l=a&&n?{startDate:a.toDate(),endDate:n.toDate()}:{startDate:void 0,endDate:void 0},o="dateRange"===e.type?{...e,...l}:{...e,...l,type:"dateRange",isRollingDate:!1};t(o)},placement:"bottomLeft",bordered:!1,allowClear:!0,allowEmpty:[!0,!0],panelRender:i=>(0,a.FD)("div",{ref:F,style:{display:"flex",paddingLeft:6,paddingRight:10,paddingBottom:8},children:[(0,a.Y)("div",{style:{paddingTop:"8px"},children:(0,a.Y)(p.g,{timePeriod:I,onTimePeriodChanged:i=>{const a="timePeriodToDate"===e.type?{...e,timePeriod:i}:{...e,type:"timePeriodToDate",timePeriod:i};t(a)}})}),(0,a.FD)("div",{css:{display:"flex",flexDirection:"column"},children:[i,(0,a.Y)(u.LegendForDatesWithData,{style:{alignSelf:"flex-end"}})]})]}),datesWithData:S})]})}}}]);