var beaker_vue;(function(){var e={2857:function(e,t,n){"use strict";n.r(t);var o=n(31601),l=n.n(o),i=n(76314),a=n.n(i),r=a()(l());r.push([e.id,"div.controls-container[data-v-77ca4bf4]{div.p-toolbar[data-v-77ca4bf4]{padding:.5rem;padding-left:.25rem}}button.pdf-ui-button[data-v-77ca4bf4]{padding:unset;margin:unset;margin-left:.25rem;margin-right:.25rem;height:2rem;min-width:2rem}button.pdf-ui-button.pdf-ui-close[data-v-77ca4bf4]{width:2rem}div.pdf-ui-inputselection[data-v-77ca4bf4]{padding:unset;margin:unset;margin-left:.25rem;margin-right:.25rem;height:2rem;div[data-v-77ca4bf4]{min-width:2rem;padding:0}input[data-v-77ca4bf4]{width:3rem}}",""]),t["default"]=r},64556:function(e,t,n){"use strict";n.r(t);var o=n(31601),l=n.n(o),i=n(76314),a=n.n(i),r=a()(l());r.push([e.id,".pdf-container[data-v-26753cf8]{overflow:auto}.pdf-canvas[data-v-26753cf8]{border:1px solid #ddd;width:auto;display:inline}",""]),t["default"]=r},71351:function(e,t,n){"use strict";n.r(t);var o=n(31601),l=n.n(o),i=n(76314),a=n.n(i),r=a()(l());r.push([e.id,".context-heading{color:var(--text-color-secondary);margin:1rem 1.25rem .25rem 1.25rem}.context-tree{margin-top:.5rem;flex:1;border:none;width:21rem;position:relative}.context-tree .p-tree{border:none}.context-tree .p-tree-wrapper{position:absolute;left:1rem;top:0;bottom:0;right:0}.context-tree .p-tree-wrapper .p-treenode .p-treenode-content{padding:0}.context-toggle-button{position:absolute;right:-.5rem;top:40%;background:var(--surface-a);border-color:var(--surface-300);color:var(--primary-300);z-index:2}.button-rotate{transform:rotate(180deg)}.loading-area{background:var(--surface-a);display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;bottom:0;left:0;right:0}.hidden{visibility:hidden}",""]),t["default"]=r},67062:function(e,t,n){"use strict";n.r(t);var o=n(31601),l=n.n(o),i=n(76314),a=n.n(i),r=a()(l());r.push([e.id,".preview-container-pre{display:flex;flex-direction:row;min-height:100%}.preview-draggable{width:3px;min-height:100%;z-index:100;background-color:var(--surface-b)}.preview-draggable:hover{cursor:col-resize}.preview-container-main{display:flex;flex-direction:column;flex:1;overflow:hidden}.preview-container-main .pdf-preview .controls-container div.p-toolbar{border:none;border-radius:0;flex-wrap:nowrap}.preview-container-main .pdf-preview .controls-container div.p-toolbar .p-toolbar-group-start button.pdf-ui-close{margin-left:0}.preview-under-toolbar{display:flex;flex:1;overflow:auto}.preview-under-toolbar .preview-payload div.csv-preview div div.mime-select-container{display:none}div.preview-standard-toolbar div.p-toolbar{padding:.5rem;padding-left:.25rem;border:none;border-radius:0;flex-wrap:nowrap}div.preview-standard-toolbar div.p-toolbar .p-toolbar-group-start button.pdf-ui-close{margin-left:0}button.preview-close{width:2rem;height:2rem}button.preview-raw{height:2rem;padding-left:.5rem;padding-right:.5rem}button.preview-raw span.p-button-label{font-weight:400;text-wrap:nowrap}.preview-payload{flex:1;max-height:100%;max-width:100%}.pdf-preview{flex:1;max-height:100%;display:flex;flex-direction:column}",""]),t["default"]=r},51546:function(e,t,n){"use strict";n.r(t);var o=n(31601),l=n.n(o),i=n(76314),a=n.n(i),r=a()(l());r.push([e.id,".notebook-container{display:flex;height:100%;max-width:100%}.beaker-notebook{flex:2 0 calc(50vw - 2px);border:2px solid var(--surface-border);border-radius:0;border-top:0;max-width:100%}.spacer.left{flex:1 1000 25vw}.spacer.right{flex:1 1 25vw}.notebook-toolbar{border-style:inset;border-radius:0;border-top:unset;border-left:unset;border-right:unset}.title-extra{vertical-align:baseline;display:inline-block;height:100%;font-family:Ubuntu Mono,Courier New,Courier,monospace}",""]),t["default"]=r},98207:function(e,t,n){"use strict";n.a(e,(async function(e,o){try{n(44114),n(14603),n(47566),n(98721);var l=n(56768),i=n(90144),a=n(85029),r=n(86560),s=n(87747),c=n(56559),u=n(46365),d=n(77974),p=n(21972),f=n(42775),v=n(91736),b=n(70387),h=n(73845),m=n(64528),g=n(39219),k=n(72845),y=n(85579),w=n(24660),C=n(56280),x=n(43134),_=n(68384),R=n(42845),A=n(44543),O=e([u]);u=(O.then?(await O)():O)[0];const M={class:"notebook-container"},E={class:"welcome-placeholder"},P={key:0,class:"spacer right"};t.A=(0,l.pM)({__name:"NotebookInterface",props:["config","connectionSettings","sessionName","sessionId","defaultKernel","renderers"],setup(e){const t=(0,i.KR)(),n=(0,i.KR)(),o=(0,i.KR)(),O=(0,i.KR)(),F=(0,i.KR)(),K=(0,i.KR)(),S=(0,i.KR)(!1),L=new URLSearchParams(window.location.search),I=L.has("session")?L.get("session"):"notebook_dev_session",j=e,N=[...p.dn.map((e=>new a.hC(e))).map(u.ft),u.oH,u.En,u.To,u.nk,u.ek],B={code:x.A,markdown:_.A,query:R.A,raw:A.A},T=(0,i.KR)("connecting"),W=(0,i.KR)([]),X=(0,i.KR)([]),z=(0,i.KR)(),Q=((0,i.KR)(),(0,i.KR)(null)),V=(0,i.KR)(null),D=((0,i.KR)(!1),(0,i.KR)(!1)),{theme:$,toggleDarkMode:U}=((0,i.KR)(),(0,l.WQ)("theme")),q=(0,i.KR)(),Y=((0,l.EW)((()=>(V.value,"Beaker Notebook"))),(0,l.EW)((()=>[{type:"link",href:`/chat${window.location.search}`,icon:"comment",label:"Navigate to chat view"},{type:"button",icon:"dark"===$.mode?"sun":"moon",command:U,label:`Switch to ${"dark"===$.mode?"light":"dark"} mode.`},{type:"link",href:"https://jataware.github.io/beaker-kernel",label:"Beaker Documentation",icon:"book",rel:"noopener",target:"_blank"},{type:"link",href:"https://github.com/jataware/beaker-kernel",label:"Check us out on Github",icon:"github",rel:"noopener",target:"_blank"}]))),G=(0,l.EW)((()=>n?.value?.beakerSession));(0,l.wB)((()=>t?.value?.notebook.cells),(e=>{0===e?.length&&t.value.insertCellBefore()}),{deep:!0});const Z=e=>{"preview"===e.header.msg_type?z.value=e.content:"debug_event"===e.header.msg_type&&W.value.push({type:e.content.event,body:e.content.body,timestamp:e.header.date})},H=(e,t)=>{X.value.push({type:t,body:e,timestamp:e.header.date})},J=e=>{console.log("Unhandled message recieved",e)},ee=e=>{T.value="idle"==e?"connected":e},te=async()=>{const e=G.value.session.sendBeakerMessage("reset_request",{});await e},ne=(e,n)=>{const o=t.value;G.value?.session.loadNotebook(e),V.value=n;const i=o.notebook.cells.map((e=>e.id));i.includes(o.selectedCellId)||(0,l.dY)((()=>{o.selectCell(i[0])}))},oe=async e=>{V.value=e,e&&(F.value?.selectPanel("Files"),await o.value.refresh(),await o.value.flashFile(e))},le=()=>{t.value?.selectPrevCell()},ie=()=>{const e=t.value.notebook.cells[t.value.notebook.cells.length-1];t.value.selectedCell().cell.id===e.id?K.value.$el.querySelector("textarea")?.focus():t.value?.selectNextCell()},ae={},re={"keydown.enter.ctrl.prevent.capture.in-cell":()=>{t.value?.selectedCell().execute(),t.value?.selectedCell().exit()},"keydown.enter.shift.prevent.capture.in-cell":()=>{const e=t.value?.selectedCell();e.execute(),t.value?.selectNextCell()||(t.value?.insertCellAfter(e,void 0,!0),(0,l.dY)((()=>{t.value?.selectedCell().enter()})))},"keydown.enter.exact.prevent.stop.!in-editor":()=>{t.value?.selectedCell().enter()},"keydown.esc.exact.prevent":()=>{t.value?.selectedCell().exit()},"keydown.up.!in-editor.prevent":le,"keydown.up.in-editor.capture":e=>{const n=e.target,o=n.closest(".beaker-cell"),l=o?.getAttribute("cell-id");if(void 0!==l){const n=G.value.findNotebookCellById(l);if((0,d.Rj)(n.editor)){const o=t.value.prevCell();o&&(n.exit(),t.value.selectCell(o.cell.id,!0,"end"),e.preventDefault(),e.stopImmediatePropagation())}}else n.closest(".agent-query-container")&&(n.blur(),t.value.selectCell(t.value.notebook.cells[t.value.notebook.cells.length-1].id,!0,"end"),e.preventDefault(),e.stopImmediatePropagation())},"keydown.down.in-editor.capture":e=>{const n=e.target,o=n.closest(".beaker-cell"),l=o?.getAttribute("cell-id");if(void 0!==l){const n=G.value.findNotebookCellById(l);if((0,d.gb)(n.editor)){const o=t.value.nextCell();if(o)n.exit(),t.value.selectCell(o.cell.id,!0,"start"),e.preventDefault(),e.stopImmediatePropagation();else{const o=t.value.notebook.cells[t.value.notebook.cells.length-1];t.value.selectedCell().cell.id===o.id&&(n.exit(),K.value.$el.querySelector("textarea")?.focus(),e.preventDefault(),e.stopImmediatePropagation())}}}},"keydown.k.!in-editor":le,"keydown.down.!in-editor.prevent":ie,"keydown.j.!in-editor":ie,"keydown.a.prevent.!in-editor":e=>{const n=t.value;n?.selectedCell().exit(),n?.insertCellBefore()},"keydown.b.prevent.!in-editor":()=>{const e=t.value;e?.selectedCell().exit(),e?.insertCellAfter()},"keydown.d.!in-editor":()=>{const e=t.value,n=e.selectedCell(),o=()=>{delete ae["d"]},l=ae["d"];if(void 0===l){const e=setTimeout(o,1e3);ae["d"]={cell_id:n.id,timeout:e}}else{const{cell_id:t,timeout:o}=ae["d"];t===n.id&&(e?.removeCell(n),Q.value=n.cell,delete ae["d"]),o&&window.clearTimeout(o)}},"keydown.y.!in-editor":()=>{const e=t.value,n=e.selectedCell(),o=()=>{delete ae["y"]},l=ae["y"];if(void 0===l){const e=setTimeout(o,1e3);ae["y"]={cell_id:n.id,timeout:e}}else{const{cell_id:e,timeout:t}=ae["y"];e===n.id&&(Q.value=n.cell,delete ae["y"]),t&&window.clearTimeout(t)}},"keydown.p.!in-editor":e=>{const n=t.value;let o=(0,i.ux)(Q.value);if(null!==o){const t=n.notebook.cells.map((e=>e.id));if(t.includes(o.id)){const e=o.constructor,t={...o,id:void 0,executionCount:void 0,busy:void 0,last_execution:void 0};o=new e(t)}"p"===e.key?n?.insertCellAfter(n.selectedCell(),o):"P"===e.key&&n?.insertCellBefore(n.selectedCell(),o),o.value=null}}};return(e,a)=>{const u=(0,l.gN)("autoscroll"),d=(0,l.gN)("keybindings");return(0,l.uX)(),(0,l.Wv)(v.A,{title:"Beaker Notebook","title-extra":V.value,"header-nav":Y.value,ref_key:"beakerInterfaceRef",ref:n,connectionSettings:j.config,sessionName:"notebook_interface",defaultKernel:"beaker_kernel",sessionId:(0,i.R1)(I),renderers:N,savefile:V.value,onIopubMsg:Z,onUnhandledMsg:J,onAnyMsg:H,onSessionStatusChanged:ee,onOpenFile:ne},{"left-panel":(0,l.k6)((()=>[(0,l.bF)(y.A,{ref_key:"sideMenuRef",ref:F,position:"left","show-label":!0,highlight:"line",expanded:!1,initialWidth:"25vi",maximized:D.value},{default:(0,l.k6)((()=>[(0,l.bF)(w.A,{label:"Info",icon:"pi pi-home"},{default:(0,l.k6)((()=>[(0,l.bF)(h.A)])),_:1}),(0,l.bF)(w.A,{id:"files",label:"Files",icon:"pi pi-file-export","no-overflow":"",lazy:!0},{default:(0,l.k6)((()=>[(0,l.bF)(m.A,{ref_key:"filePanelRef",ref:o,onOpenFile:ne,onPreviewFile:a[1]||(a[1]=(e,t)=>{q.value={url:e,mimetype:t},S.value=!0})},null,512)])),_:1}),"server"!==j.config.config_type?((0,l.uX)(),(0,l.Wv)(w.A,{key:0,id:"config",label:"Config",icon:"pi pi-cog",lazy:!0},{default:(0,l.k6)((()=>[(0,l.bF)(g.Ay,{ref_key:"configPanelRef",ref:O,onRestartSession:te},null,512)])),_:1})):(0,l.Q3)("",!0)])),_:1},8,["maximized"])])),"right-panel":(0,l.k6)((()=>[])),default:(0,l.k6)((()=>[(0,l.Lk)("div",M,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)((0,i.R1)(r.z),{ref_key:"beakerNotebookRef",ref:t,"cell-map":B},{default:(0,l.k6)((()=>[(0,l.bF)(s.A,{"default-severity":"",saveAvailable:!0,"save-as-filename":V.value,onNotebookSaved:oe,onOpenFile:ne},{"end-extra":(0,l.k6)((()=>[(0,l.bF)((0,i.R1)(f.A),{onClick:a[0]||(a[0]=e=>{D.value=!D.value}),icon:"pi "+(D.value?"pi-window-minimize":"pi-window-maximize"),size:"small",text:""},null,8,["icon"])])),_:1},8,["save-as-filename"]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(c.A,{"selected-cell":t.value?.selectedCellId},{"notebook-background":(0,l.k6)((()=>[(0,l.Lk)("div",E,[(0,l.bF)(k.A)])])),_:1},8,["selected-cell"])),[[u]]),(0,l.bF)(b.A,{ref_key:"agentQueryRef",ref:K,class:"agent-query-container"},null,512)])),_:1})),[[d,re,void 0,{top:!0}]]),D.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",P))]),(0,l.bF)(C.A,{url:q.value?.url,mimetype:q.value?.mimetype,modelValue:S.value,"onUpdate:modelValue":a[2]||(a[2]=e=>S.value=e)},null,8,["url","mimetype","modelValue"])])),_:1},8,["title-extra","header-nav","connectionSettings","sessionId","savefile"])}}}),o()}catch(M){o(M)}}))},17871:function(e,t,n){"use strict";n.a(e,(async function(e,o){try{n.r(t);var l=n(45130),i=n(99119),a=n(18648),r=n(85413),s=n(5241),c=n(26883),u=n(8271),d=n(31577),p=n(98124),f=n(419),v=n(89571),b=(n(96153),n(17198),n(47997)),h=e([v]);v=(h.then?(await h)():h)[0];const m=b.PageConfig.getBaseUrl();(async()=>{const e=b.URLExt.join(m,"/config"),t=await fetch(e),n=await t.json(),o=(0,l.Ef)(v.A,{config:n});o.use(i.Ay),o.use(c.A),o.use(r.A),o.use(s.A),o.use(f.Ay),o.directive("tooltip",a.A),o.directive("focustrap",u.A),o.directive("keybindings",d.c),o.directive("autoscroll",p.n),o.mount("#app")})(),o()}catch(m){o(m)}}))},77974:function(e,t,n){"use strict";n.d(t,{Cb:function(){return a},Kz:function(){return r},LF:function(){return l},Rj:function(){return p},gb:function(){return f},ln:function(){return o}});n(14603),n(47566),n(98721);function o(){const e=new Date,t=60*e.getTimezoneOffset()*1e3,n=Number(e)-t,o=new Date(n);let l=o.toISOString();return l=l.split(".")[0],l=l.replace(/[:T]/g,"_"),l}function l(e,t,n){const o=new Blob([e],{type:n}),l=window.navigator;if(l.msSaveOrOpenBlob)l.msSaveBlob(o,t);else{const e=window.document.createElement("a");e.href=window.URL.createObjectURL(o),e.download=t,document.body.appendChild(e),e.click(),document.body.removeChild(e)}}const i=e=>{if("string"===typeof e.getAttribute("tabindex"))return!0};function a(e){while(void 0!==e&&null!==e&&e!==document.body){if(i(e))return e;e=e.parentElement}}function r(e){return Object.hasOwn(e,"ename")&&Object.hasOwn(e,"evalue")}function s(e){return Object.hasOwn(e,"view")&&Object.hasOwn(e["view"],"viewState")?e["view"]:e&&e["$el"]?e["$el"]:e}function c(e){const t=Object.hasOwn(e,"viewState")&&Object.hasOwn(e,"dom")&&Object.hasOwn(e,"docView");return t}function u(e){return!1}function d(e){return e&&"textarea"===e["type"]}function p(e){const t=s(e);return c(t)?0===t.state.selection.main.to:!u(t)&&(!!d(t)&&0===t.selectionEnd)}function f(e){const t=s(e);return c(t)?t.state.selection.main.from===t.state.doc.length:!u(t)&&(!!d(t)&&t.selectionStart===t.textLength)}},86560:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var o=n(50511),l=n(56768),i=n(90144),a=n(85029),r=n(89436);const s=(0,l.pM)({props:["cellMap","noEmptyStartingCell"],setup(e){const t=(0,l.WQ)("session"),n=(0,l.WQ)("beakerSession"),o=(0,i.KR)(t.notebook),a=(0,i.KR)(null);(0,l.Gt)("cell-component-mapping",e.cellMap);const r=(0,l.EW)((()=>t?.notebook?.cells?.length||0));return{session:t,beakerSession:n,notebook:o,selectedCellId:a,cellCount:r}},methods:{selectCell(e,t=!1,n=void 0){if(void 0===e)return"";let o;return o="string"===typeof e?e:Object.hasOwn(e,"cell")?e.cell.id:e.id,this.selectedCellId!==o&&(this.selectedCellId=o),(0,l.dY)((()=>{this.scrollCellIntoView(this.selectedCell()),t&&this.selectedCell().enter(n)})),this.selectedCellId},scrollCellIntoView(e){const t=e?.$?.vnode?.el;if(!t)return;const n=t.closest(".beaker-cell")??t;(0,r.A)(n,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})},selectedCell(){const e=this.beakerSession.findNotebookCellById(this.selectedCellId);return e||(this.notebook.cells.length>0?(this.selectedCellId=this.notebook.cells[0].id,this.beakerSession.findNotebookCellById(this.selectedCellId)):void 0)},nextCell(e){var t;if(t=void 0===e?this.notebook.cells.indexOf(this.selectedCell().cell):this.notebook.cells.indexOf(e),t>=0&&t<this.cellCount-1){const e=this.notebook.cells[t+1],n=e.id;return this.beakerSession.findNotebookCellById(n)}return null},prevCell(e){var t;if(t=void 0===e?this.notebook.cells.indexOf(this.selectedCell().cell):this.notebook.cells.indexOf(e),t>0){const e=this.notebook.cells[t-1],n=e.id;return this.beakerSession.findNotebookCellById(n)}return null},selectNextCell(e,t=!1){let n=this.nextCell(e);if(n)return this.selectCell(n,t);for(const o of this.notebook.cells)if(o.children){const n=o.children.indexOf(e);if(-1===n)continue;return n<=o.children.length-1?this.selectNextCell(o):this.selectCell(o.children[n+1],t)}return null},selectPrevCell(e,t=!1){let n=this.prevCell(e);return n?this.selectCell(n,t):null},insertCellBefore(e,t,n=!1){void 0===e&&(e=this.selectedCell()),void 0===t&&(t=new this.defaultCellModel({source:""}));const o=void 0===e?this.notebook.cells.length-1:this.notebook.cells.findIndex((t=>t===e.cell));return this.notebook.cells.splice(o,0,t),(0,l.dY)((()=>this.selectCell(t,n))),t},insertCellAfter(e,t,n=!1){void 0===e&&(e=this.selectedCell()),void 0===t&&(t=new this.defaultCellModel({source:""}));let o=void 0===e?this.notebook.cells.length-1:this.notebook.cells.findIndex((t=>t===e.cell));return this.notebook.cells.splice(o+1,0,t),(0,l.dY)((()=>this.selectCell(t,n))),t},removeCell(e){void 0===e&&(e=this.selectedCell());const t=this.notebook.cells.findIndex((t=>t===e.cell));if(t>-1)return e.cell.id===this.selectedCellId&&(this.selectNextCell()||this.selectPrevCell()),this.notebook.cutCell(t)},convertCellType(e,t){const n=this.notebook.cells.indexOf(e);if(-1===n)return void console.warn("attempted to convert cell not found in parent cell in place; cell not found");if(!Object.keys(this.cellMap).includes(t))return void console.warn("invalid cell type provided for conversion target");const o=new this.cellMap[t].modelClass({...e});o.cell_type=t,this.notebook.cells.splice(n,1,o)}},computed:{defaultCellModel(){if(this.cellMap&&this.cellMap.length>0){const e=Object.values(this.cellMap)[0].modelClass;return e}return a.yV}},beforeMount(){if((0,l.Gt)("notebook",this),this.beakerSession.notebookComponent=this,0===this.cellCount){if(this.noEmptyStartingCell)return;this.session.addCodeCell("")}},mounted(){this.noEmptyStartingCell||this.selectedCell()||(0,l.dY)((()=>{this.notebook.cells.length>0&&this.selectCell(this.notebook.cells[0].id)}))}});var c=s,u=(n(7424),n(71241));o.X},73845:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});n(44114);var o=n(56768),l=n(90144),i=n(24232),a=n(11723);const r={class:"info-panel-container"},s=(0,o.Lk)("div",{class:"loading-area"}," No Context Loaded. ",-1),c={style:{cursor:"help","border-bottom":"1px dotted var(--text-color-secondary)"}};var u=(0,o.pM)({__name:"InfoPanel",setup(e){(0,l.KR)(!0);const t=(0,l.KR)({0:!0,1:!0,2:!0,3:!0}),n=(0,o.WQ)("beakerSession"),u=(0,o.EW)((()=>{const e=n?.activeContext,t=n?.session.kernelInfo;return{...e,kernelInfo:t}})),d=(0,o.EW)((()=>{const e=u.value;if(!e)return[];const t=[{key:"0",label:"Kernel",icon:"pi pi-fw pi-cog",expanded:!0,children:[{key:"0-1",label:`${e?.info?.subkernel} (${e?.info?.language})`}]}];return t.push({key:"3",label:"Tools",icon:"pi pi-fw pi-wrench",expanded:!0,children:Object.keys(e?.info?.agent?.tools||{}).map(((t,n)=>({key:`3-${n}`,label:t.replace("PyPackageAgent.",""),data:e.info.agent.tools[t],type:"tool"})))}),t}));return(e,n)=>{const u=(0,o.gN)("tooltip");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)((0,l.R1)(a.A),{value:d.value,loading:!d.value,expandedKeys:t.value,"onUpdate:expandedKeys":n[1]||(n[1]=e=>t.value=e)},{loadingicon:(0,o.k6)((()=>[s])),action:(0,o.k6)((e=>[(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",{onMousedown:n[0]||(n[0]=e=>{e.detail>1&&e.preventDefault()}),style:{cursor:"pointer","border-bottom":"1px dotted var(--text-color-secondary)"}},[(0,o.eW)((0,i.v_)(e.node.label),1)],32)),[[u,{value:`${e.node.data}`,pt:{text:{style:{width:"20rem"}},root:{style:{marginLeft:"1rem"}}}}]])])),tool:(0,o.k6)((e=>[(0,o.bo)(((0,o.uX)(),(0,o.CE)("span",c,[(0,o.eW)((0,i.v_)(e.node.label),1)])),[[u,{value:`${e.node.data}`,pt:{text:{style:{width:"20rem"}},root:{style:{marginLeft:"1rem"}}}}]])])),_:1},8,["value","loading","expandedKeys"])])}}});n(7837);const d=u;var p=d},56280:function(e,t,n){"use strict";n.d(t,{A:function(){return V}});n(44114),n(16573),n(78100),n(77936),n(37467),n(44732),n(79577);var o=n(56768),l=n(90144),i=n(24232),a=n(45130),r=n(77729),s=n(42775),c=n(52211),u=n(31254),d=n(23421);const p=e=>((0,o.Qi)("data-v-77ca4bf4"),e=e(),(0,o.jt)(),e),f=p((()=>(0,o.Lk)("i",{class:"pi pi-book"},null,-1))),v=p((()=>(0,o.Lk)("i",{class:"pi pi-search"},null,-1)));var b=(0,o.pM)({__name:"PDFControls",props:["page","scale","isLoading","sidebarCallback"],emits:["pdf-page-next","pdf-page-prev","pdf-zoom-in","pdf-zoom-out"],setup(e,{emit:t}){const n=e,i=t,a=(0,l.KR)(null),p=e=>`${Math.floor(100*e)}%`;return(t,b)=>((0,o.uX)(),(0,o.CE)("div",{ref_key:"controlsContainer",ref:a,class:"controls-container"},[(0,o.bF)((0,l.R1)(r.A),null,{start:(0,o.k6)((()=>[(0,o.bF)((0,l.R1)(s.A),{class:"pdf-ui-button pdf-ui-close",icon:"pi pi-times",onClick:e.sidebarCallback,severity:"danger"},null,8,["onClick"])])),center:(0,o.k6)((()=>[(0,o.bF)((0,l.R1)(s.A),{class:"pdf-ui-button",icon:"pi pi-chevron-left",onClick:b[0]||(b[0]=e=>i("pdf-page-prev")),disabled:e.isLoading},null,8,["disabled"]),(0,o.bF)((0,l.R1)(s.A),{class:"pdf-ui-button",icon:"pi pi-chevron-right",onClick:b[1]||(b[1]=e=>i("pdf-page-next")),disabled:e.isLoading},null,8,["disabled"]),(0,o.bF)((0,l.R1)(u.A),{class:"pdf-ui-inputselection"},{default:(0,o.k6)((()=>[(0,o.bF)((0,l.R1)(d.A),null,{default:(0,o.k6)((()=>[f])),_:1}),(0,o.bF)((0,l.R1)(c.A),{placeholder:"Page",value:n?.page},null,8,["value"])])),_:1})])),end:(0,o.k6)((()=>[(0,o.bF)((0,l.R1)(s.A),{class:"pdf-ui-button",icon:"pi pi-search-minus",onClick:b[2]||(b[2]=e=>i("pdf-zoom-out"))}),(0,o.bF)((0,l.R1)(s.A),{class:"pdf-ui-button",icon:"pi pi-search-plus",onClick:b[3]||(b[3]=e=>i("pdf-zoom-in"))}),(0,o.bF)((0,l.R1)(u.A),{class:"pdf-ui-inputselection"},{default:(0,o.k6)((()=>[(0,o.bF)((0,l.R1)(d.A),null,{default:(0,o.k6)((()=>[v])),_:1}),(0,o.bF)((0,l.R1)(c.A),{placeholder:"Zoom",value:p(n?.scale)},null,8,["value"])])),_:1})])),_:1})],512))}}),h=(n(36684),n(71241));const m=(0,h.A)(b,[["__scopeId","data-v-77ca4bf4"]]);var g=m,k=(n(14603),n(47566),n(98721),n(81747)),y={__name:"PDFPage",props:["sidebarCallback","url","scale","page"],setup(e,{expose:t}){const i=async function(){const e=await Promise.resolve().then(n.bind(n,81747));e.GlobalWorkerOptions.workerSrc=new URL(n(10259),n.b).toString()},a=e,r=(0,l.KR)(null),s=(0,l.KR)(null);let c=null;const u=(0,l.KR)(!1),d=(0,l.KR)(null);let p=null;const f=async e=>{if(!c)return;u.value=!0;const t=await c.getPage(e),n=t.getViewport({scale:a.scale});if(!s.value)return;const o=s.value.getContext("2d");s.value.width=n.width,s.value.height=n.height;const l={canvasContext:o,viewport:n};p=t.render(l),await p.promise,u.value=!1},v=async()=>{if("object"===typeof a.url&&a.url instanceof File){const e=new FileReader;e.readAsArrayBuffer(a.url),e.onload=async e=>{c=await(0,k.getDocument)({data:e.target.result}).promise,d.value=c?._pdfInfo?.numPages,f(a.page)}}else"string"===typeof a.url&&(c=await(0,k.getDocument)(a.url).promise,d.value=c?._pdfInfo?.numPages,f(a.page))};return t({pages:d,isLoading:u,renderTask:p}),(0,o.sV)((async()=>{await i(),await v()})),(0,o.wB)((()=>[a.url]),v),(0,o.wB)((()=>[a.scale,a.page]),(()=>f(a.page))),(e,t)=>((0,o.uX)(),(0,o.CE)("div",{ref_key:"pdfContainer",ref:r,class:"pdf-container"},[(0,o.Lk)("canvas",{ref_key:"canvas",ref:s,class:"pdf-canvas"},null,512)],512))}};n(88433);const w=(0,h.A)(y,[["__scopeId","data-v-26753cf8"]]);var C=w;const x=4;var _=(0,o.pM)({__name:"PDFPreview",props:{url:{},sidebarCallback:{type:Function}},setup(e,{expose:t}){const n=[.25,.5,.75,.9,1,1.1,1.25,1.5,2,3,4],i=(e,t,n)=>e<=t?t:e>=n?n:e,a=e,r=(0,l.KR)(1),s=(0,l.KR)(null),c=(0,l.KR)(x);return t({pdf:s}),(e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(g,{onPdfPageNext:t[0]||(t[0]=()=>{r.value=i(r.value+1,1,s.value?.pages??1)}),onPdfPagePrev:t[1]||(t[1]=()=>{r.value=i(r.value-1,1,s.value?.pages??1)}),onPdfZoomIn:t[2]||(t[2]=()=>{c.value=i(c.value+1,0,n.length-1)}),onPdfZoomOut:t[3]||(t[3]=()=>{c.value=i(c.value-1,0,n.length-1)}),page:r.value,scale:n[c.value],sidebarCallback:e.sidebarCallback},null,8,["page","scale","sidebarCallback"]),(0,o.bF)(C,{ref_key:"pdf",ref:s,url:a.url,scale:n[c.value],page:r.value},null,8,["url","scale","page"])],64))}});const R=_;var A=R,O=n(8522),M=n(93117),E=n(72464);const P={class:"preview-container-pre"},F={key:0,class:"preview-standard-toolbar"},K={class:"preview-under-toolbar"},S={key:0},L={key:1,class:"preview-payload"},I={key:0,class:"pdf-preview"},j={key:1,class:"text-preview"},N={key:2,class:"image-preview"},B=["src"],T={key:3,class:"csv-preview"},W=500,X=260;var z=(0,o.pM)({__name:"PreviewPanel",props:(0,o.zz)(["url","mimetype"],{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=(0,l.KR)(),n=(0,l.KR)(),c=(0,l.KR)(),u=(0,l.KR)(""),d=(0,l.KR)(!1),p=()=>{const e=e=>{const t=window.innerWidth-(e.x-g.value/2);k.value=Math.min(Math.max(t,X),.9*window.innerWidth)},t=()=>{document.querySelector("body").removeEventListener("mousemove",e),document.querySelector("body").removeEventListener("mouseup",this)};document.querySelector("body").addEventListener("mousemove",e),document.querySelector("body").addEventListener("mouseup",t)},f=e=>e.startsWith("image/")?"image":"application/pdf"===e?"pdf":"text/csv"===e?"csv":"text/tsv"===e?"tsv":"application/vnd.ms-excel"===e||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e?"excel":"plaintext",v={"application/pdf":{overridesToolbar:!0,skipContents:!0},"image/png":{skipContents:!0},"text/csv":{hasRawToggle:!0},"text/tsv":{hasRawToggle:!0}},b=(0,l.KR)({isLoading:!1,contentLength:-1}),h=(0,l.KR)(!1),m=new TextDecoder,g=(0,l.KR)(5),k=(0,l.KR)(614+g.value),y=e,w=(0,o.fn)(e,"modelValue"),C=(0,o.EW)((()=>y.mimetype??u.value??"")),x=(0,l.KR)();let _=(0,o.EW)((()=>{const e=b.value?.contents,t=f(C.value);return"image"===t||"pdf"===t?"<loaded elsewhere via url>":e?0===e.length?"<file is 0 bytes>":"excel"===t?e:m.decode(e):""}));(0,o.wB)((()=>[_.value]),((e,t)=>{n.value&&(n.value.model=e[0])}));const R=(0,o.EW)((()=>{const e=y.url?.split("/");return e.length>0?e[e.length-1]:""})),z=async e=>{const t=await fetch(e,{method:"HEAD"});return["Content-Type","Content-Length"].map((e=>t.headers.get(e)))},Q=async e=>{x.value=new AbortController;const t=await fetch(e,{signal:x.value.signal});let n=[];for await(const l of t.body)n.push(l);if(0===n.length)return[];const o=new Uint8Array(n.map((e=>e.length)).reduce(((e,t)=>e+t)));return n.reduce(((e,t)=>(o.set(t,e),e+t.length)),0),o};return(0,o.wB)((()=>[y.url,y.mimetype]),(async(e,t)=>{t.length>=2&&"application/pdf"===t[1]&&console.log("interrupted pdf rendering for another preview"),b.value={isLoading:!0,contentLength:0};const n=setTimeout((()=>{h.value=!0}),W),[o,l]=await z(y.url);void 0===y.mimetype||null==y.mimetype?u.value=o:u.value=void 0,b.value.contentLength=parseInt(l,10),(v[y.mimetype]??{})?.skipContents||(b.value.contents=await Q(y.url)),b.value.isLoading=!1,h.value=!1,clearTimeout(n)})),(u,m)=>((0,o.uX)(),(0,o.Wv)((0,l.R1)(O.A),{visible:w.value,"onUpdate:visible":m[3]||(m[3]=e=>w.value=e),position:"right",style:(0,i.Tr)(`width: ${k.value}px; overflow:auto;`),modal:!1,dismissable:!1,ref_key:"sidebar",ref:t},{container:(0,o.k6)((({closeCallback:t})=>[(0,o.Lk)("div",P,[(0,o.Lk)("div",{class:"preview-draggable",style:(0,i.Tr)(`width: ${g.value}px;`),onMousedown:m[0]||(m[0]=(0,a.D$)((e=>p()),["left","prevent"]))},null,36),(0,o.Lk)("div",{class:"preview-container-main",style:(0,i.Tr)(`max-width: calc(100% - ${g.value}px);`)},[v[C.value]?.overridesToolbar?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",F,[(0,o.bF)((0,l.R1)(r.A),null,{start:(0,o.k6)((()=>[(0,o.bF)((0,l.R1)(s.A),{class:"preview-close",icon:"pi pi-times",onClick:t,severity:"danger"},null,8,["onClick"])])),center:(0,o.k6)((()=>[(0,o.Lk)("span",null,(0,i.v_)(R.value),1)])),end:(0,o.k6)((()=>[v[C.value]?.hasRawToggle?((0,o.uX)(),(0,o.Wv)((0,l.R1)(s.A),{key:0,class:"preview-raw",onClick:m[1]||(m[1]=e=>d.value=!d.value),label:d.value?"Rich View":"Raw View"},null,8,["label"])):(0,o.Q3)("",!0)])),_:2},1024)])),(0,o.Lk)("div",K,[h.value&&b.value.isLoading?((0,o.uX)(),(0,o.CE)("div",S,[(0,o.bF)((0,l.R1)(s.A),{class:"preview-cancel",onClick:m[2]||(m[2]=e=>x.value.abort()),severity:"danger",label:"Cancel Preview"}),(0,o.Lk)("span",null,"File is "+(0,i.v_)(b.value.contentLength/1e6)+" MB",1)])):(0,o.Q3)("",!0),b.value.isLoading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",L,["pdf"===f(C.value)?((0,o.uX)(),(0,o.CE)("div",I,[(0,o.bF)(A,{ref_key:"pdfPreviewRef",ref:c,url:e.url,sidebarCallback:t},null,8,["url","sidebarCallback"])])):(0,o.Q3)("",!0),"plaintext"===f(C.value)?((0,o.uX)(),(0,o.CE)("div",j,[(0,o.bF)(M.A,{"display-mode":"dark",modelValue:(0,l.R1)(_),ref_key:"codeEditorRef",ref:n,placeholder:"Loading...",language:"text/x-python"===C.value?"python":void 0},null,8,["modelValue","language"])])):(0,o.Q3)("",!0),"image"===f(C.value)?((0,o.uX)(),(0,o.CE)("div",N,[(0,o.Lk)("img",{src:e.url},null,8,B)])):(0,o.Q3)("",!0),["csv","tsv","excel"].includes(f(C.value))?((0,o.uX)(),(0,o.CE)("div",T,[d.value||b.value.isLoading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(E.A,{key:0,mimeBundle:{[C.value]:(0,l.R1)(_)}},null,8,["mimeBundle"])),d.value?((0,o.uX)(),(0,o.Wv)(M.A,{key:1,"display-mode":"dark",modelValue:(0,l.R1)(_),ref_key:"codeEditorRef",ref:n,placeholder:"Loading..."},null,8,["modelValue"])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)]))])],4)])])),_:1},8,["visible","style"]))}});n(64896);const Q=z;var V=Q},89571:function(e,t,n){"use strict";n.a(e,(async function(e,o){try{var l=n(27850),i=(n(96317),e([l]));l=(i.then?(await i)():i)[0];const a=l.A;t.A=a,o()}catch(a){o(a)}}))},27850:function(e,t,n){"use strict";n.a(e,(async function(e,o){try{n.d(t,{A:function(){return l.A}});var l=n(98207),i=e([l]);l=(i.then?(await i)():i)[0],o()}catch(a){o(a)}}))},96317:function(e,t,n){"use strict";n(23072)},36684:function(e,t,n){var o=n(2857);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=n(68459).A;l("e976810e",o,!0,{sourceMap:!1,shadowMode:!1})},88433:function(e,t,n){var o=n(64556);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=n(68459).A;l("0bc67f21",o,!0,{sourceMap:!1,shadowMode:!1})},7837:function(e,t,n){var o=n(71351);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=n(68459).A;l("95e63384",o,!0,{sourceMap:!1,shadowMode:!1})},64896:function(e,t,n){var o=n(67062);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=n(68459).A;l("1af7f9b5",o,!0,{sourceMap:!1,shadowMode:!1})},23072:function(e,t,n){var o=n(51546);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=n(68459).A;l("e48f5426",o,!0,{sourceMap:!1,shadowMode:!1})}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var i=t[o]={id:o,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",l=function(e){e&&e.d<1&&(e.d=1,e.forEach((function(e){e.r--})),e.forEach((function(e){e.r--?e.r++:e()})))},i=function(n){return n.map((function(n){if(null!==n&&"object"===typeof n){if(n[e])return n;if(n.then){var i=[];i.d=0,n.then((function(e){a[t]=e,l(i)}),(function(e){a[o]=e,l(i)}));var a={};return a[e]=function(e){e(i)},a}}var r={};return r[e]=function(){},r[t]=n,r}))};n.a=function(n,a,r){var s;r&&((s=[]).d=-1);var c,u,d,p=new Set,f=n.exports,v=new Promise((function(e,t){d=t,u=e}));v[t]=f,v[e]=function(e){s&&e(s),p.forEach(e),v["catch"]((function(){}))},n.exports=v,a((function(n){var l;c=i(n);var a=function(){return c.map((function(e){if(e[o])throw e[o];return e[t]}))},r=new Promise((function(t){l=function(){t(a)},l.r=0;var n=function(e){e!==s&&!p.has(e)&&(p.add(e),e&&!e.d&&(l.r++,e.push(l)))};c.map((function(t){t[e](n)}))}));return l.r?r:a()}),(function(e){e?d(v[o]=e):u(f),l(s)})),s&&s.d<0&&(s.d=0)}}(),function(){var e=[];n.O=function(t,o,l,i){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],l=e[u][1],i=e[u][2];for(var r=!0,s=0;s<o.length;s++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(r=!1,i<a&&(a=i));if(r){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,l,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(o,l){if(1&l&&(o=this(o)),8&l)return o;if("object"===typeof o&&o){if(4&l&&o.__esModule)return o;if(16&l&&"function"===typeof o.then)return o}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var r=2&l&&o;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(e){a[e]=function(){return o[e]}}));return a["default"]=function(){return o},n.d(i,a),i}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"static/js/"+e+"."+{100:"337eb321",113:"ff64ad07",119:"b16312bf",252:"1022d549",262:"fecbdd6a",408:"af9c3863",422:"c1865ea8",538:"e017895b",569:"21f38e30",577:"155616f4",661:"fb3a0995",725:"e8c956c8",727:"583bcbb5",809:"755815b7",824:"5aa41816",859:"a555ca99"}[e]+".js"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="beaker_vue:";n.l=function(o,l,i,a){if(e[o])e[o].push(l);else{var r,s;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+i){r=d;break}}r||(s=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+i),r.src=o),e[o]=[l];var p=function(t,n){r.onerror=r.onload=null,clearTimeout(f);var l=e[o];if(delete e[o],r.parentNode&&r.parentNode.removeChild(r),l&&l.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),s&&document.head.appendChild(r)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.j=57}(),function(){n.p="/"}(),function(){n.b=document.baseURI||self.location.href;var e={57:0};n.f.j=function(t,o){var l=n.o(e,t)?e[t]:void 0;if(0!==l)if(l)o.push(l[2]);else{var i=new Promise((function(n,o){l=e[t]=[n,o]}));o.push(l[2]=i);var a=n.p+n.u(t),r=new Error,s=function(o){if(n.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",r.name="ChunkLoadError",r.type=i,r.request=a,l[1](r)}};n.l(a,s,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var l,i,a=o[0],r=o[1],s=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(l in r)n.o(r,l)&&(n.m[l]=r[l]);if(s)var u=s(n)}for(t&&t(o);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},o=self["webpackChunkbeaker_vue"]=self["webpackChunkbeaker_vue"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504,996],(function(){return n(17871)}));o=n.O(o),beaker_vue=o})();
//# sourceMappingURL=index.01aa5171.js.map