var beaker_vue;(function(){var e={11584:function(e,t,n){"use strict";n.r(t);var o=n(31601),l=n.n(o),i=n(76314),a=n.n(i),r=a()(l());r.push([e.id,".execute-action-container>*{margin-bottom:1rem}.p-autocomplete-items .p-autocomplete-empty-message{padding-left:1rem}.custom-message .p-fieldset-content{width:100%;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.custom-message .p-autocomplete-input{height:2rem}.action-name-input,.code{width:100%}.code{border:1px solid var(--surface-b);flex:1}.docs{white-space:pre-wrap}",""]),t["default"]=r},59866:function(e,t,n){"use strict";n.r(t);var o=n(31601),l=n.n(o),i=n(76314),a=n.n(i),r=a()(l());r.push([e.id,".data-container{height:100%;width:100%;overflow-y:auto}.data-container .vjs-tree-node:hover{background-color:var(--surface-b)}.ml-2{margin-left:.5rem}.flex-container{display:flex;align-items:center;margin-bottom:.5rem;justify-content:space-between;flex-wrap:wrap}.log-container{padding:.5rem}.log-panel{margin-top:.5rem;position:relative;white-space:pre-wrap}.log-panel .p-panel-header{background:var(--surface-b);padding:.5rem 1rem}.log-panel .p-panel-content{padding:.5rem .75rem}.log-panel:before{content:attr(data-index);color:var(--gray-300);position:absolute;right:1rem;top:.4rem}.bottom-actions{width:100%;display:flex;margin-top:.5rem;justify-content:center;color:var(--text-color-secondary)}.sort-actions .p-button{border-color:var(--surface-d)}",""]),t["default"]=r},62499:function(e,t,n){"use strict";n.r(t);var o=n(31601),l=n.n(o),i=n(76314),a=n.n(i),r=a()(l());r.push([e.id,".p-accordion .p-accordion-header .p-accordion-header-link{background:var(--surface-a)}.mime-select-container{width:100%;display:flex;justify-content:flex-end;margin-bottom:1rem}.p-selectbutton .p-button.p-highlight{background:var(--surface-a);border:3px solid var(--gray-300);color:var(--primary-text-color)}.p-selectbutton .p-button.p-highlight:before{box-shadow:0 1px 2px 0 rgba(0,0,0,.02),0 1px 2px 0 rgba(0,0,0,.04)}.p-selectbutton .p-button{background:var(--gray-300);border:1px solid var(--gray-300);color:var(--text-color-secondary);transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s,outline-color .2s;height:2rem;font-size:.75rem}.preview-image{width:100%}.preview-container{margin-bottom:1rlh;word-wrap:break-word}.preview-container pre{white-space:pre-wrap}",""]),t["default"]=r},23633:function(e,t,n){"use strict";n.r(t);var o=n(31601),l=n.n(o),i=n(76314),a=n.n(i),r=a()(l());r.push([e.id,".notebook-container{display:flex;height:100%;max-width:100%}.beaker-notebook{flex:2 0 calc(50vw - 2px);border:2px solid var(--surface-border);border-radius:0;border-top:0;max-width:100%}.notebook-toolbar{border-style:inset;border-radius:0;border-top:unset;border-left:unset;border-right:unset}",""]),t["default"]=r},45285:function(e,t,n){"use strict";n.a(e,(async function(e,o){try{n(44114),n(14603),n(47566),n(98721);var l=n(56768),i=n(90144),a=n(85029),r=n(86560),s=n(91736),c=n(87747),u=n(56559),d=n(46365),f=n(21972),p=n(42775),v=n(43985),b=n(23645),h=n(70387),m=n(6410),g=n(78011),k=n(64528),y=n(24469),w=n(72845),C=n(85579),x=n(24660),_=n(43134),A=n(68384),R=n(42845),S=n(44543),O=e([d]);d=(O.then?(await O)():O)[0];const M={class:"notebook-container"},F={class:"welcome-placeholder"};t.A=(0,l.pM)({__name:"DevInterface",props:["config","connectionSettings","sessionName","sessionId","defaultKernel","renderers"],setup(e){const t=(0,i.KR)(),n=(0,i.KR)(),o=(0,i.KR)(),O=(0,i.KR)(),K=(0,i.KR)(),I=new URLSearchParams(window.location.search),E=I.has("session")?I.get("session"):"dev_session",j=e,L=[...f.dn.map((e=>new a.hC(e))).map(d.ft),d.oH,d.En,d.nk],N={code:_.A,markdown:A.A,query:R.A,raw:S.A},W=(0,i.KR)("connecting"),P=(0,i.KR)([]),X=(0,i.KR)([]),B=(0,i.KR)(),T=((0,i.KR)(),(0,i.KR)(null)),z=((0,i.KR)(),(0,i.KR)(null)),D=(0,i.KR)(!1),V=((0,i.KR)(!1),(0,i.KR)(null),(0,i.KR)(!1),(0,i.KR)()),Q=(0,i.KR)(),{theme:U,toggleDarkMode:q}=(0,l.WQ)("theme"),$=(0,l.EW)((()=>o?.value?.beakerSession)),Y=e=>{"preview"===e.header.msg_type?B.value=e.content:"debug_event"===e.header.msg_type&&P.value.push({type:e.content.event,body:e.content.body,timestamp:e.header.date})};(0,l.wB)((()=>n?.value?.notebook.cells),(e=>{0===e?.length&&n.value.insertCellBefore()}),{deep:!0});const G=(e,t)=>{/^complete_/.test(e.header.msg_type)||X.value.push({type:t,body:e,timestamp:e.header.date})},H=e=>{console.log("Unhandled message recieved",e)},J=e=>{W.value="idle"==e?"connected":e},Z=e=>{V.value?.selectPanel("action"),Q.value?.selectAction(e)},ee=(e,t)=>{const o=n.value;$.value?.session.loadNotebook(e),z.value=t;const i=o.notebook.cells.map((e=>e.id));i.includes(o.selectedCellId)||(0,l.dY)((()=>{o.selectCell(i[0])}))},te=async e=>{z.value=e,e&&(K.value?.selectPanel("Files"),await O.value.refresh(),await O.value.flashFile(e))},ne=()=>{n.value?.selectPrevCell()},oe=()=>{n.value?.selectNextCell()},le={},ie={"keydown.enter.ctrl.prevent.capture.in-cell":()=>{n.value?.selectedCell().execute(),n.value?.selectedCell().exit()},"keydown.enter.shift.prevent.capture.in-cell":()=>{const e=n.value?.selectedCell();e.execute(),n.value?.selectNextCell()||(n.value?.insertCellAfter(e,void 0,!0),(0,l.dY)((()=>{n.value?.selectedCell().enter()})))},"keydown.enter.exact.prevent.stop.!in-editor":()=>{n.value?.selectedCell().enter()},"keydown.esc.exact.prevent":()=>{n.value?.selectedCell().exit()},"keydown.up.!in-editor.prevent":ne,"keydown.k.!in-editor":ne,"keydown.down.!in-editor.prevent":oe,"keydown.j.!in-editor":oe,"keydown.a.prevent.!in-editor":e=>{const t=n.value;t?.selectedCell().exit(),t?.insertCellBefore()},"keydown.b.prevent.!in-editor":()=>{const e=n.value;e?.selectedCell().exit(),e?.insertCellAfter()},"keydown.d.!in-editor":()=>{const e=n.value,t=e.selectedCell(),o=()=>{delete le["d"]},l=le["d"];if(void 0===l){const e=setTimeout(o,1e3);le["d"]={cell_id:t.id,timeout:e}}else{const{cell_id:n,timeout:o}=le["d"];n===t.id&&(e?.removeCell(t),T.value=t.cell,delete le["d"]),o&&window.clearTimeout(o)}},"keydown.y.!in-editor":()=>{const e=n.value,t=e.selectedCell(),o=()=>{delete le["y"]},l=le["y"];if(void 0===l){const e=setTimeout(o,1e3);le["y"]={cell_id:t.id,timeout:e}}else{const{cell_id:e,timeout:n}=le["y"];e===t.id&&(T.value=t.cell,delete le["y"]),n&&window.clearTimeout(n)}},"keydown.p.!in-editor":e=>{const t=n.value;let o=(0,i.ux)(T.value);if(null!==o){const n=t.notebook.cells.map((e=>e.id));if(n.includes(o.id)){const e=o.constructor,t={...o,id:void 0,executionCount:void 0,busy:void 0,last_execution:void 0};o=new e(t)}"p"===e.key?t?.insertCellAfter(t.selectedCell(),o):"P"===e.key&&t?.insertCellBefore(t.selectedCell(),o),o.value=null}}};return(e,a)=>{const d=(0,l.gN)("autoscroll"),f=(0,l.gN)("keybindings");return(0,l.uX)(),(0,l.Wv)(s.A,{title:"Beaker Dev Interface","title-extra":z.value,connectionSettings:j.config,ref_key:"beakerInterfaceRef",ref:o,sessionName:"dev_interface",sessionId:(0,i.R1)(E),defaultKernel:"beaker_kernel",renderers:L,onIopubMsg:Y,onUnhandledMsg:H,onAnyMsg:G,onSessionStatusChanged:J,onOpenFile:ee},{"left-panel":(0,l.k6)((()=>[(0,l.bF)(C.A,{position:"left","show-label":!0,highlight:"line",expanded:!1,initialWidth:"20vi",maximized:D.value},{default:(0,l.k6)((()=>[(0,l.bF)(x.A,{label:"Info",icon:"pi pi-home"},{default:(0,l.k6)((()=>[(0,l.bF)(g.A,{context:t.value?.info,onActionSelected:Z},null,8,["context"])])),_:1}),(0,l.bF)(x.A,{id:"files",label:"Files",icon:"pi pi-file-export","no-overflow":""},{default:(0,l.k6)((()=>[(0,l.bF)(k.A,{ref_key:"filePanelRef",ref:O,onOpenFile:ee},null,512)])),_:1})])),_:1},8,["maximized"])])),"right-panel":(0,l.k6)((()=>[(0,l.bF)(C.A,{position:"right",ref_key:"rightMenu",ref:V,highlight:"line","show-label":!0,expanded:!1,initialWidth:"20vi",maximized:D.value},{default:(0,l.k6)((()=>[(0,l.bF)(x.A,{tabId:"preview",label:"Preview",icon:"pi pi-eye"},{default:(0,l.k6)((()=>[(0,l.bF)(y.A,{previewData:B.value},null,8,["previewData"])])),_:1}),(0,l.bF)(x.A,{tabId:"action",label:"Actions",icon:"pi pi-send"},{default:(0,l.k6)((()=>[(0,l.bF)((0,i.R1)(v.A),{class:"debug-card"},{title:(0,l.k6)((()=>[(0,l.eW)("Execute an Action")])),content:(0,l.k6)((()=>[(0,l.bF)(m.A,{ref_key:"executeActionRef",ref:Q,rawMessages:X.value},null,8,["rawMessages"])])),_:1})])),_:1}),(0,l.bF)(x.A,{tabId:"logging",label:"Logging",icon:"pi pi-list"},{default:(0,l.k6)((()=>[(0,l.bo)((0,l.bF)(b.A,{entries:P.value,onClearLogs:a[1]||(a[1]=e=>P.value.splice(0,P.value.length))},null,8,["entries"]),[[d]])])),_:1}),(0,l.bF)(x.A,{label:"Messages",icon:"pi pi-comments"},{default:(0,l.k6)((()=>[(0,l.bo)((0,l.bF)(b.A,{entries:X.value,onClearLogs:a[2]||(a[2]=e=>X.value.splice(0,X.value.length))},null,8,["entries"]),[[d]])])),_:1})])),_:1},8,["maximized"])])),default:(0,l.k6)((()=>[(0,l.Lk)("div",M,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(r.A,{ref_key:"beakerNotebookRef",ref:n,"cell-map":N},{default:(0,l.k6)((()=>[(0,l.bF)(c.A,{"default-severity":"",saveAvailable:!0,"save-as-filename":z.value,onNotebookSaved:te,onOpenFile:ee},{"end-extra":(0,l.k6)((()=>[(0,l.bF)((0,i.R1)(p.A),{onClick:a[0]||(a[0]=e=>{D.value=!D.value}),icon:"pi "+(D.value?"pi-window-minimize":"pi-window-maximize"),size:"small",text:""},null,8,["icon"])])),_:1},8,["save-as-filename"]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(u.A,{"selected-cell":n.value?.selectedCellId},{"notebook-background":(0,l.k6)((()=>[(0,l.Lk)("div",F,[(0,l.bF)(w.A)])])),_:1},8,["selected-cell"])),[[d]]),(0,l.bF)(h.A,{class:"agent-query-container"})])),_:1})),[[f,ie,void 0,{top:!0}]])])])),_:1},8,["title-extra","connectionSettings","sessionId"])}}}),o()}catch(M){o(M)}}))},34667:function(e,t,n){"use strict";n.a(e,(async function(e,o){try{n.r(t);var l=n(45130),i=n(99119),a=n(18648),r=n(26883),s=n(8271),c=n(73031),u=n(31577),d=n(98124),f=n(419),p=(n(96153),n(17198),n(47997)),v=e([c]);c=(v.then?(await v)():v)[0];const b=p.PageConfig.getBaseUrl();(async()=>{const e=p.URLExt.join(b,"/config"),t=await fetch(e),n=await t.json(),o=(0,l.Ef)(c.A,{config:n});o.use(i.Ay),o.use(r.A),o.use(f.Ay),o.directive("tooltip",a.A),o.directive("focustrap",s.A),o.directive("keybindings",u.c),o.directive("autoscroll",d.n),o.mount("#app")})(),o()}catch(b){o(b)}}))},77974:function(e,t,n){"use strict";n.d(t,{Cb:function(){return a},Kz:function(){return r},LF:function(){return l},ln:function(){return o}});n(14603),n(47566),n(98721);function o(){const e=new Date,t=60*e.getTimezoneOffset()*1e3,n=Number(e)-t,o=new Date(n);let l=o.toISOString();return l=l.split(".")[0],l=l.replace(/[:T]/g,"_"),l}function l(e,t,n){const o=new Blob([e],{type:n}),l=window.navigator;if(l.msSaveOrOpenBlob)l.msSaveBlob(o,t);else{const e=window.document.createElement("a");e.href=window.URL.createObjectURL(o),e.download=t,document.body.appendChild(e),e.click(),document.body.removeChild(e)}}const i=e=>{if("string"===typeof e.getAttribute("tabindex"))return!0};function a(e){while(void 0!==e&&null!==e&&e!==document.body){if(i(e))return e;e=e.parentElement}}function r(e){return Object.hasOwn(e,"ename")&&Object.hasOwn(e,"evalue")}},6410:function(e,t,n){"use strict";n.d(t,{A:function(){return x}});var o=n(56768),l=n(90144),i=n(24232),a=n(42775),r=n(24842),s=n(80930),c=n(3074),u=(n(73435),n(30353)),d=n(93117);const f={class:"execute-action-container"},p={class:"docs"},v={key:0},b={style:{"font-weight":"bold"}},h=(0,o.Lk)("br",null,null,-1),m=(0,o.Lk)("br",null,null,-1),g={key:1},k={class:"code"},y=(0,o.Lk)("h3",null,"Results:",-1);var w=(0,o.pM)({__name:"BeakerExecuteAction",props:["actions","rawMessages","selectedAction"],emits:["clearSelection"],setup(e,{expose:t,emit:n}){const w=e,C=n,x=(0,o.WQ)("session"),_=(0,o.WQ)("beakerSession"),A=(0,o.WQ)("show_toast"),R=(0,l.KR)(),S=(0,l.KR)("{\n}"),O=(0,l.KR)([]),M=(0,l.KR)(),F=(0,l.KR)(),K=(0,l.KR)(1),I=(0,l.KR)(void 0),E=(0,l.KR)(),j=((0,l.KR)(),(0,l.KR)()),L=()=>{I.value=`beaker-custom-${R.value}-${K.value}`,K.value+=1;const e=x.executeAction(R.value,JSON.parse(S.value),I.value);e.onResponse=async e=>{E.value=e},e.onReply=async e=>{j.value=e},e.done.then((()=>{A({title:"Success",detail:"Message processed."})}))},N=(0,o.EW)((()=>void 0!==w.actions?w.actions:_.activeContext?.info.actions)),W=(0,o.EW)((()=>Object.keys(N.value))),P=e=>{O.value=e.query?W.value.filter((t=>t.includes(e.query))):W.value},X=e=>{B(e.value)},B=e=>{F.value=e;const t=N.value[e];void 0!==t&&(R.value!==e&&(R.value=e),S.value=t.default_payload,M.value=t.docs)},T=(0,o.EW)((()=>I.value?w.rawMessages.filter((e=>e.body.header?.msg_id===I.value||e.body.parent_header?.msg_id===I.value)):[]));return(0,o.wB)((()=>w.selectedAction),(async e=>{void 0!==e&&(B(e),C("clearSelection"))})),t({selectAction:B}),(e,t)=>((0,o.uX)(),(0,o.CE)("div",f,[(0,o.bF)((0,l.R1)(r.A),{class:"action-name-input",placeholder:"Action Name",dropdown:"",modelValue:R.value,"onUpdate:modelValue":t[0]||(t[0]=e=>R.value=e),suggestions:O.value,onComplete:P,onItemSelect:X,dropdownClass:"ac-button"},null,8,["modelValue","suggestions"]),(0,o.Lk)("div",p,[F.value?((0,o.uX)(),(0,o.CE)("div",v,[(0,o.Lk)("span",b,(0,i.v_)(F.value),1),h,m,(0,o.Lk)("span",null,(0,i.v_)(M.value),1)])):((0,o.uX)(),(0,o.CE)("div",g," Select an action to see the docstring... "))]),(0,o.Lk)("div",k,[(0,o.eW)(" Action Payload "),(0,o.bF)(d.A,{"tab-size":2,language:"javascript",modelValue:S.value,"onUpdate:modelValue":t[1]||(t[1]=e=>S.value=e)},null,8,["modelValue"])]),(0,o.bF)((0,l.R1)(a.A),{icon:"pi pi-bolt",size:"small",onClick:L,label:"Send",iconPos:"right"}),y,(0,o.bF)((0,l.R1)(s.A),{legend:"Reply",toggleable:!0},{default:(0,o.k6)((()=>[j.value?((0,o.uX)(),(0,o.Wv)((0,l.R1)(c.A),{key:0,data:j.value},null,8,["data"])):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)((0,l.R1)(s.A),{legend:"Response (Optional)",toggleable:!0},{default:(0,o.k6)((()=>[E.value?((0,o.uX)(),(0,o.Wv)((0,l.R1)(c.A),{key:0,data:E.value},null,8,["data"])):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)((0,l.R1)(s.A),{legend:"Raw Messages (Debug)",toggleable:!0,collapsed:!0},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(T.value,((e,t)=>((0,o.uX)(),(0,o.Wv)((0,l.R1)(u.A),{class:(0,i.C4)(["log-panel",{odd:t%2!==0}]),"data-index":e.timestamp,key:`${e.type}-${e.timestamp}`,header:e.type},{default:(0,o.k6)((()=>[(0,o.bF)((0,l.R1)(c.A),{data:e.body,deep:2,showLength:"",showIcon:"",showDoubleQuotes:!0,showLineNumber:!1},null,8,["data"])])),_:2},1032,["class","data-index","header"])))),128))])),_:1})]))}});n(73882);const C=w;var x=C},23645:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});var o=n(56768),l=n(90144),i=n(24232),a=n(42775),r=n(52211),s=n(3074),c=(n(73435),n(30353));const u={class:"data-container"},d={class:"log-container"},f={class:"flex-container"},p={class:"p-input-icon-left",style:{padding:"0",margin:"0"}},v=(0,o.Lk)("i",{class:"pi pi-search"},null,-1),b={class:"sort-actions p-buttonset"},h={class:"bottom-actions"},m={key:1};var g=(0,o.pM)({__name:"LoggingPane",props:["entries","sortby"],emits:["clearLogs"],setup(e,{emit:t}){const n=e,g=(0,l.KR)(""),k=(0,l.KR)("asc"),y=(0,l.KR)([]),w=(0,o.EW)((()=>y.value.includes("quotes"))),C=(0,o.EW)((()=>y.value.includes("linenum"))),x=(0,o.EW)((()=>{const e=n.sortby||(e=>e.timestamp),t=(t,n)=>e(t)>e(n)?1:e(t)<e(n)?-1:0,o=(t,n)=>e(t)<e(n)?1:e(t)>e(n)?-1:0,l=n.entries?.filter((e=>e.type.includes(g.value)));return"asc"===k.value?l.sort(t):l.sort(o)}));return(e,t)=>{const n=(0,o.gN)("tooltip");return(0,o.uX)(),(0,o.CE)("div",u,[(0,o.Lk)("div",d,[(0,o.Lk)("div",f,[(0,o.Lk)("div",p,[v,(0,o.bF)((0,l.R1)(r.A),{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=e=>g.value=e),size:"small",placeholder:"Type"},null,8,["modelValue"])]),(0,o.Lk)("div",b,[(0,o.bo)((0,o.bF)((0,l.R1)(a.A),{onClick:t[1]||(t[1]=e=>k.value="asc"),outlined:"",size:"small",icon:"pi pi-sort-numeric-down","aria-label":"Sort Time Asc"},null,512),[[n,"Sort Asc",void 0,{bottom:!0}]]),(0,o.bo)((0,o.bF)((0,l.R1)(a.A),{onClick:t[2]||(t[2]=e=>k.value="desc"),outlined:"",size:"small",icon:"pi pi-sort-numeric-up-alt","aria-label":"Sort Time Desc"},null,512),[[n,"Sort Desc",void 0,{bottom:!0}]])])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(x.value,((e,t)=>((0,o.uX)(),(0,o.Wv)((0,l.R1)(c.A),{class:(0,i.C4)(["log-panel",{odd:t%2!==0}]),"data-index":e.timestamp,key:`${e.type}-${e.timestamp}`,header:e.type},{default:(0,o.k6)((()=>[(0,o.bF)((0,l.R1)(s.A),{data:e.body,deep:2,showLength:"",showIcon:"",showDoubleQuotes:w.value,showLineNumber:C.value},null,8,["data","showDoubleQuotes","showLineNumber"])])),_:2},1032,["class","data-index","header"])))),128)),(0,o.Lk)("div",h,[x.value.length?((0,o.uX)(),(0,o.Wv)((0,l.R1)(a.A),{key:0,label:"Clear Logs",severity:"warning",size:"small",onClick:t[3]||(t[3]=t=>e.$emit("clearLogs"))})):((0,o.uX)(),(0,o.CE)("p",m," No logs. Ensure debug is enabled on context configuration. "))])])])}}});n(48736);const k=g;var y=k},24469:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var o=n(56768),l=n(90144),i=n(44232),a=n(51752),r=n(80930),s=n(72464);const c={key:1};var u=(0,o.pM)({__name:"PreviewPane",props:{previewData:{}},setup(e){const t=e;return(e,n)=>t.previewData?((0,o.uX)(),(0,o.Wv)((0,l.R1)(i.A),{key:0,multiple:"",activeIndex:[0]},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.previewData,((e,t)=>((0,o.uX)(),(0,o.Wv)((0,l.R1)(a.A),{key:t,header:t.toString()},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e,((e,t)=>((0,o.uX)(),(0,o.Wv)((0,l.R1)(r.A),{class:"preview-container",key:t,legend:t.toString(),toggleable:!0},{default:(0,o.k6)((()=>[(0,o.bF)(s.A,{mimeBundle:e},null,8,["mimeBundle"])])),_:2},1032,["legend"])))),128))])),_:2},1032,["header"])))),128))])),_:1})):((0,o.uX)(),(0,o.CE)("div",c,"No preview yet"))}});n(88829);const d=u;var f=d},86560:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var o=n(50511),l=n(56768),i=n(90144),a=n(85029),r=n(89436);const s=(0,l.pM)({props:["cellMap","noEmptyStartingCell"],setup(e){const t=(0,l.WQ)("session"),n=(0,l.WQ)("beakerSession"),o=(0,i.KR)(t.notebook),a=(0,i.KR)(null);(0,l.Gt)("cell-component-mapping",e.cellMap);const r=(0,l.EW)((()=>t?.notebook?.cells?.length||0));return{session:t,beakerSession:n,notebook:o,selectedCellId:a,cellCount:r}},methods:{selectCell(e,t=!1,n=void 0){if(void 0===e)return"";let o;return o="string"===typeof e?e:Object.hasOwn(e,"cell")?e.cell.id:e.id,this.selectedCellId!==o&&(this.selectedCellId=o),(0,l.dY)((()=>{this.scrollCellIntoView(this.selectedCell()),t&&this.selectedCell().enter(n)})),this.selectedCellId},scrollCellIntoView(e){const t=e?.$?.vnode?.el;if(!t)return;const n=t.closest(".beaker-cell")??t;(0,r.A)(n,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})},selectedCell(){const e=this.beakerSession.findNotebookCellById(this.selectedCellId);return e||(this.notebook.cells.length>0?(this.selectedCellId=this.notebook.cells[0].id,this.beakerSession.findNotebookCellById(this.selectedCellId)):void 0)},nextCell(e){var t;if(t=void 0===e?this.notebook.cells.indexOf(this.selectedCell().cell):this.notebook.cells.indexOf(e),t>=0&&t<this.cellCount-1){const e=this.notebook.cells[t+1],n=e.id;return this.beakerSession.findNotebookCellById(n)}return null},prevCell(e){var t;if(t=void 0===e?this.notebook.cells.indexOf(this.selectedCell().cell):this.notebook.cells.indexOf(e),t>0){const e=this.notebook.cells[t-1],n=e.id;return this.beakerSession.findNotebookCellById(n)}return null},selectNextCell(e,t=!1){let n=this.nextCell(e);if(n)return this.selectCell(n,t);for(const o of this.notebook.cells)if(o.children){const n=o.children.indexOf(e);if(-1===n)continue;return n<=o.children.length-1?this.selectNextCell(o):this.selectCell(o.children[n+1],t)}return null},selectPrevCell(e,t=!1){let n=this.prevCell(e);return n?this.selectCell(n,t):null},insertCellBefore(e,t,n=!1){void 0===e&&(e=this.selectedCell()),void 0===t&&(t=new this.defaultCellModel({source:""}));const o=void 0===e?this.notebook.cells.length-1:this.notebook.cells.findIndex((t=>t===e.cell));return this.notebook.cells.splice(o,0,t),(0,l.dY)((()=>this.selectCell(t,n))),t},insertCellAfter(e,t,n=!1){void 0===e&&(e=this.selectedCell()),void 0===t&&(t=new this.defaultCellModel({source:""}));let o=void 0===e?this.notebook.cells.length-1:this.notebook.cells.findIndex((t=>t===e.cell));return this.notebook.cells.splice(o+1,0,t),(0,l.dY)((()=>this.selectCell(t,n))),t},removeCell(e){void 0===e&&(e=this.selectedCell());const t=this.notebook.cells.findIndex((t=>t===e.cell));if(t>-1)return e.cell.id===this.selectedCellId&&(this.selectNextCell()||this.selectPrevCell()),this.notebook.cutCell(t)},convertCellType(e,t){const n=this.notebook.cells.indexOf(e);if(-1===n)return void console.warn("attempted to convert cell not found in parent cell in place; cell not found");if(!Object.keys(this.cellMap).includes(t))return void console.warn("invalid cell type provided for conversion target");const o=new this.cellMap[t].modelClass({...e});o.cell_type=t,this.notebook.cells.splice(n,1,o)}},computed:{defaultCellModel(){if(this.cellMap&&this.cellMap.length>0){const e=Object.values(this.cellMap)[0].modelClass;return e}return a.yV}},beforeMount(){if((0,l.Gt)("notebook",this),this.beakerSession.notebookComponent=this,0===this.cellCount){if(this.noEmptyStartingCell)return;this.session.addCodeCell("")}},mounted(){this.noEmptyStartingCell||this.selectedCell()||(0,l.dY)((()=>{this.notebook.cells.length>0&&this.selectCell(this.notebook.cells[0].id)}))}});var c=s,u=(n(7424),n(71241));const d=(0,u.A)(c,[["render",o.X]]);var f=d},73031:function(e,t,n){"use strict";n.a(e,(async function(e,o){try{var l=n(20654),i=(n(26088),e([l]));l=(i.then?(await i)():i)[0];const a=l.A;t.A=a,o()}catch(a){o(a)}}))},20654:function(e,t,n){"use strict";n.a(e,(async function(e,o){try{n.d(t,{A:function(){return l.A}});var l=n(45285),i=e([l]);l=(i.then?(await i)():i)[0],o()}catch(a){o(a)}}))},26088:function(e,t,n){"use strict";n(28804)},73882:function(e,t,n){var o=n(11584);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=n(68459).A;l("a570fdb8",o,!0,{sourceMap:!1,shadowMode:!1})},48736:function(e,t,n){var o=n(59866);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=n(68459).A;l("f5c608e0",o,!0,{sourceMap:!1,shadowMode:!1})},88829:function(e,t,n){var o=n(62499);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=n(68459).A;l("119ee510",o,!0,{sourceMap:!1,shadowMode:!1})},28804:function(e,t,n){var o=n(23633);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=n(68459).A;l("7833b204",o,!0,{sourceMap:!1,shadowMode:!1})}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var i=t[o]={id:o,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",l=function(e){e&&e.d<1&&(e.d=1,e.forEach((function(e){e.r--})),e.forEach((function(e){e.r--?e.r++:e()})))},i=function(n){return n.map((function(n){if(null!==n&&"object"===typeof n){if(n[e])return n;if(n.then){var i=[];i.d=0,n.then((function(e){a[t]=e,l(i)}),(function(e){a[o]=e,l(i)}));var a={};return a[e]=function(e){e(i)},a}}var r={};return r[e]=function(){},r[t]=n,r}))};n.a=function(n,a,r){var s;r&&((s=[]).d=-1);var c,u,d,f=new Set,p=n.exports,v=new Promise((function(e,t){d=t,u=e}));v[t]=p,v[e]=function(e){s&&e(s),f.forEach(e),v["catch"]((function(){}))},n.exports=v,a((function(n){var l;c=i(n);var a=function(){return c.map((function(e){if(e[o])throw e[o];return e[t]}))},r=new Promise((function(t){l=function(){t(a)},l.r=0;var n=function(e){e!==s&&!f.has(e)&&(f.add(e),e&&!e.d&&(l.r++,e.push(l)))};c.map((function(t){t[e](n)}))}));return l.r?r:a()}),(function(e){e?d(v[o]=e):u(p),l(s)})),s&&s.d<0&&(s.d=0)}}(),function(){var e=[];n.O=function(t,o,l,i){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],l=e[u][1],i=e[u][2];for(var r=!0,s=0;s<o.length;s++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(r=!1,i<a&&(a=i));if(r){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,l,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(o,l){if(1&l&&(o=this(o)),8&l)return o;if("object"===typeof o&&o){if(4&l&&o.__esModule)return o;if(16&l&&"function"===typeof o.then)return o}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var r=2&l&&o;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(e){a[e]=function(){return o[e]}}));return a["default"]=function(){return o},n.d(i,a),i}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"static/js/"+e+"."+{100:"337eb321",113:"ff64ad07",119:"b16312bf",252:"1022d549",262:"fecbdd6a",408:"af9c3863",422:"c1865ea8",538:"e017895b",569:"21f38e30",577:"155616f4",661:"fb3a0995",725:"e8c956c8",727:"583bcbb5",809:"755815b7",824:"5aa41816",859:"a555ca99"}[e]+".js"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="beaker_vue:";n.l=function(o,l,i,a){if(e[o])e[o].push(l);else{var r,s;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+i){r=d;break}}r||(s=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+i),r.src=o),e[o]=[l];var f=function(t,n){r.onerror=r.onload=null,clearTimeout(p);var l=e[o];if(delete e[o],r.parentNode&&r.parentNode.removeChild(r),l&&l.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=f.bind(null,r.onerror),r.onload=f.bind(null,r.onload),s&&document.head.appendChild(r)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.j=508}(),function(){n.p="/"}(),function(){n.b=document.baseURI||self.location.href;var e={508:0};n.f.j=function(t,o){var l=n.o(e,t)?e[t]:void 0;if(0!==l)if(l)o.push(l[2]);else{var i=new Promise((function(n,o){l=e[t]=[n,o]}));o.push(l[2]=i);var a=n.p+n.u(t),r=new Error,s=function(o){if(n.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",r.name="ChunkLoadError",r.type=i,r.request=a,l[1](r)}};n.l(a,s,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var l,i,a=o[0],r=o[1],s=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(l in r)n.o(r,l)&&(n.m[l]=r[l]);if(s)var u=s(n)}for(t&&t(o);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},o=self["webpackChunkbeaker_vue"]=self["webpackChunkbeaker_vue"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504,996],(function(){return n(34667)}));o=n.O(o),beaker_vue=o})();
//# sourceMappingURL=dev.3b3a79b7.js.map